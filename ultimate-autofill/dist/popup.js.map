{
  "version": 3,
  "sources": ["../src/ui/popup/popup.ts"],
  "sourcesContent": ["import type { ExtMessage, ExtResponse } from '../../types/index';\n\nconst $ = <T extends HTMLElement>(id: string) => document.getElementById(id) as T;\n\nasync function send(msg: ExtMessage): Promise<ExtResponse> {\n  return chrome.runtime.sendMessage(msg);\n}\n\nfunction toast(text: string) {\n  const el = $('toast') as HTMLElement | null;\n  // popup doesn't have a toast element, just log\n  console.log('[UA]', text);\n}\n\nasync function init() {\n  // Load response count\n  const rr = await send({ type: 'GET_RESPONSES' });\n  if (rr?.ok && Array.isArray(rr.data)) {\n    $('respCount').textContent = `${rr.data.length} responses`;\n  }\n\n  // Load queue count\n  const qr = await send({ type: 'GET_JOB_QUEUE' });\n  if (qr?.ok && Array.isArray(qr.data)) {\n    $('queueCount').textContent = String(qr.data.length);\n  }\n\n  // Detect ATS on current page\n  try {\n    const ats = await send({ type: 'DETECT_ATS' });\n    if (ats?.ok && ats.data) {\n      const d = ats.data as { type: string; confidence: number };\n      if (d.type !== 'generic' && d.confidence > 0.3) {\n        const info = $('atsInfo');\n        info.style.display = 'block';\n        info.textContent = `Detected ATS: ${d.type} (${(d.confidence * 100).toFixed(0)}% confidence)`;\n      }\n    }\n  } catch {}\n\n  // Buttons\n  $('btnFill').addEventListener('click', async () => {\n    $('btnFill').classList.add('hidden');\n    $('btnStop').classList.remove('hidden');\n    $('dot').classList.remove('off');\n    $('dot').classList.add('on');\n    $('statusText').textContent = 'Running...';\n    await send({ type: 'START_AUTOFILL' });\n  });\n\n  $('btnStop').addEventListener('click', async () => {\n    $('btnStop').classList.add('hidden');\n    $('btnFill').classList.remove('hidden');\n    $('dot').classList.remove('on');\n    $('dot').classList.add('off');\n    $('statusText').textContent = 'Stopped';\n    await send({ type: 'STOP_AUTOFILL' });\n  });\n\n  $('btnResponses').addEventListener('click', () => {\n    chrome.runtime.openOptionsPage();\n  });\n\n  $('btnQueue').addEventListener('click', () => {\n    chrome.runtime.openOptionsPage();\n  });\n\n  $('openOptions').addEventListener('click', (e) => {\n    e.preventDefault();\n    chrome.runtime.openOptionsPage();\n  });\n}\n\ninit();\n"],
  "mappings": ";;;AAEA,MAAM,IAAI,CAAwB,OAAe,SAAS,eAAe,EAAE;AAE3E,iBAAe,KAAK,KAAuC;AACzD,WAAO,OAAO,QAAQ,YAAY,GAAG;AAAA,EACvC;AAQA,iBAAe,OAAO;AAEpB,UAAM,KAAK,MAAM,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAC/C,QAAI,IAAI,MAAM,MAAM,QAAQ,GAAG,IAAI,GAAG;AACpC,QAAE,WAAW,EAAE,cAAc,GAAG,GAAG,KAAK,MAAM;AAAA,IAChD;AAGA,UAAM,KAAK,MAAM,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAC/C,QAAI,IAAI,MAAM,MAAM,QAAQ,GAAG,IAAI,GAAG;AACpC,QAAE,YAAY,EAAE,cAAc,OAAO,GAAG,KAAK,MAAM;AAAA,IACrD;AAGA,QAAI;AACF,YAAM,MAAM,MAAM,KAAK,EAAE,MAAM,aAAa,CAAC;AAC7C,UAAI,KAAK,MAAM,IAAI,MAAM;AACvB,cAAM,IAAI,IAAI;AACd,YAAI,EAAE,SAAS,aAAa,EAAE,aAAa,KAAK;AAC9C,gBAAM,OAAO,EAAE,SAAS;AACxB,eAAK,MAAM,UAAU;AACrB,eAAK,cAAc,iBAAiB,EAAE,IAAI,MAAM,EAAE,aAAa,KAAK,QAAQ,CAAC,CAAC;AAAA,QAChF;AAAA,MACF;AAAA,IACF,QAAQ;AAAA,IAAC;AAGT,MAAE,SAAS,EAAE,iBAAiB,SAAS,YAAY;AACjD,QAAE,SAAS,EAAE,UAAU,IAAI,QAAQ;AACnC,QAAE,SAAS,EAAE,UAAU,OAAO,QAAQ;AACtC,QAAE,KAAK,EAAE,UAAU,OAAO,KAAK;AAC/B,QAAE,KAAK,EAAE,UAAU,IAAI,IAAI;AAC3B,QAAE,YAAY,EAAE,cAAc;AAC9B,YAAM,KAAK,EAAE,MAAM,iBAAiB,CAAC;AAAA,IACvC,CAAC;AAED,MAAE,SAAS,EAAE,iBAAiB,SAAS,YAAY;AACjD,QAAE,SAAS,EAAE,UAAU,IAAI,QAAQ;AACnC,QAAE,SAAS,EAAE,UAAU,OAAO,QAAQ;AACtC,QAAE,KAAK,EAAE,UAAU,OAAO,IAAI;AAC9B,QAAE,KAAK,EAAE,UAAU,IAAI,KAAK;AAC5B,QAAE,YAAY,EAAE,cAAc;AAC9B,YAAM,KAAK,EAAE,MAAM,gBAAgB,CAAC;AAAA,IACtC,CAAC;AAED,MAAE,cAAc,EAAE,iBAAiB,SAAS,MAAM;AAChD,aAAO,QAAQ,gBAAgB;AAAA,IACjC,CAAC;AAED,MAAE,UAAU,EAAE,iBAAiB,SAAS,MAAM;AAC5C,aAAO,QAAQ,gBAAgB;AAAA,IACjC,CAAC;AAED,MAAE,aAAa,EAAE,iBAAiB,SAAS,CAAC,MAAM;AAChD,QAAE,eAAe;AACjB,aAAO,QAAQ,gBAAgB;AAAA,IACjC,CAAC;AAAA,EACH;AAEA,OAAK;",
  "names": []
}
