var e,t;"function"==typeof(e=globalThis.define)&&(t=e,e=null),function(t,r,o,i,n){var l="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},s="function"==typeof l[i]&&l[i],a=s.cache||{},c="undefined"!=typeof module&&"function"==typeof module.require&&module.require.bind(module);function u(e,r){if(!a[e]){if(!t[e]){var o="function"==typeof l[i]&&l[i];if(!r&&o)return o(e,!0);if(s)return s(e,!0);if(c&&"string"==typeof e)return c(e);var n=Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}p.resolve=function(r){var o=t[e][1][r];return null!=o?o:r},p.cache={};var d=a[e]=new u.Module(e);t[e][0].call(d.exports,p,d,d.exports,this)}return a[e].exports;function p(e){var t=p.resolve(e);return!1===t?{}:u(t)}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=t,u.cache=a,u.parent=s,u.register=function(e,r){t[e]=[function(e,t){t.exports=r},{}]},Object.defineProperty(u,"root",{get:function(){return l[i]}}),l[i]=u;for(var d=0;d<r.length;d++)u(r[d]);if(o){var p=u(o);"object"==typeof exports&&"undefined"!=typeof module?module.exports=p:"function"==typeof e&&e.amd?e(function(){return p}):n&&(this[n]=p)}}({bSxCW:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"config",()=>h);var i=e("../services/autofill/logger"),n=e("../services/autofill/utils/progressTracker"),l=e("../services/autofill/utils/loginChecker"),s=e("../services/autofill/utils/elementFinder"),a=e("../services/autofill/platform-handlers/autofillOrchestrator"),c=e("~config/atsNames"),u=e("../services/autofill/platform-handlers/manualDetector/manualFormSubmit"),d=e("~helper/commonHelpers"),p=e("../services/autofill/platform-handlers"),m=e("~helper/contentScriptHelper"),f=e("./clickNotification"),g=e("./openSidePanelToast");let h={matches:["<all_urls>"],all_frames:!1,run_at:"document_end"};async function y(){await (0,a.waitForPageLoad)(),(0,i.log)(`Content script initialized: ${window.location.href}`);let e=await chrome.runtime.sendMessage({action:"COPILOT_TABID"}).catch(()=>{});if(w(),!e?.sameTab){(0,i.log)("checking...........");return}try{let e=await chrome.storage.local.get(["complexFormInProgress","complexFormData","autoApplyState"]);if(e.complexFormInProgress&&e.complexFormData){if(e.autoApplyState?.applicationState==="paused")for((0,i.log)("\u23f8\ufe0f Process is paused - waiting for resume before continuing...");;){await new Promise(e=>setTimeout(e,1e3));let e=await chrome.storage.local.get("autoApplyState"),t=e.autoApplyState?.applicationState;if("paused"!==t){if("stopped"===t||!e.autoApplyState){(0,i.log)("\u23f9\ufe0f Process stopped during pause");return}(0,i.log)("\u25b6\ufe0f Process resumed - continuing autofill...");break}}let t=e?.complexFormData?.applicationDetails?.ats_name,r=window.location.href.toLowerCase(),o=r.includes("/thanks")||r.includes("/thank-you")||r.includes("/success")||r.includes("/confirmation")||r.includes("/complete")||r.includes("/submitted");if(o&&!(0,c.atsNamesWithoutSuccessURLCheck).includes(t)){(0,i.log)("\u2705 On success page - skipping autofill resume and clearing storage"),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:"Application submitted successfully",url:window.location.href}).catch(()=>{});return}let{applicationDetails:n,complexInstructions:l,autoApplyEnabled:s}=e.complexFormData;if(l?.applicationStatus?.screenText){let e=Array.isArray(l.applicationStatus.screenText)?l.applicationStatus.screenText:[l.applicationStatus.screenText],t=document.body.innerText.toLowerCase();for(let r of e)if(r&&t.includes(r.toLowerCase())){(0,i.log)("\u2705 Success message detected on page - skipping autofill resume and clearing storage"),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:"Application submitted successfully",url:window.location.href}).catch(()=>{});return}}(0,i.log)("\uD83D\uDD04 Resuming in-progress complex form autofill after navigation");let a=e.complexFormData.currentDepth||0,u=a+1,d=e.complexFormData.maxDepth||10;(0,i.log)(`\ud83d Resuming at depth ${u}/${d}`),localStorage.setItem("setFormFillingProcess","true"),await new Promise(e=>setTimeout(e,2e3));let m=(0,p.PlatformHandlerFactory).getHandler();await m.handleComplexForm(n,l,s,u,d),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]);return}}catch(e){(0,i.log)("Error checking for in-progress complex form:",e)}try{await S()}catch(e){}}let b=()=>{if(document.getElementById("optimhire-missing-details"))return;let e=Object.assign(document.createElement("iframe"),{id:"optimhire-missing-details",src:chrome.runtime.getURL("tabs/missingDetails.html"),style:`
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100% !important;
      height: 100% !important;
      border: none !important;
      z-index: 2147483647 !important;
      background: transparent !important;
    `});document.body.style.overflow="hidden",document.body.appendChild(e)},w=()=>{chrome.runtime.onMessage.addListener((e,t,r)=>{if("PING"===e.type)return r({success:!0,ready:!0}),!1;if("CHECK_LOGIN_STATUS"===e.type)return(0,i.log)("Checking login status"),(async()=>{try{let t=await (0,l.checkLoginStatus)(e.loginConfig);(0,i.log)(`Login status: ${t?"LOGGED IN":"NOT LOGGED IN"}`),r({isLoggedIn:t})}catch(e){(0,i.logError)("Error checking login status",e),r({isLoggedIn:!1,error:e.message})}})(),!0;if("FILL_COMPLEX_FORM"===e.type)return(0,n.progressTracker).reset(),(0,i.log)("Starting complex form workflow with smart handler"),setTimeout(async()=>{try{await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),await (0,a.smartHandleComplexForm)(e.applicationDetails,e.complexInstructions,e.autoApplyEnabled)}catch(e){(0,i.logError)("Error during complex form handling",e),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"failure",message:e.message||"Error processing complex form",url:window.location.href}).catch(()=>{})}},0),r({acknowledged:!0}),!1;if("STOP_ALL_PROCESSES"===e.type)return(0,n.progressTracker).stop(),(0,f.removeHtmlNotificationAndBackdrop)(),r({success:!0}),!1;if("GET_IFRAME"===e.type)try{let t=e?.complexInstructions?.checkFormInIframe||e?.checkFormInIframe,o="boolean"==typeof t?t:t?.enabled??!0,i="object"==typeof t&&Array.isArray(t?.srcIncludes)?t.srcIncludes:[],n=null;return o&&(n=(0,d.findIframeSrcContainingAny)(i)),r(n||null),!0}catch(e){return(0,i.logError)(`Error checking for iframe: ${e}`),r(null),!0}if("CHECK_JOB_CLOSE"===e.type)return(0,i.log)("Check JOB close"),(async()=>{let t=e?.complexInstructions?.applicationStatus||e?.complexInstructions;try{if(t?.jobClosed&&Array.isArray(t.jobClosed))for(let o of t.jobClosed){if("screenText"===o.type&&o.screenText){let e=(0,s.isTextVisibleOnPage)(o.screenText);if(e){r({isJobClose:!0});return}}if("formChecker"===o.type&&o?.domSelector&&o?.domain){let t=document.querySelector(o.domSelector),n=await (0,m.findMatchingButtons)(e);if(!t&&-1===location.href.indexOf(o?.domain)&&!n){(0,i.logError)(`Job closed detected via domSelector: ${o.domSelector}`),r({isJobClose:!0});return}}if("toasterText"===o.type&&o.screenText){let e=(0,s.isTextVisibleOnPage)(o.screenText);if(e){(0,i.log)(`\u2705 Success indicator found (toast): "${o.screenText}"`),r({isJobClose:!0});return}}if("urlMatch"===o.type&&o.includes){let e=Array.isArray(o.includes)?o.includes:[o.includes];if(e.some(e=>window.location.href.includes(e))){r({isJobClose:!0});return}}}r({isJobClose:!1})}catch(e){(0,i.logError)("Error checking job closure",e),r({isJobClose:!1})}})(),!0;if("MANUALLY_FORM_SUBMIT"===e.type)return(async()=>{e?.applicationDetails?.application_id&&(0,u.handleManualForm)(e?.applicationDetails,e?.complexInstructions,e?.autoApplyEnabled)})(),!0;if("WORKDAY_NEXT_BUTTON_CLICK_USER_NOT_LOGGED_IN"===e.type)return(0,i.log)("Workday: checking next button for non-logged-in user"),(async()=>{try{let t=await (0,a.clickWorkdayNextButton)(e.multiFormData);r({success:t})}catch(e){(0,i.logError)("Workday next button click failed",e),r({success:!1,error:e?.message})}})(),!0;if("OPEN_MISSING_DETAILS_UI"===e.type)return(0,i.log)("\u2705 Opening Missing Details UI"),b(),r({ok:!0}),!0;if("REMOVE_TOAST"===e.type)return(0,g.removeToast)(),!0;if("START_FILLING_PROCESS_FORM"===e.type)return localStorage.setItem("setFormFillingProcess","true"),!0;if("SUCCESS_CONFINITY_SCREEN"===e.type)return(0,f.removeHtmlNotificationAndBackdrop)(),x(),!0;if("REMOVE_CONFINITY_SCREEN"===e.type){let e=document.getElementById("confinity-welcome-screen");e&&(e.remove(),document.body.style.overflow="")}return"REMOVE_AUTOFILL_NOTIFICATION"===e.type&&(0,f.removeHtmlNotificationAndBackdrop)(),!0})},S=async()=>{let e=await chrome.storage.local.get(["isManualSubmit","manualApplicationDetail","manualComplexInstructions","isMyApplication"]);e&&e?.isManualSubmit==!0&&e?.manualApplicationDetail&&e?.manualComplexInstructions&&(0,u.handleManualForm)(e?.manualApplicationDetail,e?.manualComplexInstructions,!1)},x=()=>{if(document.getElementById("confinity-welcome-screen"))return;let e=Object.assign(document.createElement("iframe"),{id:"confinity-welcome-screen",src:chrome.runtime.getURL("tabs/trackerPages.html"),style:`
      position: fixed !important;
      top: 0 !important;
      left: 0 !important;
      width: 100% !important;
      height: 100% !important;
      border: none !important;
      z-index: 2147483647 !important;
      background: transparent !important;
    `});document.body.style.overflow="hidden",document.body.appendChild(e)};y().catch(e=>{(0,i.logError)("Error initializing content script",e)}),window.addEventListener("message",async e=>{if(e.data&&"submitAnswers"===e.data.action){let t=e.data.data;(0,i.log)("Received submitAnswers message:",t),await (0,a.fillMissingDetailsHandler)(t)}if(e.data&&"closeMissingDetail"===e.data.action){(0,d.setIsMissingUIShowWithTime)(!1),(0,f.removeHtmlNotificationAndBackdrop)();let e=document.getElementById("optimhire-missing-details");e&&(e.remove(),document.body.style.overflow="")}if(e.data&&"closeConfinityScreen"===e.data.action){let e=document.getElementById("confinity-welcome-screen");e&&(e.remove(),document.body.style.overflow="")}e.data&&"SUCCESS_NETWORK"===e.data.type&&((0,i.log)("\u2705 SUCCESS_NETWORK event detected (application submitted)"),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:"successMessage",url:window.location.href,success_next_job:!0}).catch(()=>{}))});let v=document.createElement("script");v.src=chrome.runtime.getURL("assets/inject.js"),(document.head||document.documentElement).appendChild(v),r.default=y;try{chrome.storage.local.get("openSidepanelInTab",e=>{try{!1===e.openSidepanelInTab&&(0,g.showToast)()}catch(e){}})}catch(e){}try{document.addEventListener("click",e=>{try{let t=e.target;for(;t;){if(t.classList&&t.classList.contains("ignore-one-minute-backdrop"))return;t=t.parentElement}let r=document.querySelector("#optimhire-missing-details, #optimhire-toast-shadow-host");if(r){(0,f.removeHtmlNotificationAndBackdrop)(!1);return}"true"===localStorage.getItem("setFormFillingProcess")&&e.isTrusted&&"mouse"===e.pointerType&&((0,f.createNotificationHtmlBase)(),(0,f.showHtmlNotificationAt)(e.clientX,e.clientY))}catch(e){}},!0)}catch(e){}},{"../services/autofill/logger":"8IkKh","../services/autofill/utils/progressTracker":"cII7Q","../services/autofill/utils/loginChecker":"aCOwg","../services/autofill/utils/elementFinder":"inTYG","../services/autofill/platform-handlers/autofillOrchestrator":"iMUKJ","~config/atsNames":"j3GGH","../services/autofill/platform-handlers/manualDetector/manualFormSubmit":"dsyOD","~helper/commonHelpers":"gwFvg","../services/autofill/platform-handlers":"4re9M","~helper/contentScriptHelper":"k7ujZ","./clickNotification":"isG7X","./openSidePanelToast":"6YFM9","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"8IkKh":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"log",()=>n),o.export(r,"logError",()=>l),o.export(r,"logAPI",()=>s),o.export(r,"logSuccess",()=>a);var i=e("~config/optimhire");function n(e,...t){if(!i.CONTENT_LOG)return;let r=`\ud83d Content Script [${window.location.hostname}]:`;t.length>0?console.log(r,e,...t):console.log(r,e)}function l(e,t){if(!i.CONTENT_LOG)return;let r=`\u274c Content Script [${window.location.hostname}]:`;t?console.error(r,e,t):console.error(r,e)}function s(e,t){if(!i.CONTENT_LOG)return;let r=`\ud83d API [${window.location.hostname}]:`;t?console.log(r,e,t):console.log(r,e)}function a(e){i.CONTENT_LOG&&console.log(`\u2705 Content Script [${window.location.hostname}]:`,e)}},{"~config/optimhire":"h1TGN","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],h1TGN:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"GLOBAL_SUBAPP_URL",()=>n),o.export(r,"SERVICE_LOG",()=>l),o.export(r,"PANEL_LOG",()=>s),o.export(r,"CONTENT_LOG",()=>a),o.export(r,"OPTIMHIRE_CONFIG",()=>c);let i="https://optimhire.com",n="https://*.optimhire.com/*",l=!0,s=!0,a=!0,c={urls:{login:i+"/d/login",signup:i+"/d/signup",dashboard:i+"/dashboard",help:i+"/help",privacy:i+"/privacy",copilotSetup:i+"/d/copilot-form/1",upgrade:i+"/d/my-jobs?q=upgrade_copilot_plan",missingQuestions:i+"/d/screening-questions",myJobs:i+"/d/my-jobs",SearchJob:i+"/d/Search-job/",appURL:i,upgradeMembership:i+"/d/membership",upgradeMembershipModel:i+"/d/membership?openUpgradePlan=1",referralurl:i+"/d/my-jobs?openReferEarn=1",feedbackUrl:i+"/d/job-auto-applier-uninstall-feedback",updatepluginUrl:"chrome://extensions/",jobPostUrl:i+"/d/jv/",howItWorkUrl:"https://help.optimhire.com/how-to-use-the-optimhire-ai-job-auto-applier-extension/",whyOptimHireUrl:"https://help.optimhire.com/why-use-the-optimhire-ai-job-auto-applier/"},api:{baseUrl:i+"/api/v1",authTokenKey:"Talent_Auth_Token",candidateId:"developer_id"},support:{phone1:"+1 (415) 525 1604",phone2:"+1 (415) 718 7963",email:"support@optimhire.com"},extension:{version:"0.0.1",name:"OptimHire Copilot"},popup:{width:360},autoApply:{autoSkipDuration:180,loginWaitDuration:600,pageLoadDelay:3e3,mockDataType:"complex"},storage:{keys:{appliedCount:"appliedCount",autoApplyState:"autoApplyState",candidateDetails:"candidateDetails",preferredJobsite:"preferredJobsite"}},messages:{types:{stateUpdate:"AUTO_APPLY_STATE_UPDATE",candidateLoaded:"CANDIDATE_DETAILS_LOADED",authError:"AUTH_ERROR",autofillCompleted:"AUTOFILL_COMPLETED",formSubmitted:"FORM_SUBMITTED",complexFormError:"COMPLEX_FORM_ERROR"}},applicationStatus:{codes:{success:"1",error:"2",skipped:"4",notProcessed:"0"}},appCookie:{isPilotRunning:"isPilotRunning",at:"at",did:"did"},liveATS:["dice","jazzhr","indeed","workable","breezyhr","lever","manatal","greenhouse","workday","ziprecruiter","ziprecruiterpaid","jobvite","paylocity"]}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],fRZO2:[function(e,t,r){r.interopDefault=function(e){return e&&e.__esModule?e:{default:e}},r.defineInteropFlag=function(e){Object.defineProperty(e,"__esModule",{value:!0})},r.exportAll=function(e,t){return Object.keys(e).forEach(function(r){"default"===r||"__esModule"===r||t.hasOwnProperty(r)||Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[r]}})}),t},r.export=function(e,t,r){Object.defineProperty(e,t,{enumerable:!0,get:r})}},{}],cII7Q:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"progressTracker",()=>i);let i=new class{isStopped(){return this.state.isStopped}getProgress(){return 0===this.state.totalFields?0:Math.floor(this.state.filledFields/this.state.totalFields*100)}getState(){return{...this.state}}stop(){this.state.isStopped=!0}reset(){this.state={isPaused:!1,isStopped:!1,currentFieldIndex:0,totalFields:0,filledFields:0,fieldMappings:[]}}setTotalFields(e){this.state.totalFields=e}incrementFilledFields(){this.state.filledFields++}setCurrentFieldIndex(e){this.state.currentFieldIndex=e}sendProgressUpdate(e){chrome.runtime.sendMessage({type:"AUTOFILL_PROGRESS_UPDATE",progress:e.progress,statusMessage:e.statusMessage,fieldsCount:e.fieldsCount}).catch(()=>{})}constructor(){this.state={isPaused:!1,isStopped:!1,currentFieldIndex:0,totalFields:0,filledFields:0,fieldMappings:[]}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aCOwg:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"checkLoginStatus",()=>l);var i=e("../logger");async function n(e,t){try{let r=t||window.location.hostname,o=await new Promise(t=>{chrome.runtime.sendMessage({action:"CHECK_COOKIE",cookieName:e,domain:r},t)});return!!(o&&o.exists)}catch(t){return(0,i.logError)(`Error checking cookie: ${e}`,t),!1}}async function l(e){if(!e||!Array.isArray(e)||0===e.length)return!1;for(let t of e){let e=(t.type||"").toLowerCase();if("cookie"===e&&(t.cookieName||t.name)){let e=await n(t.cookieName||t.name,t.cookieDomain);if(e)return(0,i.logSuccess)("Login verified via cookie"),!0}}for(let t of e){let e=(t.type||"").toLowerCase();if("domselector"===e&&Array.isArray(t.domSelector)){let e=document.querySelector(t?.domSelector?.join(","));if(e)return(0,i.logSuccess)("Login verified via cookie"),!0}}for(let t of e){let e=(t.type||"").toLowerCase();if("request"===e&&t.url)try{let e=new AbortController,r=setTimeout(()=>{e.abort()},15e3),o=await fetch(t.url,{method:"GET",credentials:"include",redirect:"manual",signal:e.signal,headers:{Accept:"application/json"}});clearTimeout(r);let n=t.expectedStatusCode||200;if("opaqueredirect"===o.type)return!1;if(o.status===n)return(0,i.logSuccess)("Login verified via request"),!0}catch(e){return"AbortError"!==e.name&&(0,i.logError)("Error checking login via request",e),!1}}return(0,i.logError)("Login verification failed - user not logged in"),!1}},{"../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],inTYG:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"cleanQuestionText",()=>l),o.export(r,"questionsMatch",()=>a),o.export(r,"findElementByQuestion",()=>c),o.export(r,"isTextVisibleOnPage",()=>d),o.export(r,"findAndClickButton",()=>p),o.export(r,"getDepth",()=>m),o.export(r,"waitForCondition",()=>f),o.export(r,"findFieldByQuestion",()=>g);var i=e("../config/website-rules.config"),n=e("../logger");function l(e){if(!e)return e;let t=e.trim().replace(/\*/g,"").replace(/\s+/g," ").replace(/\*\s*$/,"").replace(/\u2731\s*$/,"").replace(/\u2731/g,"").trim();t=t=(t=(t=(t=t.replace(/\s*\(maximum\s+\d+\s+characters\)/gi,"")).replace(/\s*\(optional\)/gi,"")).replace(/\s*\(numbers only\)\s*$/i,"").trim()).replace(/\s*\((mm\/dd\/yyyy|mm\/yyyy|yyyy-mm-dd|mm|yyyy)\)\s*$/i,"").trim();let r=t.match(/\?\s*\(/);if(r&&void 0!==r.index){let o=r.index;t=t.substring(0,o+1).trim();let i=r?.input?.search(/\(Select one\)/i);i>-1&&(t=e.substring(0,i).trim())}return t}function s(e){if(!(0,i.isGreenhouse)())return null;(0,n.log)("\uD83D\uDD0D [Select2] Checking element for Select2:",e.tagName,e.getAttribute("id")||e.getAttribute("name"));let t=e.closest(".select2-container");if(t){(0,n.log)("\u2713 Found Select2 container:",t.getAttribute("id"));let e=t.previousElementSibling;if(e&&"SELECT"===e.tagName)return(0,n.log)("\u2713 Found select as previous sibling"),e;if((e=t.nextElementSibling)&&"SELECT"===e.tagName)return(0,n.log)("\u2713 Found select as next sibling"),e;let r=t.parentElement;if(r){let e=r.querySelector("select");if(e)return(0,n.log)("\u2713 Found select in parent element"),e}}let r=e.getAttribute("id");if(r&&r.startsWith("s2id_")){(0,n.log)("\u2713 Element has s2id_ prefix, extracting original ID");let e=r.replace(/^s2id_/,""),t=document.getElementById(e);if(t&&"SELECT"===t.tagName)return(0,n.log)("\u2713 Found original select by ID:",e),t}let o=e.closest("label");if(o){(0,n.log)("\u2713 Checking parent label for hidden select");let e=o.querySelector('select[style*="display: none"], select[style*="display:none"], select[style*="display:none"]');if(e)return(0,n.log)("\u2713 Found hidden select in parent label"),e;let t=o.querySelector("select");if(t)return(0,n.log)("\u2713 Found select in parent label"),t;let r=o.nextElementSibling;if(r){let e=r.querySelector("select");if(e)return(0,n.log)("\u2713 Found select in next sibling of label"),e}}return(0,n.log)("\u26a0\ufe0f No Select2 select found for element"),null}function a(e,t){let r=l(e),o=l(t),i=r.toLowerCase().trim().replace(/[?!.,]/g,""),n=o.toLowerCase().trim().replace(/[?!.,]/g,"");if(i===n||i.includes(n)&&i.length<3*n.length||n.includes(i)&&n.length<3*i.length)return!0;let s=Math.min(i.length,n.length),a=Math.floor(.8*s);return a>10&&i.substring(0,a)===n.substring(0,a)}function c(e,t){if(!e)return null;let r=l(e),o=r.replace(/\((mm|yyyy|mm\/dd\/yyyy|yyyy-mm-dd)\)/gi,"").toLowerCase().trim(),i=document.querySelectorAll('[data-testid^="input-q_"][data-testid$="-label"]');for(let t of i){let r=t.querySelector('[data-testid="rich-text"]');if(r){let i=l(r.textContent||"").toLowerCase().trim();if(i===o||a(r.textContent||"",e)){let r=t.getAttribute("data-testid")||"",o=r.match(/input-(q_[a-f0-9]+)-label/);if(o&&o[1]){let t=o[1],r=document.querySelector(`[name="${t}"]`);if(r&&!u(r))return(0,n.log)(`\u2713 [Indeed TestID Match] Found element for "${e}": ${r.tagName}(name="${t}")`),r}}}}let c=document.querySelectorAll('.application-question, [class*="application-question"]');for(let t of c){let r=t.querySelector('.application-label, [class*="application-label"]');if(r){let o=r.querySelector('.text, [class*="text"]'),i=o?.textContent||r.textContent||"";if(a(i,e)){let r=l(i||"").toLowerCase().trim(),o=l(e||"").toLowerCase().trim();if(o!==r)continue;let n=t.querySelector('.application-field, [class*="application-field"]');if(n){let e=n.querySelector('input:not([type="hidden"]):not([name*="baseTemplate"]), textarea:not([name*="baseTemplate"]), select:not([name*="baseTemplate"])');if(e&&!u(e))return e}let s=t.querySelector('input:not([type="hidden"]):not([name*="baseTemplate"]), textarea:not([name*="baseTemplate"]), select:not([name*="baseTemplate"])');if(s&&!u(s))return s}}}let d=t?.fieldConfig?.fieldWrapper,p=t?.fieldConfig?.labelSelector;if(d&&p){let t=document.querySelectorAll(d);for(let r of Array.from(t)){let t=r.querySelector(p);if(t){let o=(t.textContent||"").trim(),i=l(o).toLowerCase().trim(),s=l(e).toLowerCase().trim();if(i===s){let t=r.querySelector("input:not([type='hidden']), select, textarea");if(t&&!u(t))return(0,n.log)(`\u2713 [Universal FieldConfig] Found element for "${e}": ${t.tagName} in "${d}"`),t}let a=t.cloneNode(!0);a.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg, a[href]").forEach(e=>e.remove());let c=l(a.textContent||"").toLowerCase().trim();if(c===s){let t=r.querySelector("input:not([type='hidden']), select, textarea");if(t&&!u(t))return(0,n.log)(`\u2713 [Universal FieldConfig] Found element for "${e}": ${t.tagName} in "${d}"`),t}}}}if(d&&p){let t=document.querySelectorAll(d);for(let r of Array.from(t)){let t=r.querySelectorAll(p);for(let o of Array.from(t)){let t=(o.textContent||"").trim(),i=l(t).toLowerCase().trim(),s=l(e).toLowerCase().trim();if(i===s){let t=o.querySelector("input:not([type='hidden']), select, textarea");if(!t){let e=o.getAttribute("for");e&&(t=r.querySelector(`#${CSS.escape(e)}`))}if(t&&!u(t))return(0,n.log)(`\u2713 [Universal FieldConfig] Found element for "${e}"`),t}}}}let m=document.querySelectorAll("label, .application-label");for(let e of m){let t=e.cloneNode(!0);t.querySelectorAll("label").forEach(e=>{let t=e?.querySelector('input[type="checkbox"], input[type="radio"]');t&&e.remove()}),t.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg").forEach(e=>e.remove());let r=l(t.textContent||"").toLowerCase().trim();if(r){if(r!==o){t.querySelectorAll("p").forEach(e=>e.remove());let e=l(t.textContent||"").toLowerCase().trim();if(!e||e!==o)continue}if(r.includes(o)||o.includes(r)){let t=e.getAttribute("for");if(t){let e=document.getElementById(t),r=e?.tagName!=="INPUT"||e?.getAttribute("type")!=="hidden";if(e&&r){if(e.getAttribute("id")?.includes("dev-field")||e.getAttribute("name")?.includes("dev_field")){(0,n.log)("\u26a0\ufe0f Skipping dev field (honeypot):",e.getAttribute("id"));continue}let t=s(e);return t||e}}let r=e.querySelector("select");if(r&&r instanceof HTMLSelectElement)return(0,n.log)("\uD83D\uDD0D Found SELECT in label:",r.getAttribute("id")||r.getAttribute("name")),r;let o=e.querySelector('input:not([type="hidden"]), textarea');if(o){if(o.getAttribute("id")?.includes("dev-field")||o.getAttribute("name")?.includes("dev_field")){(0,n.log)("\u26a0\ufe0f Skipping dev field in label");continue}let e=s(o);if(e)return(0,n.log)("\uD83D\uDD0D Found real select via Select2 detection:",e.getAttribute("id")||e.getAttribute("name")),e;return o}let i=e.nextElementSibling;for(;i;){if(i.matches("input, textarea, select")){let e=i;if(u(e)){i=i.nextElementSibling;continue}let t=s(e);return t||e}let e=i.querySelector('input:not([type="hidden"]), textarea, select');if(e){if(u(e)){i=i.nextElementSibling;continue}let t=s(e);return t||e}i=i.nextElementSibling}}}}let f=document?.querySelectorAll("legend");for(let e of f){let t=e?.cloneNode(!0),r=l(t?.textContent||"").toLowerCase().trim();if(!r||r!==o)continue;let i=e.nextElementSibling;for(;i;){let e=i.querySelector('input:not([type="hidden"]), textarea, select');if(e){if(!e){i=i.nextElementSibling;continue}let t=s(e);return t||e}i=i.nextElementSibling}}let g=document.querySelectorAll('[class*="styles__label--"]');for(let t of g){let r=l(t?.textContent)?.replace(/\s*\(Optional\)\s*$/i,"").toLowerCase().trim();if(r===e.toLowerCase().trim()){let e=t.nextElementSibling;if(e){if(e.matches('[role="group"]')||e.matches('[role="radiogroup"]'))return e;if(e.matches('[class*="styles__select--"]'))return e?.querySelector('[role="combobox"]')}}}let h=document.querySelectorAll("[placeholder]");for(let e of h){if(u(e))continue;let t=e.getAttribute("placeholder")?.toLowerCase().trim()||"";if(t&&(t.includes(o)||o.includes(t)))return e}let y=document.querySelectorAll("[aria-label]");for(let e of y){if(u(e))continue;let t=e.getAttribute("aria-label")?.toLowerCase().trim()||"";if(t.includes(o)||o.includes(t)&&t)return e}let b=document.querySelectorAll("input, textarea, select");for(let e of b){if(u(e))continue;let t=e.getAttribute("name")?.toLowerCase()||"",r=e.getAttribute("id")?.toLowerCase()||"",i=o.replace(/[^a-z0-9]/g,""),n=t.replace(/[^a-z0-9]/g,""),l=r.replace(/[^a-z0-9]/g,"");if(n&&i.includes(n)||l&&i.includes(l))return e}let w=document.querySelectorAll('p, h1, h2, h3, h4, h5, h6, label, div[class*="question"], div[class*="label"]');for(let t of w){let r=t.textContent?.trim()||"",o=(r.match(/\?\*/g)||[]).length;if(!(o>3)&&a(r,e)){let o=l(r||"").toLowerCase().trim(),i=l(e||"").toLowerCase().trim();if(o!==i&&o!==(e||"").toLowerCase().trim())continue;let n=t?.querySelector("select");if("LABEL"===t.tagName&&n&&"SELECT"===n.tagName)return n;let s=t?.nextElementSibling;if("H3"===t.tagName&&s&&!s.hasAttribute("hidden")&&null!==s.offsetParent&&("INPUT"===s.tagName&&"text"===s.type||"TEXTAREA"===s.tagName))return s;if("DIV"===t.tagName&&t&&t.className.indexOf("_question ")>-1){let e=t.querySelector('input:not([type="hidden"])');if(e)return e}let c=t.parentElement?.nextElementSibling,u=0;for(;c&&u<5;){let e=c.querySelector("input, textarea, select"),t=c.querySelector('[role="combobox"]'),r=c.querySelector('[role="radiogroup"]');if(r)return r;if(t)return t;if(e)return e;c=c.nextElementSibling,u++}let d=t?.nextElementSibling;for(;d;){let t=d.querySelector?.("input");if(t){let r=t.nextElementSibling?.textContent||"";return a(r,e),t}d=d.nextElementSibling}let p=t.parentElement,m=p.querySelector("input");if(m&&!("hidden"===m.type||m.hasAttribute("hidden")||null===m.offsetParent))return m;let f=0;for(;p&&f<5;){let e=p.nextElementSibling;if(e){let t=e.querySelector("input, textarea, select"),r=e.querySelector('[role="combobox"]'),o=e.querySelector('[role="radiogroup"]');if(o)return o;if(r)return r;if(t)return t}p=p.parentElement,f++}}}let S=document.querySelectorAll("fieldset");for(let t of S){let r=t?.previousElementSibling?.textContent?.trim()||"";if(a(r,e)){let e=t?.querySelector('[role="radio"] input');if(e)return e}}let x=document.querySelectorAll("div, fieldset, section");for(let t of x){let r=t.textContent?.trim()||"";if(a(r,e)){if(r?.trim()?.toLocaleLowerCase().indexOf(e?.trim()?.toLocaleLowerCase())===-1)continue;let o=t.querySelector('[role="radiogroup"]');if(o)return o;let i=t.querySelector('[role="combobox"]');if(i)return i;let n=t.querySelectorAll('input[type="radio"], input[type="checkbox"], input, textarea, select');if(n.length>0){let e=t.querySelector('input[type="radio"]');if(e&&n.length>1)return e;if(1===n.length)return n[0];for(let e of n)if(null!==e.offsetParent)return e}}}for(let t of b){let r=t.parentElement,o=0;for(;r&&o<5;){let i=r.textContent?.trim()||"";if(a(i,e)){if(t.getAttribute("id")?.includes("dev-field")||t.getAttribute("name")?.includes("dev_field"))continue;if("radio"===t.getAttribute("type"))return t;let e=r.querySelectorAll('input:not([type="radio"]), textarea, select');if(1===e.length)return t}r=r.parentElement,o++}}return null}function u(e){if("hidden"===e.getAttribute("type"))return!0;let t=window.getComputedStyle(e),r="none"!==t.display&&("hidden"!==t.visibility||e.getAttribute("ng-required")?.toLowerCase()==="field.required");if(!r)return!0;if((0,i.isGreenhouse)()){if(e.getAttribute("id")?.includes("dev-field")||e.getAttribute("name")?.includes("dev_field"))return!0;let t=e.closest("#dev-fields");if(t||e.classList.contains("location-city")||e.classList.contains("location-state")||e.classList.contains("location-country")||e.classList.contains("location-latitude")||e.classList.contains("location-longitude")||e.classList.contains("location-postal-code"))return!0}return!1}function d(e){if(!e)return!1;let t=document.body.innerText||document.body.textContent||"";return t.toLowerCase().includes(e.toLowerCase())}function p(e){if(!e)return!1;let t=Array.from(document.querySelectorAll("*")),r=[];for(let o of t){let t=o.textContent?.trim()||o.value||"";if(t.toLowerCase().includes(e.toLowerCase())){let e=null!==o.offsetParent,t=o.hasAttribute("disabled");e&&!t&&r.push(o)}}if(r.sort((e,t)=>m(t)-m(e)),r.length>0){let e=r[0],t=[new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window}),new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window}),new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}),new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0}),new PointerEvent("pointerup",{bubbles:!0,cancelable:!0})];return t.forEach(t=>e.dispatchEvent(t)),e.click(),!0}return!1}function m(e){let t=0,r=e;for(;r;)t++,r=r.parentNode;return t}async function f(e,t=5e3,r=500){let o=Date.now();for(;Date.now()-o<t;){if(e())return!0;await new Promise(e=>setTimeout(e,r))}return!1}function g(e,t){try{if(!e)return[];let r=l(e),o=r.replace(/\((mm|yyyy|mm\/dd\/yyyy|yyyy-mm-dd)\)/gi,"").toLowerCase().trim(),i=[];try{let t=document.querySelectorAll('[data-testid^="input-q_"][data-testid$="-label"]');for(let r of t){let t=r.querySelector('[data-testid="rich-text"]');if(t){let s=l(t.textContent||"").toLowerCase().trim();if(s===o||a(t.textContent||"",e)){let t=r.getAttribute("data-testid")||"",o=t.match(/input-(q_[a-f0-9]+)-label/);if(o?.[1]){let t=o[1],r=document.querySelector(`[name="${t}"]`);r&&!u(r)&&((0,n.log)(`\u2713 [Indeed Match] "${e}" \u2192 ${r.tagName}(name="${t}")`),i.push(r))}}}}}catch(e){}try{let t=document.querySelectorAll(".application-question, [class*='application-question']");for(let r of t){let t=r.querySelector(".application-label, [class*='application-label']");if(!t)continue;let s=t.querySelector(".text, [class*='text']"),c=s?.textContent||t.textContent||"";if(!a(c,e))continue;let d=l(c).toLowerCase().trim();if(d!==o)continue;let p=r.querySelector(".application-field, [class*='application-field']"),m=e=>e.querySelector('input:not([type="hidden"]):not([name*="baseTemplate"]), textarea:not([name*="baseTemplate"]), select:not([name*="baseTemplate"])'),f=p?m(p):null;f||(f=m(r)),f&&!u(f)&&((0,n.log)(`\u2713 [Lever Match] "${e}" \u2192 ${f.tagName}`),i.push(f))}}catch(e){}try{let r=t?.fieldConfig?.fieldWrapper,s=t?.fieldConfig?.labelSelector;if(r&&s){let t=document.querySelectorAll(r);for(let c of t){let t=c.querySelector(s);if(!t)continue;let d=(t.textContent||"").trim(),p=l(d).toLowerCase().trim();if(p===o||a(d,e)){let t=c.querySelector("input:not([type='hidden']), select, textarea");t&&!u(t)&&((0,n.log)(`\u2713 [Universal Match] "${e}" in "${r}"`),i.push(t))}}}}catch(e){}return 0===i.length&&(0,n.log)(`\u2717 No match found for "${e}"`),i}catch(e){return[]}}},{"../config/website-rules.config":"18hEH","../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"18hEH":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"WEBSITE_RULES",()=>i),o.export(r,"WebsiteRulesManager",()=>n),o.export(r,"isIndeed",()=>l),o.export(r,"isGreenhouse",()=>s),o.export(r,"isLever",()=>a),o.export(r,"isWorkday",()=>c),o.export(r,"isTaleo",()=>u),o.export(r,"getCurrentWebsite",()=>d);let i={indeed:{name:"Indeed",domains:["indeed.com"],features:{customQuestionExtraction:!0,customOptionExtraction:!0,demographicQuestions:!0,customRadioExtraction:!0,customAlreadyAppliedCheck:!0},selectors:{questionContainer:'[data-testid="single-select-question"]',questionLabel:'label[id*="single-select-question-label"]',richText:'[data-testid="rich-text"]',demographicQuestionPattern:"Question",alreadyAppliedContainer:"div.ia-IndeedApplyButton"}},greenhouse:{name:"Greenhouse",domains:["greenhouse.io","boards.greenhouse.io"],features:{customFileUpload:!0,requiresButtonTrigger:!0,usesCustomComponents:!0},selectors:{fileUploadContainer:'.attach-or-paste[data-field="resume"]',fileUploadButton:'button[data-source="attach"]',resumeFieldset:"#resume_fieldset",resumeTextarea:"#resume_text"}},lever:{name:"Lever",domains:["lever.co","jobs.lever.co"],features:{customQuestionExtraction:!0,usesCustomComponents:!0},selectors:{questionContainer:".application-question",questionLabel:".application-label",fieldContainer:".application-field",answerText:".application-answer-alternative"}},workday:{name:"Workday",domains:["myworkdayjobs.com","wd1.myworkdayjobs.com","wd5.myworkdayjobs.com"],features:{usesCustomComponents:!0,customQuestionExtraction:!0},selectors:{questionContainer:'[data-automation-id*="formField"]'}},taleo:{name:"Taleo",domains:["taleo.net"],features:{},selectors:{}}};class n{static{this.currentWebsite=null}static{this.currentRule=null}static detect(e){let t=e||window.location.href,r=e?new URL(e).hostname:window.location.hostname;if(this.currentRule&&this.matchesCurrentUrl(t))return this.currentRule;for(let[e,o]of Object.entries(i))for(let i of o.domains)if(r.includes(i)||t.includes(i))return this.currentWebsite=e,this.currentRule=o,o;return this.currentWebsite=null,this.currentRule=null,null}static is(e,t){let r=i[e.toLowerCase()];if(!r)return!1;let o=t||window.location.href,n=t?new URL(t).hostname:window.location.hostname;return r.domains.some(e=>n.includes(e)||o.includes(e))}static getCurrent(e){return this.detect(e)}static hasFeature(e,t){let r=this.detect(t);return!!r&&!0===r.features[e]}static getSelector(e,t){let r=this.detect(t);return r&&r.selectors&&r.selectors[e]||null}static getCurrentWebsiteName(e){let t=this.detect(e);return t?t.name:null}static matchesCurrentUrl(e){if(!this.currentRule)return!1;let t=new URL(e).hostname;return this.currentRule.domains.some(r=>t.includes(r)||e.includes(r))}static reset(){this.currentWebsite=null,this.currentRule=null}static getAllRules(){return i}static isSupported(e){return e.toLowerCase() in i}}function l(e){return n.is("indeed",e)}function s(e){return n.is("greenhouse",e)}function a(e){return n.is("lever",e)}function c(e){return n.is("workday",e)}function u(e){return n.is("taleo",e)}function d(e){let t=n.getCurrent(e);return{name:t?t.name:null,rule:t}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],iMUKJ:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"waitForPageLoad",()=>f),o.export(r,"autofillForm",()=>g),o.export(r,"smartHandleComplexForm",()=>h),o.export(r,"fillMissingDetailsHandler",()=>y),o.export(r,"isAutocompleteField",()=>b),o.export(r,"fillLocationAutocomplete",()=>w),o.export(r,"getAddressLabelByInput",()=>x),o.export(r,"clickWorkdayNextButton",()=>v),o.export(r,"fillSalaryAndNoticePeriodFields",()=>C);var i=e("../logger"),n=e("../utils/progressTracker"),l=e("../utils/formFiller"),s=e("../utils/FileFieldFiller"),a=e("../config/website-rules.config"),c=e("../utils/AsyncUtils"),u=e("~helper/commonHelpers"),d=e("../utils/elementFinder"),p=e("./PlatformHandlerFactory"),m=e("./universal/questionCollector");async function f(){return"complete"===document.readyState?Promise.resolve():new Promise(e=>{"interactive"===document.readyState||"complete"===document.readyState?e():window.addEventListener("DOMContentLoaded",()=>{e()},{once:!0})})}async function g(e,t=!0){(0,i.log)("Starting basic autofill");let r=(0,m.getBasicFieldMappings)(e),o=0;for(let t=0;t<r.length;t++){if((0,n.progressTracker).isStopped()){(0,i.log)("\u23f9\ufe0f Process stopped");return}let s=r[t];if(!s.value)continue;let a=!1;for(let t of s.selectors){let r=document.querySelectorAll(t);for(let t of r)if(t&&("text"===t.type||"email"===t.type||"tel"===t.type||"TEXTAREA"===t.tagName)&&!["mm","yyyy","mm/dd/yyyy","yyyy-mm-dd"].includes(t.placeholder?.toLowerCase()||"")){if(t?.value)continue;let r=["hispanic_ethnicity","employment_company_name_"];if(r.some(e=>t.id?.toLowerCase().includes(e))){(0,i.log)(`\u23ed\ufe0f Skipping input: ${t.id||t.name}`);continue}if((0,l.fillInput)(t,s.value)){(0,u.sendATSQuestionResult)(s.label,!0),(0,u.scrollToElement)(t),o++,(0,i.log)(`\u2713 Filled ${s.label}: "${s.value}"`),a=!0;let r=b(t);if(r){await (0,c.AsyncUtils).sleep(1e3);let r=t.getAttribute("list")||t.getAttribute("aria-controls");if(r){let o=document.getElementById(r);if(o){let r=Array.from(o.querySelectorAll('[role="option"], option')),n=!1,l=r.find(t=>e.mobile_code&&t.textContent?.toLowerCase().includes(e.mobile_code.toLowerCase()));l&&(l.click(),(0,i.log)(`\u2705 Selected preferred autocomplete option for ${t.name||t.id} matching "${e.mobile_code}"`),n=!0),!n&&r.length>0&&(r[0].click(),(0,i.log)(`\u2705 Selected first available autocomplete option for ${t.name||t.id}`),n=!0),n||(0,i.log)(`\u26a0\ufe0f No options found for autocomplete field: ${t.name||t.id}`)}}}break}(0,u.sendATSQuestionResult)(s.label,!1)}if(a)break}await (0,c.AsyncUtils).sleep(250)}let d=null;try{let t=await chrome.storage.local.get(["complexFormData","manualComplexInstructions"]);if(t.manualComplexInstructions?d=t.manualComplexInstructions:t.complexFormData?.complexInstructions&&(d=t.complexFormData.complexInstructions),d){let t=await C(e,d);t&&t>0&&(0,i.log)(`\u2705 Filled ${t} salary/notice period field(s)`)}}catch(e){(0,i.logError)("Failed to load complexInstructions from storage:",e)}let p=(()=>{if(e.address&&e.address.trim())return e.address.trim();let t=[];return(e.city&&e.city.trim()&&t.push(e.city.trim()),e.state&&e.state.trim()&&t.push(e.state.trim()),e.zip&&e.zip>0&&t.push(e.zip.toString()),t.length>0)?t.join(", "):e.country&&e.country.trim()?e.country.trim():""})();if(p){let e=await w(p);e.success&&(o++,(0,u.sendATSQuestionResult)(e.label,!0))}if(e.resume){let t=!1;if((0,a.isGreenhouse)()){(0,i.log)("Attempting Greenhouse resume upload...");let r=(0,s.FileFieldFiller).findGreenhouseFileInput();if(r||((0,i.log)("File input not found, triggering Attach button..."),r=await (0,s.FileFieldFiller).triggerGreenhouseAttachButton()),r){(0,i.log)("Found Greenhouse file input, uploading...");let n=await (0,l.uploadResume)(r,e.resume);n&&(o++,t=!0,(0,i.log)("\u2713 Greenhouse resume uploaded successfully"))}else(0,i.log)("Could not find Greenhouse file input")}if(!t){let r=document.querySelectorAll('input[type="file"]');for(let s of r){let r=s.name?.toLowerCase().includes("resume")||s.id?.toLowerCase().includes("resume")||s.placeholder?.toLowerCase().includes("resume")||s.accept?.includes("pdf")||s.accept?.includes("doc"),u=(s.getAttribute("aria-describedby")||"").toLowerCase(),d=(s.getAttribute("placeholder")||"").toLowerCase();if(u.includes("cover")&&u.includes("letter")||d.includes("cover letter"))continue;if(!r){let e=s.closest(".form-group")?.querySelector("label");if(e){let t=e.textContent?.toLowerCase()||"";t.includes("resume")&&(r=!0)}}if(!r){let e=s.parentNode?.querySelector("label");if(e){let t=e.textContent?.toLowerCase()||"";t.includes("file")&&(r=!0)}}let p=s?.parentElement?.parentElement?.previousElementSibling;if(!p||p.tagName?.toLowerCase()!=="p"||p.textContent?.trim().toLowerCase()!=="cover letter"){if(!r){let e=s?.closest('[data-automation-id="resumeUpload"]');if(e&&(r=!0),!e){let e=s?.closest('[role="group"]');if(!e)continue;let t=e.getAttribute("aria-labelledby")?.toLowerCase().trim(),o=e?.querySelector('[data-automation-id="file-upload-successful"]');"resume/cv-section"===t&&e.querySelector('[aria-hidden="true"]')&&!o&&(r=!0)}}if((0,n.progressTracker).isStopped()){(0,i.log)("\u23f9\ufe0f Process stopped");return}if(r){let r=await (0,l.uploadResume)(s,e.resume);r&&(o++,t=!0,(0,a.isWorkday)()&&await (0,c.AsyncUtils).sleep(1500));break}}}}t||(0,i.log)("\u26a0\ufe0f Could not find resume upload field")}if(e.gender){let t=e.gender.toLowerCase().trim(),r=document.querySelectorAll("select");for(let e of r)if(e.name?.toLowerCase().includes("gender")){let r=Array.from(e.options),n=r.find(e=>e.value.toLowerCase().trim()===t||e.textContent?.toLowerCase().trim()===t);n&&(e.value=n.value,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),o++,(0,i.log)(`\u2713 Selected gender (SELECT): ${n.value}`))}let n=document.querySelectorAll('input[type="radio"]');for(let r of n)r.name?.toLowerCase().includes("gender")&&r.value?.toLowerCase()===t&&(r.checked=!0,r.dispatchEvent(new Event("change",{bubbles:!0})),o++,(0,i.log)(`\u2713 Selected gender (RADIO): ${e.gender}`))}let f=document.querySelectorAll('ul[data-qa="checkboxes"], [class*="checkbox"]');for(let e of f){let t=e.querySelectorAll('input[type="checkbox"]');if(1===t.length){let e=t[0];if(!e.checked){let t=(e.closest(".application-question, li, div")?.textContent||"").toLowerCase(),r=t.includes("understand")||t.includes("agree")||t.includes("consent")||t.includes("acknowledge")||t.includes("accept")||t.includes("confirm")||t.includes("certify");r&&(e.click(),e.checked=!0,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("click",{bubbles:!0})),o++,await new Promise(e=>setTimeout(e,300)))}}}return(0,i.logSuccess)(`Basic autofill completed: ${o} fields filled`),!0}async function h(e,t,r){let o=(0,p.PlatformHandlerFactory).getHandler();await o.handleComplexForm(e,t,r)}async function y(e){let t=(0,p.PlatformHandlerFactory).getHandler();await t.handleMissingQuestions(e)}function b(e){if(!e)return!1;let t=e.getAttribute("aria-autocomplete"),r=e.getAttribute("aria-controls");return t&&"list"===t.toLowerCase()||!!r}async function w(e){if(!e||""===e.trim())return{success:!1,label:""};try{let t=document.querySelector('input[name*="address"], input[id*="address"], textarea[name*="address"], input[id*="candidate-location"], input[name*="job_application[location]"]');if(!t)return(0,i.log)("\u26a0\ufe0f  location input not found"),{success:!1,label:""};let r=x(t);(0,i.log)(`\ud83d Filling  location autocomplete: "${e}"`);let o=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set;t.click(),await (0,c.AsyncUtils).sleep(100),t.focus(),await (0,c.AsyncUtils).sleep(100),o?o.call(t,""):t.value="",t.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),await (0,c.AsyncUtils).sleep(200),(0,i.log)(`\u2328\ufe0f Typing location character by character: "${e}"`);for(let r=0;r<e.length;r++){let i=e[r],n=e.substring(0,r+1);o?o.call(t,n):t.value=n,t.dispatchEvent(new KeyboardEvent("keydown",{key:i,code:`Key${i.toUpperCase()}`,bubbles:!0,composed:!0})),t.dispatchEvent(new KeyboardEvent("keypress",{key:i,code:`Key${i.toUpperCase()}`,bubbles:!0,composed:!0})),t.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),t.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0,inputType:"insertText",data:i})),t.dispatchEvent(new KeyboardEvent("keyup",{key:i,code:`Key${i.toUpperCase()}`,bubbles:!0,composed:!0})),await (0,c.AsyncUtils).sleep(100)}t.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(0,i.log)(`\u2713 Finished typing location: "${e}"`),(0,i.log)("\u23f3 Waiting for location dropdown to appear..."),await (0,c.AsyncUtils).sleep(1e3);let n=null,l=0;for(;l<10;){if((n=document.querySelector(".dropdown-container"))&&"none"!==n.style.display){(0,i.log)("\u2713 Location dropdown appeared");break}(0,i.log)(`\u23f3 Waiting for dropdown to appear... (${l+1}/10)`),await (0,c.AsyncUtils).sleep(300),l++}if(!n||"none"===n.style.display)return(0,i.log)("\u26a0\ufe0f Location dropdown did not appear - keeping typed value"),t.dispatchEvent(new KeyboardEvent("keydown",{key:"ArrowDown",code:"ArrowDown",bubbles:!0,composed:!0})),await (0,c.AsyncUtils).sleep(150),t.dispatchEvent(new KeyboardEvent("keydown",{key:"Enter",code:"Enter",bubbles:!0,composed:!0})),t.dispatchEvent(new KeyboardEvent("keyup",{key:"Enter",code:"Enter",bubbles:!0,composed:!0})),await (0,c.AsyncUtils).sleep(400),t.blur(),{success:!0,label:r};let s=0,a=!1;for(;s<150;){let e=n.querySelector(".dropdown-loading-results"),t=n.querySelector(".dropdown-results"),r=n.querySelector(".dropdown-no-results"),o=!e||"none"===e.style.display,l=t?.querySelector(".dropdown-location"),u=!!l,d=r&&"none"!==r.style.display;if(o&&(u||d)){a=u,(0,i.log)(a?"\u2713 Location results loaded":"\u26a0\ufe0f No location results found");break}s%5==0&&(0,i.log)(`\u23f3 Waiting for location search to complete... (${s+1}/150)`),await (0,c.AsyncUtils).sleep(200),s++}let u=n.querySelector(".dropdown-results"),d=n.querySelector(".dropdown-no-results"),p=u?.querySelector(".dropdown-location");if(d&&"none"!==d.style.display)return(0,i.log)(`\u26a0\ufe0f No location results found for: "${e}"`),t.blur(),{success:!0,label:r};if(!p)return(0,i.log)(`\u26a0\ufe0f No location options found in dropdown after ${s} attempts`),t.blur(),{success:!0,label:e};let m=p.textContent?.trim()||e;(0,i.log)(`\u2713 Selecting first location option: "${m}"`),p.scrollIntoView({block:"nearest"}),await (0,c.AsyncUtils).sleep(200),p.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,composed:!0,view:window})),await (0,c.AsyncUtils).sleep(100),p.dispatchEvent(new MouseEvent("mouseover",{bubbles:!0,composed:!0,view:window})),await (0,c.AsyncUtils).sleep(100),p.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,composed:!0,view:window,button:0,buttons:1})),await (0,c.AsyncUtils).sleep(100),"function"==typeof p.focus&&(p.focus(),await (0,c.AsyncUtils).sleep(50)),p.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,composed:!0,view:window,button:0,buttons:0})),await (0,c.AsyncUtils).sleep(100),p.click(),await (0,c.AsyncUtils).sleep(200),p.dispatchEvent(new MouseEvent("click",{bubbles:!0,composed:!0,view:window,button:0})),await (0,c.AsyncUtils).sleep(500);let f=document.querySelector(".dropdown-container"),g=f&&"none"!==f.style.display;g&&((0,i.log)("\u26a0\ufe0f Dropdown still visible after click, clicking outside to close..."),t.click(),await (0,c.AsyncUtils).sleep(100),t.blur(),await (0,c.AsyncUtils).sleep(200));let h=t.value,y=document.getElementById("selected-location"),b=y?.value;return(0,i.log)(`\u2705  location filled: "${m}"`),(0,i.log)(`   Input value: "${h}"`),(0,i.log)(`   Selected location (hidden): ${b||"not set"}`),{success:!0,label:r}}catch(e){return(0,i.logError)("Error filling  location autocomplete",e),{success:!1,label:""}}}let S=e=>{if(!e)return"";let t=e.cloneNode(!0);t.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg, a[href]").forEach(e=>e.remove());let r=t.textContent?.trim()||"";return r.includes("Note:")&&(r=r.split("Note:")[0].trim()),(0,d.cleanQuestionText)(r)},x=e=>{if(!e)return"";if(e.id){let t=document.querySelector(`label[for="${CSS.escape(e.id)}"]`),r=S(t);if(r)return r}let t=e.closest("label"),r=S(t);if(r)return r;let o=e.closest(".form-group, .field, .input-group, .application-field");if(o){let e=o.querySelector("label"),t=S(e);if(t)return t}return""},v=async(e,t=15e3)=>{if(!Array.isArray(e)||0===e.length)return!1;let r=e.filter(e=>"nextButtonText"===e.type&&e.nextButtonText).map(e=>e.nextButtonText.toLowerCase().trim());if(0===r.length)return!1;let o=Date.now();for(;Date.now()-o<t;){let e=Array.from(document.querySelectorAll('button, input[type="submit"], input[type="button"], [role="button"], a'));for(let t of e){let e=(t.textContent||t.value||"").toLowerCase().trim();if(!e||!r.some(t=>e.includes(t)))continue;let o=null!==t.offsetParent,n=t.hasAttribute("disabled")||t.disabled,l=!!document.querySelector('[data-role="dialog-container"]');if(o&&!n&&!l)return t.click(),(0,i.logSuccess)(`Clicked Workday button: ${e}`),!0}await (0,c.AsyncUtils).sleep(1e3)}return!1},C=async(e,t)=>{try{if(!e)return(0,i.log)("\u26a0\ufe0f No seeker info provided for salary/notice period filling"),0;let r=e.desired_pay,o=e.expected_salary,n=e.current_salary,l=e.notice_period_in_days,s=o??r??n,a=(e.currency_type||"USD").toUpperCase(),c={USD:"1",EUR:"2",GBP:"51",CAD:"34",AUD:"4",INR:"9",JPY:"65",CNY:"14",SGD:"13",HKD:"7",AED:"18",SAR:"95",THB:"3",PHP:"11",PKR:"12",MYR:"10",BRL:"5",MXN:"77",ZAR:"15"},p=c[a]||c.USD,m=0,f=t?.fillSalaryandNoticePeriodFields;if(Array.isArray(f)&&f.length>0){for(let e of((0,i.log)(`\ud83d Using complexInstructions.fillSalaryandNoticePeriodFields configuration`),f))try{if(!e.type||!e.labelText){(0,i.log)(`\u26a0\ufe0f Skipping invalid config: ${JSON.stringify(e)}`);continue}let t=(e.type||"").toLowerCase(),c=e.labelText;if("salary"===t){let e;let t=[["remuneration",n??s],["current",n??s],["expected",o??r??s],["expectation",o??r??s],["desired",r??s]];for(let[r,o]of t)if(c.toLowerCase().includes(r)){e=o;break}if(void 0===e&&(e=s),!e){(0,i.log)(`\u26a0\ufe0f No salary amount found for label: ${c}`);continue}let l=Array.from(document.querySelectorAll("label, .form-group label, h3")),f=!1;for(let t of l){let r=(0,d.cleanQuestionText)(t.textContent||"").toLowerCase();if(r.includes(c.toLowerCase())){let r=[".desired-salary",".form-group",".row",'div[class*="form"]',".section.questions"],o=!1;for(let i of r){let r=A(t,[i]);if(r&&(o=await E({targetContainer:r,labelText:c,amount:e},p,a)))break}if(o){(0,u.sendATSQuestionResult)(c,!0),await new Promise(e=>setTimeout(e,100)),m++,f=!0;break}}}f||(0,i.log)(`\u26a0\ufe0f Could not find container/input for salary label: ${c}`)}else if("notice"===t){if(null==l){(0,i.log)(`\u26a0\ufe0f No notice period found for label: ${c}`);continue}let e=Array.from(document.querySelectorAll("label, .form-group label, h3, span")),t=!1;for(let r of e){let e=(0,d.cleanQuestionText)(r.textContent)||"";if(e.includes(c)){let e=A(r,[".form-group",".row",'div[class*="form"]']);if(!e)continue;let o=await k({targetContainer:e,noticePeriodDays:l,labelName:r.textContent?.trim()||c});if(o){(0,u.sendATSQuestionResult)(c,!0),await new Promise(e=>setTimeout(e,100)),m++,t=!0;break}}}t||(0,i.log)(`\u26a0\ufe0f Could not find container/input for notice period label: ${c}`)}else(0,i.log)(`\u26a0\ufe0f Unknown field type: ${t} for label: ${c}`)}catch(t){(0,i.log)(`\u274c Error processing config entry "${JSON.stringify(e)}": ${t.message}`)}return(0,i.log)(`\u2705 Salary and notice period field filling complete. Filled ${m} field(s)`),m}if((0,i.log)(`\ud83d No complexInstructions.fillSalaryandNoticePeriodFields found, using default behavior`),s||r||o||n)for(let e of["Remuneration","Expected Salary","Current Salary","Expected Salary (Monthly)","Expected Monthly Salary","Current Salary (Monthly)","Expectation Salary"]){let t=Array.from(document.querySelectorAll("label, .form-group label, h3")),l=!1;for(let c of t)try{let t=c.textContent||"";if(t.includes(e)){let t;t=e.startsWith("Remuneration")?n??s:e.startsWith("Current Salary")?n??s:e.startsWith("Expected Salary")||e.startsWith("Expectation Salary")?o??r??s:s;let i=A(c,[".form-group",".row",'div[class*="form"]']);if(!i)continue;let d=await E({targetContainer:i,labelText:e,amount:t},p,a);if(d){(0,u.sendATSQuestionResult)(e,!0),await new Promise(e=>setTimeout(e,100)),m++,l=!0;break}}}catch(t){(0,i.log)(`\u274c Error handling salary label "${e}": ${t.message}`);continue}if(l)break}if(null!=l)for(let e of["Notice Period","notice period","Notice Period (in days"]){let t=Array.from(document.querySelectorAll("label, .form-group label, h3, span")),r=!1;for(let o of t)try{let t=o.textContent||"";if(t.includes(e)){let t=A(o,[".form-group",".row",'div[class*="form"]']);if(!t)continue;let i=await k({targetContainer:t,noticePeriodDays:l,labelName:"Notice Period"});if(i){(0,u.sendATSQuestionResult)(e,!0),await new Promise(e=>setTimeout(e,100)),m++,r=!0;break}}}catch(t){(0,i.log)(`\u274c Error handling notice period label "${e}": ${t.message}`);continue}if(r)break}return(0,i.log)(`\u2705 Salary and notice period field filling complete. Filled ${m} field(s)`),m}catch(e){return(0,i.log)(`\u274c Error in fillSalaryAndNoticePeriodFields: ${e.message}`),0}},A=(e,t)=>{for(let r of t){let t=e.closest(r);if(t)return t}return e.parentElement},E=async(e,t,r)=>{try{let{targetContainer:o,labelText:n,amount:l}=e;if(!l)return!1;let s=o.querySelector(`input[type="number"][placeholder*="${n}"], input[type="number"][id*="field"], input[type="number"][name*="salary"], input[type="text"][name*="cSalary"], input[type="number"][name*="remuneration"], input[type="text"][required*="required"]`);if(s&&!s.value){(0,u.scrollToElement)(s),s.value=l.toString(),s.dispatchEvent(new Event("input",{bubbles:!0})),s.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Filled ${n} amount: ${l}`),(0,u.sendATSQuestionResult)(n,!0);let e=o.querySelector('select[id*="currency"], select[name*="currency"], select[placeholder*="currency"], select[name*="salaryCurrency"]');if(e&&e.options.length){let o=!1;for(let n=0;n<e.options.length;++n){let l=e.options[n];if(t&&(l.value===t||l.value===r)||l.text.toUpperCase().includes(r)){e.selectedIndex=n,e.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Selected currency: ${l.text.trim()}`),o=!0;break}}o||(e.selectedIndex=0,e.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Selected first available currency`))}let a=o.querySelector('select[id*="frequency"], select[name*="frequency"], select[placeholder*="frequency"], select[ng-model="candidate.salary.period"]');if(a&&a.options.length){let e=!1;for(let t of["year","yearly","month","monthly"]){for(let r=0;r<a.options.length;++r){let o=a.options[r];if(o.value.toLowerCase()===t||o.text.toLowerCase().includes(t)){a.selectedIndex=r,a.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Selected frequency: ${o.text.trim()}`),e=!0;break}}if(e)break}e||(a.selectedIndex=0,a.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Selected first available frequency`))}return await (0,c.AsyncUtils).sleep(300),!0}return!1}catch(t){return(0,i.log)(`\u274c Error filling salary amount input for "${e.labelText}": ${t.message}`),!1}},k=async e=>{try{let{targetContainer:t,noticePeriodDays:r,labelName:o}=e,n=t.querySelector('select[id*="field"], select[name*="notice"], select[placeholder*="Notice Period"], select[placeholder*="notice period"]');if(n&&n.options.length){let e=null,t=null;for(let o=0;o<n.options.length;++o){let i=n.options[o],l=i.value.trim();if(!l)continue;if("0"===l&&0===r){t=o;break}let s=parseInt(l.match(/^(\d+)/)?.[1]??l,10);if(!isNaN(s)){if(s===r){t=o;break}(!e||Math.abs(s-r)<Math.abs(e.days-r))&&(e={index:o,days:s})}}if(null!==t)return n.selectedIndex=t,n.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Selected notice period option: ${n.options[t].text.trim()} (exact match: ${r} days)`),(0,u.sendATSQuestionResult)(o,!0),await (0,c.AsyncUtils).sleep(300),!0;if(e)return n.selectedIndex=e.index,n.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Selected notice period option: ${n.options[e.index].text.trim()} (closest match: ${e.days} days for ${r})`),(0,u.sendATSQuestionResult)(o,!0),await (0,c.AsyncUtils).sleep(300),!0;return(0,i.log)(`\u26a0\ufe0f Could not find matching option for notice period: ${r} days`),!1}let l=t.querySelector('input[type="number"][id*="field"], input[type="number"][name*="notice"], input[type="number"][step="0.01"]');if(!l&&t.classList.contains("form-group")&&(l=t.querySelector('input[type="number"]')),l&&!l.value)return(0,u.scrollToElement)(l),l.value=r.toString(),l.dispatchEvent(new Event("input",{bubbles:!0})),l.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.log)(`\u2705 Filled ${o} amount: ${r}`),(0,u.sendATSQuestionResult)(o,!0),await (0,c.AsyncUtils).sleep(300),!0;return!1}catch(t){return(0,i.log)(`\u274c Error filling notice period input for "${e.labelName}": ${t.message}`),!1}}},{"../logger":"8IkKh","../utils/progressTracker":"cII7Q","../utils/formFiller":"bV5He","../utils/FileFieldFiller":"dSc5C","../config/website-rules.config":"18hEH","../utils/AsyncUtils":"kiClj","~helper/commonHelpers":"gwFvg","../utils/elementFinder":"inTYG","./PlatformHandlerFactory":"3Qx1p","./universal/questionCollector":"16NKq","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],bV5He:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"fillInput",()=>d),o.export(r,"uploadResume",()=>p),o.export(r,"uploadCoverFile",()=>m),o.export(r,"fillSeekerResponse",()=>f),o.export(r,"fillElementValue",()=>g),o.export(r,"fillDateFormattedInput",()=>b);var i=e("../logger"),n=e("./elementFinder"),l=e("~helper/commonHelpers"),s=e("../config/website-rules.config"),a=e("./progressTracker"),c=e("./AsyncUtils");let u=new WeakSet;function d(e,t){if(!e||!t)return!1;try{return e.value=t,["input","change","blur","keyup"].forEach(t=>{let r=new Event(t,{bubbles:!0});e.dispatchEvent(r)}),!0}catch(t){return(0,i.logError)(`Error filling field: ${e.name||e.id}`,t),!1}}async function p(e,t){if(!e||!t||u.has(e))return!1;try{let r=await fetch(t),o=await r.blob(),i=t.split("/").pop()||"resume.pdf",n=new File([o],i,{type:o.type}),l=new DataTransfer;l.items.add(n),e.files=l.files;let s=new Event("change",{bubbles:!0});return e.dispatchEvent(s),u.add(e),!0}catch(e){return(0,i.logError)(`Error uploading resume: ${t}`,e),!1}}let m=async(e,t)=>{if(!e||!t||u.has(e))return!1;try{let r=await fetch(t),o=await r.blob(),i=t.split("/").pop()||"cover_letter.pdf",n=new File([o],i,{type:o.type}),l=new DataTransfer;l.items.add(n),e.files=l.files;let s=new Event("change",{bubbles:!0});return e.dispatchEvent(s),u.add(e),!0}catch(e){return(0,i.logError)(`Error uploading resume: ${t}`,e),!1}};async function f(e){try{let{q:t,a:r,type:o}=e;if(!t||!r&&0!==r&&!1!==r||(0,a.progressTracker).isStopped())return!1;let s=await chrome.storage.local.get(["complexFormData"]),c=[];s.complexFormData&&(c=s.complexFormData.complexInstructions),t=(0,l.removeQuestionSuffix)(t);let u=(0,n.findElementByQuestion)(t,c),d=await g(u,o,t,r);for(let e of(await new Promise(e=>setTimeout(e,100)),(0,n.findFieldByQuestion)(t,c))){let i=e.getAttribute("type")==o?e.getAttribute("type")==o:"textarea"===e.getAttribute("ng-switch-when");if(e&&i){let i=await g(e,o,t,r);d||(d=i),await new Promise(e=>setTimeout(e,100))}}if(d)return!0;return(0,i.logError)(`Could not fill element type ${u?.tagName} for: ${t}`),!1}catch(t){return(0,i.logError)(`Error filling response for: ${e?.q}`,t),!1}}async function g(e,t,r,o){try{let a=e?.closest('[data-automation-id="dateInputWrapper"]');if(a){let e=a.querySelectorAll('input[data-automation-id*="dateSection"], input[aria-label*="month"], input[aria-label*="day"], input[aria-label*="year"]');if((0,s.isWorkday)()&&e.length>1)return await (0,l.fillWorkdayDateFields)(a,o)}if("select"===t&&e&&e.getAttribute("type")!==t){let t=e.previousElementSibling;t?.tagName?.toLowerCase()==="button"&&"listbox"===t.getAttribute("aria-haspopup")&&(e=t)}if(!e)return(0,i.logError)(`Could not find element for question: ${r}`),!1;let u=["select2","select2-focusser","select2-offscreen"].some(t=>e?.classList?.contains(t))||e?.closest(".select2-container")!==null;(0,l.scrollToElement)(e);let p=r.substring(0,80)+(r.length>80?"...":""),f=e.getAttribute("name")||"N/A";if((0,i.log)(`\ud83d Filling: [${t}] "${p}" = "${o}" | Element: ${e.tagName}(name="${f}")`),e?.getAttribute("type")==="radio"&&"dropdown"===t&&(t="radio"),e?.getAttribute("type")==="checkbox"&&"dropdown"===t&&(t="checkbox"),"select"===t||"dropdown"===t||"SELECT"===e.tagName){let t=e;if("SELECT"!==e.tagName);else{if(!t.options||0===t.options.length)return(0,i.logError)(`Select element has no options: ${r}`),!1;let e=String(o).toLowerCase().replace(/[\[\]"]/g,"").trim(),n=!1;for(let r=0;r<t.options.length;r++){let o=t.options[r],l=(o.value||"").toLowerCase().trim(),s=(o.text||"").toLowerCase().trim();if(l===e||s===e)return t.selectedIndex=r,t.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.logSuccess)(`\u2705 SELECT: "${o.text}"`),n=!0,await new Promise(e=>setTimeout(e,200)),!0}for(let r=0;r<t.options.length;r++){let o=t.options[r],l=(o.value||"").toLowerCase().trim(),s=(o.text||"").toLowerCase().trim();if(l.includes(e)||s.includes(e))return t.selectedIndex=r,t.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.logSuccess)(`\u2705 SELECT (partial): "${o.text}"`),n=!0,await new Promise(e=>setTimeout(e,200)),!0}if(!n&&r?.toLowerCase().trim()==="which school do you attend?"){let e=Array.from(t.options).findIndex(e=>{let t=(e.value||"").toLowerCase().trim(),r=(e.text||"").toLowerCase().trim();return"other"===t||"other"===r});if(-1!==e)return t.selectedIndex=e,t.dispatchEvent(new Event("change",{bubbles:!0})),(0,i.logSuccess)(`\u2705 SELECT (fallback): "${t.options[e].text}"`),await new Promise(e=>setTimeout(e,200)),!0}return(0,i.logError)(`No matching option found for: ${r} = ${o}`),!1}}if("radio"===t||"option"===t||"checkbox"===t||"radiogroup"===e.getAttribute("role")||"group"===e.getAttribute("role")){if("radio"===e.getAttribute("type")||"checkbox"===e.getAttribute("type")){let t=e?.getAttribute("name")??"",l=e?.getAttribute("set")??"";if(t){let a=document.querySelectorAll(`input[name="${t}"]`);if((0,s.isGreenhouse)()){let r=e.closest(".field"),o=r?.querySelectorAll(`input[type="checkbox"][name="${t}"]`);o&&o.length>0&&(a=o)}if(l?.trim()&&(a=document.querySelectorAll(`input[set="${l}"]`)),!a||0===a.length)return(0,i.logError)(`No radio buttons found with name: ${t}`),!1;if(a?.length===1){let t=e.closest(".form-group");if(t){let e=t.querySelectorAll('input[type="checkbox"]');a=e.length>1?e:a}}let c=null;for(let e of a){let t=(e.value||"").trim(),r=t.toLowerCase(),l="",s=e.closest("label");if(s){let e=s.querySelector('.application-answer-alternative, [class*="answer-alternative"]');e?.textContent&&(l=e.textContent.trim().toLowerCase());let t=s.cloneNode(!0);t.querySelectorAll("br, svg").forEach(e=>e.remove());let r=(0,n.cleanQuestionText)(t.textContent||"").toLowerCase().trim();r&&(l=r.toLowerCase())}if(!l){let t=e.getAttribute("aria-labelledby");if(t){let e=document.getElementById(t);e&&(l=(e.textContent||"").trim().toLowerCase())}}if(!l)try{let t=e.closest("[data-value]");t&&(l=(t.getAttribute("data-value")||"").trim().toLowerCase())}catch(e){}if(l||(l=(e.parentElement?.textContent||"").trim().toLowerCase()),!l){let t=e?.getAttribute("id");t&&(l=(document.querySelector(`label[for="${t}"]`)?.textContent||"").toLowerCase())}let a=String(o).trim(),u=a.toLowerCase();if(r===u||l===u)return e.click(),e.checked=!0,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("click",{bubbles:!0})),c=null,(0,i.logSuccess)(`\u2705 RADIO: "${t}"`),await new Promise(e=>setTimeout(e,300)),!0;u.length>3&&(r&&r.includes(u)||l&&l.includes(u)||u&&u.includes(r)||u&&u.includes(l))&&(c=e)}if(c)return c.click(),c.checked=!0,c.dispatchEvent(new Event("change",{bubbles:!0})),c.dispatchEvent(new Event("click",{bubbles:!0})),await new Promise(e=>setTimeout(e,300)),!0;(0,i.logError)(`No matching radio option found for question: "${r}"`),(0,i.logError)(`  Looking for answer: "${o}" (lowercase: "${String(o).toLowerCase().trim()}")`),(0,i.logError)(`  Available options in this radio group (${a.length}):`),a.forEach((e,t)=>{let r=e.value||"",o=e.closest("label"),n=o?.querySelector('.application-answer-alternative, [class*="answer-alternative"]');(0,i.logError)(`    [${t}] value="${r}" span="${n?.textContent||"N/A"}"`)})}if("checkbox"===e.getAttribute("type")&&!e.getAttribute("name")){let t=e.closest("fieldset");if(!t)return!1;let r=t.querySelectorAll('input[type="checkbox"]'),n=String(o).toLowerCase().trim();for(let e of r){let t=e.getAttribute("id");if(!t)continue;let r=document.querySelector(`label[for="${t}"]`)?.textContent?.toLowerCase().trim()||"";if(r===n||r.includes(n)||n.includes(r)){if((0,s.isWorkday)()&&"true"===e.getAttribute("aria-checked"))continue;return e.click(),e.checked=!0,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("click",{bubbles:!0})),(0,i.logSuccess)(`\u2705 CHECKBOX: "${r}"`),await new Promise(e=>setTimeout(e,300)),!0}}return(0,i.logError)(`No matching checkbox found for: ${o}`),!1}}if("radiogroup"===e.getAttribute("role")){let t=e.querySelectorAll('[role="radio"]');if(!t||0===t.length)return(0,i.logError)(`No custom radio options found in radiogroup: ${r}`),!1;e?.querySelectorAll('[role="presentation"]').length>1&&(t=e?.querySelectorAll('[role="presentation"]'));let n=String(o).toLowerCase().trim();for(let e of t){let t=e,r=(t.getAttribute("data-value")||"").toLowerCase().trim(),o=(t.getAttribute("aria-label")||"").toLowerCase().trim(),l=(t.textContent||"").toLowerCase().trim()?.replace("svgs not supported by this browser.","");if(r===n||o===n||l===n||r&&r.includes(n)||o&&o.includes(n)||l&&l.includes(n)||n&&n.includes(r)&&r||n&&n.includes(o)&&o){t.matches('[role="presentation"]')&&(t=t.querySelector('input[type="radio"]')||t.querySelector('[role="radio"] input[type="radio"]')),t.click(),t.dispatchEvent(new Event("change",{bubbles:!0}));let e=t.querySelector?.('input[type="radio"]');return e&&(e.click(),e.checked=!0),(0,i.logSuccess)(`\u2705 CUSTOM RADIO: "${r||o}"`),await new Promise(e=>setTimeout(e,300)),!0}}return(0,i.logError)(`No matching custom radio option found for: ${r} = ${o}`),!1}if("group"===e.getAttribute("role")){let t=e.querySelectorAll('[role="checkbox"]');if(!t.length)return(0,i.logError)(`No custom checkbox options found in group: ${r}`),!1;let n=Array.isArray(o)?o.map(e=>String(e).toLowerCase().trim()):[String(o).toLowerCase().trim()],s=!1;for(let e of t){let t=(0,l.getCleanTextFromElement)(e.closest("label")),r=(0,l.getCleanTextFromElement)(e),o=e.querySelector('input[type="checkbox"]');for(let l of n)if(t===l||r===l||t&&t.includes(l)||r&&r.includes(l)||l.includes(t)&&t){let r="true"===e.getAttribute("aria-checked")||o?.checked;!r&&(e.click(),e.dispatchEvent(new Event("change",{bubbles:!0})),o&&(o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})))),(0,i.logSuccess)(`\u2705 CUSTOM CHECKBOX: "${t}"`),s=!0,await new Promise(e=>setTimeout(e,200))}}if(!s)return(0,i.logError)(`No matching checkbox option found for: ${r} = ${o}`),!1;return!0}}if("select"===t||"dropdown"===t||"combobox"===e.getAttribute("role")||"listbox"===e.getAttribute("aria-haspopup")){if("combobox"===e.getAttribute("role")||e.querySelector('[role="combobox"]')){let t="combobox"===e.getAttribute("role")?e:e.querySelector('[role="combobox"]');if(!t)return(0,i.logError)(`Could not find combobox element for: ${r}`),!1;(0,l.humanClick)(t),await (0,c.AsyncUtils).sleep(300);let n=String(o).toLowerCase().trim(),s=document.querySelector('[role="listbox"]');if(!s){let e=document.querySelector('[aria-expanded="true"]');e&&(s=e.querySelector('[role="listbox"]')||e.nextElementSibling)}if(e.getAttribute("aria-controls")){let t=e.getAttribute("aria-controls");if(!t)return!1;s=document.getElementById(t)}if(s){let a=s.querySelectorAll('[role="option"]');if(!a||0===a.length)return(0,l.triggerMouseEvents)(t),await new Promise(e=>setTimeout(e,100)),(0,i.logError)(`No options found in dropdown listbox for: ${r}`),!1;for(let e of a){let t=(e.textContent||"").toLowerCase().trim(),r=(e.getAttribute("data-value")||"").toLowerCase().trim(),o=t.match(/\+(\d{1,4})/),s=o?o[1]:null,a=/^\d+$/.test(n);if(a){if(s===n||r===n)return await new Promise(e=>setTimeout(e,200)),(0,l.triggerMouseEvents)(e),await new Promise(e=>setTimeout(e,100)),(0,i.logSuccess)(`\u2705 COMBOBOX: "${t}"`),!0;if(!s&&!r&&t===n)return await new Promise(e=>setTimeout(e,200)),(0,l.triggerMouseEvents)(e),await new Promise(e=>setTimeout(e,100)),(0,i.logSuccess)(`\u2705 COMBOBOX: "${t}"`),!0}else if(t===n||r===n||t.includes(n)||r.includes(n)||t?.replace(/\s+/g,"")===n?.replace(/\s+/g,""))return await new Promise(e=>setTimeout(e,200)),(0,l.triggerMouseEvents)(e),await new Promise(e=>setTimeout(e,200)),(0,i.logSuccess)(`\u2705 COMBOBOX: "${t}"`),!0}if("school"===r.toLowerCase()){let o="other";try{e.value=o,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,key:"a"})),await new Promise(e=>setTimeout(e,2e3));let n=document.querySelector('[role="listbox"]');if(!n){let e=document.querySelector('[aria-expanded="true"]');e&&(n=e.querySelector('[role="listbox"]')||e.nextElementSibling)}if(e.getAttribute("aria-controls")){let t=e.getAttribute("aria-controls");if(!t)return!1;n=document.getElementById(t)}if(n){let e=n.querySelectorAll('[role="option"]');if(!e||0===e.length)return t.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0})),(0,i.logError)(`No options found in dropdown listbox for: ${r}`),!1;for(let t of e){let e=(t.textContent||"").toLowerCase().trim(),r=(t.getAttribute("data-value")||"").toLowerCase().trim();if(e===o||r===o)return t.click(),t.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),t.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),(0,i.logSuccess)(`\u2705 COMBOBOX: "${t.textContent?.trim()}"`),await new Promise(e=>setTimeout(e,300)),!0}}}catch(e){return(0,i.logError)("School combobox fallback selection failed",e),!1}}(0,l.triggerMouseEvents)(t),await new Promise(e=>setTimeout(e,200)),(0,i.logError)(`No matching option found in combobox for: ${r} = ${o}`)}else(0,i.logError)(`Could not find options list after opening combobox for: ${r}`);return(0,l.triggerMouseEvents)(t),await new Promise(e=>setTimeout(e,100)),!1}if("listbox"===e.getAttribute("aria-haspopup")){e.scrollIntoView({block:"center"}),e.focus(),e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.click(),await new Promise(e=>setTimeout(e,400));let t=null,n=e.getAttribute("aria-controls");if(n&&(t=document.getElementById(n)),t||(t=document.querySelector('ul[role="listbox"]')),!t)return(0,i.logError)(`Could not find listbox element for: ${r}`),!1;let l=Array.from(t.querySelectorAll('li[role="option"]')).filter(e=>{let t=e.textContent?.trim().toLowerCase();return t&&"select one"!==t}),s=String(o).toLowerCase().trim();for(let e of l){let t=(e.textContent||"").toLowerCase().trim(),r=(e.getAttribute("data-value")||"").toLowerCase().trim(),o=t.match(/\+(\d{1,4})/),n=o?o[1]:null,l=/^\d+$/.test(s),a=l?n===s||r===s:t===s||r===s||t.includes(s)||r.includes(s);if(a)return e.scrollIntoView({block:"nearest"}),e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.click(),(0,i.logSuccess)(`\u2705 SELECTED: "${t}"`),await new Promise(e=>setTimeout(e,300)),!0}return(0,i.logError)(`No matching option found in combobox for: ${r} = ${o}`),e.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0})),!1}if((0,s.isWorkday)()&&r?.toLowerCase()?.trim().includes("school or")&&"select"===t){let t=e.getAttribute("data-uxi-multiselect-id")||e.getAttribute("aria-describedby");if(!t)return(0,i.logError)(`No widget id found for school-or question: ${r}`),!1;let n=async r=>((0,l.triggerMouseEvents)(e),await (0,c.AsyncUtils).sleep(200),e.value=r,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("blur",{bubbles:!0})),await (0,c.AsyncUtils).sleep(200),["keydown","keyup"].forEach(t=>e.dispatchEvent(new KeyboardEvent(t,{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0}))),await (0,c.AsyncUtils).sleep(1e3),!!document.querySelector(`[data-uxi-element-id="${t}"] [data-automation-id="selectedItem"]`));if(await n(String(o)))return(0,i.logSuccess)(`\u2705 SCHOOL-OR: "${o}"`),!0;for(let e of["Other","School not Found"])if(await n(e))return(0,i.logSuccess)(`\u2705 SCHOOL-OR (fallback): "${e}"`),!0;return(0,i.logError)(`Could not select any value for school-or question: ${r}`),!1}}if(e instanceof HTMLInputElement&&"file"===e.type){let t=await m(e,o);return t&&(0,i.log)("\u2713 Lever cover latter uploaded successfully"),!0}if("TEXTAREA"===e.tagName||e instanceof HTMLTextAreaElement){let t=e,r=t?.getAttribute("name")||"";if(r&&r.indexOf("cover_letter_text")>-1){let e=t.closest('[data-field="cover_letter"]');if(e){let t=e.querySelector('button[data-source="paste"]');t&&t.click()}}t.value=String(o),t.dispatchEvent(new Event("input",{bubbles:!0})),t.dispatchEvent(new Event("change",{bubbles:!0})),t.dispatchEvent(new Event("blur",{bubbles:!0}));let n=String(o).substring(0,50)+(String(o).length>50?"...":"");return(0,i.logSuccess)(`\u2705 TEXTAREA: "${n}"`),await new Promise(e=>setTimeout(e,200)),!0}if(e instanceof HTMLInputElement&&"radio"!==e.type&&"checkbox"!==e.type&&"select"!==e.type&&!u&&"tel"!==e.getAttribute("inputmode")){let t=o;"Phone"==r&&e?.value&&(t=o+e.value);let n=d(e,t);return n&&((0,i.logSuccess)(`\u2705 TEXT: "${o}"`),await new Promise(e=>setTimeout(e,200))),n}if(e instanceof HTMLInputElement&&u){let t=!1;try{t=await h(e,o,r)}catch(e){(0,i.logError)("fillSelect2 threw, will try fallback",e)}if(!t)try{t=await w(e,o)}catch(e){(0,i.logError)("fillSelect2ByHiddenSelect also failed",e)}return t&&((0,i.logSuccess)(`\u2705 TEXT: "${o}"`),await new Promise(e=>setTimeout(e,200))),t}if(e instanceof HTMLInputElement&&"date"===t&&!e.value)try{let t=await b(e,o);return t&&await new Promise(e=>setTimeout(e,200)),t}catch(e){(0,i.logError)("Failed to fill date field",e)}return!1}catch(e){return(0,i.logError)(`Error in fillElementValue for question: ${r}`,e),!1}}let h=async(e,t,r)=>{try{if(e.__optionSelected)return!0;e.__optionSelected=!0,e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,key:"a"}));let o=null;for(let e=0;e<30&&!(o=document.querySelector("#select2-drop"));e++)await new Promise(e=>setTimeout(e,100));if(!o)return!1;for(let e=0;e<50;e++){let e=o.querySelector(".select2-searching");if(!e)break;await new Promise(e=>setTimeout(e,100))}let i=null,n=null;for(let e=0;e<2;e++){for(let e=0;e<30&&!(i=o.querySelectorAll(".select2-result-selectable .select2-result-label")).length;e++)await new Promise(e=>setTimeout(e,300));if(i?.length&&i.forEach(e=>{let r=e.textContent?.trim().toLowerCase();if(r){let o=RegExp(`\\b${t?.trim().toLowerCase()}\\b`);o.test(r)&&(n=e)}}),n)break;if("school"===r.toLowerCase()&&0===e){let e=document.querySelector("#select2-drop input");e&&(t="Other",e.value=t,e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keyup",{bubbles:!0,key:"a"}))),await new Promise(e=>setTimeout(e,1e3))}else break}if(!n)return!1;return n.scrollIntoView({block:"nearest"}),n.click(),n.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),n.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),!0}catch(e){return(0,i.logError)("Select2 selection failed",e),!1}},y=async(e,t)=>{try{let r=Object.getPrototypeOf(e)||HTMLInputElement.prototype,o=Object.getOwnPropertyDescriptor(r,"value")||Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),i="";for(let r of String(t))i+=r,o?.set?o.set.call(e,i):e.value=i,e.dispatchEvent(new KeyboardEvent("keydown",{key:r,bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new KeyboardEvent("keyup",{key:r,bubbles:!0})),await new Promise(e=>setTimeout(e,20));return await new Promise(e=>setTimeout(e,100)),e.value===String(t)}catch(e){return(0,i.logError)("typeLikeHuman failed",e),!1}},b=async(e,t)=>{if(!(e instanceof HTMLInputElement)||e.value)return!1;try{if("tel"===e.getAttribute("inputmode"))return e.focus(),await y(e,t)}catch(e){(0,i.logError)("Failed to fill date formatted input",e)}return!1},w=async(e,t)=>{try{let r=e.closest(".field");if(!r)return!1;let o=r.querySelector("select");if(!o)return!1;let i=t.trim().toLowerCase(),n=Array.from(o.options).find(e=>e.text.trim().toLowerCase()===i||e.value.trim().toLowerCase()===i);if(!n)return!1;o.value=n.value,o.dispatchEvent(new Event("input",{bubbles:!0})),o.dispatchEvent(new Event("change",{bubbles:!0}));let l=r.querySelector(".select2-chosen");return l&&(l.textContent=n.text),!0}catch(e){return(0,i.logError)("Select2 fallback selection failed",e),!1}}},{"../logger":"8IkKh","./elementFinder":"inTYG","~helper/commonHelpers":"gwFvg","../config/website-rules.config":"18hEH","./progressTracker":"cII7Q","./AsyncUtils":"kiClj","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],gwFvg:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"filterValidResponses",()=>l),o.export(r,"getVisibleForms",()=>s),o.export(r,"getElementOwnTextOnly",()=>a),o.export(r,"sanitizeText",()=>c),o.export(r,"IGNORED_TEXT_OPTIONS",()=>u),o.export(r,"arrayToJsonString",()=>d),o.export(r,"queryAllWithShadow",()=>p),o.export(r,"waitForElement",()=>m),o.export(r,"scrollToElement",()=>f),o.export(r,"fetchRequiredQuestionData",()=>g),o.export(r,"processSelectQuestions",()=>h),o.export(r,"getValueFromPath",()=>y),o.export(r,"extractNames",()=>b),o.export(r,"filterQuestionOnPage",()=>w),o.export(r,"resumeUploadAtMultiStep",()=>S),o.export(r,"removeQuestionSuffix",()=>x),o.export(r,"waitFor",()=>v),o.export(r,"findQuestionBlock",()=>C),o.export(r,"extractQuestionInsideBlock",()=>A),o.export(r,"getShadowSafeQuestion",()=>E),o.export(r,"checkSecurityCodeVisible",()=>k),o.export(r,"sendPageQuestionsToSidepanel",()=>T),o.export(r,"sendATSQuestionResult",()=>q),o.export(r,"selectWorkdayValueBySearch",()=>F),o.export(r,"getWorkdaySelectButtonOption",()=>L),o.export(r,"findWorkdaySelectButtonByQuestion",()=>$),o.export(r,"getOpenListboxOptions",()=>M),o.export(r,"autoAcceptTermsIfPresent",()=>P),o.export(r,"getCleanTextFromElement",()=>I),o.export(r,"setIsMissingUIShowWithTime",()=>_),o.export(r,"waitForIsMissingUIShowToBeFalseOrTimeout",()=>O),o.export(r,"sendInvalidATSQuestionResults",()=>D),o.export(r,"populateSelectOptionsIfMissing",()=>N),o.export(r,"triggerMouseEvents",()=>j),o.export(r,"findIframeSrcContainingAny",()=>U),o.export(r,"findFieldButtonElements",()=>Q),o.export(r,"fillWorkdayDateFields",()=>H),o.export(r,"humanClick",()=>V);var i=e("../services/autofill"),n=e("../services/autofill/utils/AsyncUtils");let l=(e=[])=>{try{if(!Array.isArray(e)||0===e.length)return[];return e.filter(e=>e&&"object"==typeof e&&e.hasOwnProperty("a")&&null!==e.a&&void 0!==e.a&&""!==String(e.a).trim()&&("N/A"!==String(e.a).trim().toUpperCase()||"text"===String(e.type).toLowerCase()))}catch(t){return e}},s=()=>Array.from(document.querySelectorAll("form")).filter(e=>null!==e.offsetParent&&!e.hidden&&"s3_upload_for_resume"!==e.id&&"s3_upload_for_cover_letter"!==e.id),a=e=>{if(!e||!(e instanceof Element))return"";let t=Array.from(e.childNodes).filter(e=>e.nodeType===Node.TEXT_NODE||e.nodeType===Node.ELEMENT_NODE&&"svg"!==e.nodeName.toLowerCase()).filter(e=>e.nodeType===Node.TEXT_NODE).map(e=>e.textContent?.trim()||"").filter(Boolean).join(" ").replace(/\s+/g," ").trim();return t},c=(e="")=>"string"!=typeof e?"":e.replaceAll("SVGs not supported by this browser.","").replace(/\s+/g," ").trim(),u=["Select an option","No answer","-- No answer --","Select one","Please select"],d=e=>JSON.stringify(e),p=(e,t=document)=>{let r=Array.from(t.querySelectorAll(e));return t.querySelectorAll("*").forEach(t=>{t instanceof Element&&t.shadowRoot&&(r=r.concat(p(e,t.shadowRoot)))}),r},m=async(e,t=1e4)=>{try{if(!e)return!0;let r=Date.now(),o=Array.from(e).filter(e=>e&&"domSelector"===e.type&&e.domSelector).map(e=>e.domSelector).join(", ");return await new Promise((e,i)=>{try{let i=setInterval(()=>{try{let n=document.querySelector(o);n&&(clearInterval(i),e(!0)),Date.now()-r>t&&(clearInterval(i),e(!0))}catch(t){clearInterval(i),e(!0)}},200)}catch(t){e(!0)}})}catch(e){return!0}},f=e=>{try{e.scrollIntoView({behavior:"smooth",block:"center"})}catch(e){}},g=async e=>{try{e.indexOf("{host_name}")>-1&&(e=e.replace("{host_name}",location.hostname));let t=await fetch(e);if(!t.ok)throw Error(`Request failed: ${t.status}`);return await t.json()}catch(e){return console.error("GET API error:",e),null}},h=async(e,t)=>{if(!e?.length||!t?.length)return e;for(let r of t)try{let t=e.findIndex(e=>e.name?.toLowerCase().trim()===r.question?.toLowerCase().trim());if(-1===t)continue;let o=e[t];if("select"!==o.type)continue;let i=""===o.options||null===o.options||"[]"===o.options||'["1"]'===o.options||Array.isArray(o.options)&&0===o.options.length;if(!i)continue;let n=null;try{n=await g(r.apiUrl)}catch(e){continue}if(!n)continue;let l=[];try{l=b(n,r)}catch(e){continue}e[t].options=JSON.stringify(l)}catch(e){continue}return e},y=(e,t)=>{if(!t)return e;try{return t.split(".").reduce((e,t)=>e?.[t],e)}catch(e){return}},b=(e,t)=>{let r;try{r=y(e,t.path)}catch(e){return[]}if("array"===t.type)try{return Array.isArray(r)?r.map(e=>e[t.labelKey]):[]}catch(e){return[]}if("object-values"===t.type)try{return r?Object.values(r):[]}catch(e){}return[]},w=(e,t)=>new Promise(r=>{if(!Array.isArray(e)){r([]);return}let o=(document.body?.innerText||"").toLowerCase().replace(/\s*\*\s*/g," "),i=(document.body?.textContent||"").toLowerCase().replace(/\s*\*\s*/g," "),n=[],l=t?.fillSalaryandNoticePeriodFields?.map(e=>e.labelText.toLowerCase().trim())||[];for(let t of e){if(!t?.name||"string"!=typeof t.name)continue;let e=t.name.trim().toLowerCase().replace(/\s*\(maximum\s+\d+\s+characters?\)\s*$/i,"").replace(/\s*\(numbers only\)\s*$/i,"").replace(/\s*\.*\s*$/,"").trim(),r=t.type.trim().toLowerCase();e&&(B(e,l)||((o.includes(e)||i.includes(e))&&n.push(t),!n.includes(t)&&(R(o).includes(R(e))||R(i).includes(R(e)))&&n.push(t),"date"===r&&n.push(t)))}r(n)}),S=async(e,t)=>{try{if(!Array.isArray(e))return;let r=e[0];if(!r?.selector)return;let o=document.querySelector(`.${r.selector} button`);if(!o)return console.log("\u274c Resume upload button not found");o.click(),o.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),o.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}));let n=await v(".fsp-modal",3e3,"visible");if(!n)return console.log("\u274c Resume modal did not appear");let l=await v("#fsp-fileUpload",3e3,"visible");if(!l)return console.log("\u274c File input not found");await (0,i.uploadResume)(l,t),await v(".fsp-summary__item",3e3,"visible");let s=document.querySelector(".fsp-button--primary:not(.fsp-button-upload)");s&&(s.click(),s.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),s.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})));let a=await v(".fsp-button-upload",3e3,"visible");if(!a)return console.log("\u274c Final upload button not found");a.click(),a.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),a.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0})),await v(".fsp-modal",5e3,"hidden"),console.log("\u2705 Resume uploaded successfully")}catch(e){console.log("\u274c Error in resume upload",e)}},x=e=>{try{let t=e;return(t=(t=(t=t.replace(/\s*\((mm\/dd\/yyyy|yyyy-mm-dd|mm|yyyy)\)\s*$/i,"")).replace(/\s*\(maximum\s+\d+\s+characters?\)\s*$/i,"")).replace(/\s*\(numbers only\)\s*$/i,"").trim()).trim()}catch{return e}},v=(e,t=8e3,r="visible")=>new Promise(o=>{let i=performance.now(),n=()=>{let l=document.querySelector(e);return"visible"===r&&l?o(l):"hidden"!==r||l?performance.now()-i>=t?o("visible"!==r||null):void requestAnimationFrame(n):o(!0)};n()});function C(e){return e.closest(".textarea-input-wrapper, .radio-input-wrapper, .ja-radio-buttons-wrapper, .ja-free-text-wrapper")}function A(e){if(!e)return null;let t=e.querySelector("seds-paragraph");if(!t)return null;let r=t.textContent||"",o=r.replace(/\*/g,"").replace(/\s+/g," ").trim();return o&&o.length>5&&o.length<500?o:null}function E(e,t){let r=C(e);return r&&A(r)||t}let k=async(e,t=3e3,r=300)=>{try{let o=Array.isArray(e.selector)?e.selector:[e.selector];for(let e of o){let o=Date.now();for(;Date.now()-o<t;){let t=document.querySelectorAll(e);for(let r of Array.from(t)){if(!(r instanceof HTMLElement))continue;let t=window.getComputedStyle(r),o="none"!==t.display&&"hidden"!==t.visibility&&"0"!==t.opacity&&(r.offsetWidth>0||r.offsetHeight>0||r.getClientRects().length>0);if(o&&(!(r instanceof HTMLInputElement)||!r.disabled))return console.log("Security code field visible:",e),!0}await (0,n.AsyncUtils).sleep(r)}console.log("Timeout for selector:",e)}return console.log("No security code field found"),!1}catch(e){return console.error("Error checking security code visibility",e),!1}},T=e=>{Array.isArray(e)&&chrome.runtime.sendMessage({action:"ATS_PAGE_QUESTIONS",questions:e.map(e=>({name:e.name,type:e.type||"text",options:e.options||"",is_required:e.is_required||!1,status:"pending"}))}).catch(()=>{})},q=(e,t=!0,r)=>{chrome.runtime.sendMessage({action:"ATS_QUESTION_RESULT",questionName:e,success:t,status:r}).catch(()=>{})},F=async(e,t=1500)=>{let r=!1,o=Array.isArray(e)?e:[e];for(let e of o){try{let{selector:o,value:i}=e,n=document.querySelector(o);if(!n||"INPUT"!==n.tagName)continue;let l=n.getAttribute("data-uxi-multiselect-id")||n.getAttribute("aria-describedby");if(!l){r=!1;continue}let s=Array.isArray(i)?i:[i],a=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value")?.set,c=()=>{let e=document.querySelector(`[data-associated-widget="${l}"]`);return e?Array.from(e.querySelectorAll('[data-automation-id="menuItem"] input[type="radio"]')):[]},u=!1,d=document?.querySelector(`[data-uxi-element-id="${l}"] [data-automation-id="selectedItem"]`);for(let e of(d&&(u=!0),s)){if(u)break;j(n),n.focus(),await new Promise(e=>setTimeout(e,200)),a?.call(n,""),n.dispatchEvent(new Event("input",{bubbles:!0})),await new Promise(e=>setTimeout(e,500)),a?.call(n,e),n.dispatchEvent(new Event("input",{bubbles:!0})),await new Promise(e=>setTimeout(e,500)),["keydown","keyup"].forEach(e=>{n.dispatchEvent(new KeyboardEvent(e,{key:"Enter",code:"Enter",keyCode:13,which:13,bubbles:!0}))}),await new Promise(e=>setTimeout(e,t));let r=c();if(r.length){r[0].click(),n.blur(),document.body.click(),u=!0;break}let o=document?.querySelector(`[data-uxi-element-id="${l}"] [data-automation-id="selectedItem"]`);if(o){u=!0;break}}r=u}catch{r=!1;continue}await new Promise(e=>setTimeout(e,500))}return r},L=async e=>{for(let t of e)if("select"===t.type&&!t.option)try{let e=$(t.name);if(!e||e.textContent?.trim()&&!e.textContent.toLowerCase().includes("select one")){q(t.name,!0);continue}j(e),await (0,n.AsyncUtils).sleep(300);let r=M(e);r.length&&(t.options=d(r)),document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0})),await (0,n.AsyncUtils).sleep(150)}catch(e){continue}return e},$=e=>{try{let t=Array.from(document.querySelectorAll("label, legend")).filter(e=>!e.closest('div[aria-label="Application Progress"]')),r=(e="")=>e.toLowerCase().replace(/\u00a0/g," ").replace(/\s+/g," ").replace(/\*/g,"").trim();for(let o of t){let t=o.textContent?.replace("*","").trim().toLowerCase();if(t&&r(t).includes(r(e))){let e=o.closest('div[data-automation-id^="formField"]');if(!e||!e.querySelector('button[aria-haspopup="listbox"]'))return null;return e.querySelector('button[aria-haspopup="listbox"]')}}}catch{}return null},M=e=>{try{let t=e.getAttribute("value"),r=document.querySelector(`ul[role="listbox"][aria-activedescendant='${t}']`);if(!r){let t=e.getAttribute("aria-controls");r=document.querySelector(`ul[role="listbox"][id='${t}']`)}if(!r)return[];return Array.from(r.querySelectorAll('li[role="option"]')).map(e=>e.textContent?.trim()).filter(e=>e&&"select one"!==e.toLowerCase())}catch{return[]}},R=e=>e?.toLowerCase().replace(/\*/g,"").replace(/\s+/g," ").replace(/\s*,\s*/g,", ").replace(/\(\s+/g,"(").replace(/\s+\)/g,")").trim(),P=async()=>{try{let e=['input[type="checkbox"][name*="acceptTerms"]','input[type="checkbox"][id*="acceptTerms"]','input[type="checkbox"][id*="termsAndConditions"]','input[type="checkbox"][name*="agreement"]','input[type="checkbox"][aria-label*="terms" i]','input[type="checkbox"][aria-label*="agreement" i]'],t=null;for(let r of e)if(t=document.querySelector(r))break;if(!t){let r=document.querySelectorAll('[data-automation-id*="formField"], [data-testid], wc-root, [data-shadow]');for(let o of r){let r=o.shadowRoot;if(r){for(let o of e)if(t=r.querySelector(o))break;if(t)break}}}if(!t)return!1;if(t.checked||"true"===t.getAttribute("aria-checked"))return!0;let r=(e,t)=>e.dispatchEvent(new Event(t,{bubbles:!0,cancelable:!0})),o=t.getAttribute("id"),i=o?document.querySelector(`label[for="${o}"]`)??t.closest("label"):t.closest("label");return i&&!i.contains(t)?i.click():t.click(),t.checked=!0,r(t,"change"),r(t,"click"),await new Promise(e=>setTimeout(e,300)),!0}catch{return!1}},I=e=>{try{if(!e)return"";let t="";if("string"==typeof e.innerText?t=e.innerText:"string"==typeof e.textContent&&(t=e.textContent),!t)return"";return(t=(t=(t=t.replace(/(?:\[[x ]?\]\s*|[*\u2022]\s*)[^\r\n]+/gi," ")).replace(/<[^>]+>/g," ")).replace(/\s+/g," ").trim()).toLowerCase()}catch{return""}},_=async e=>{try{chrome.storage.local.set({isMissingUIShow:{isShow:e,time:Date.now()}})}catch(e){}},O=async()=>{let e="isMissingUIShow",t=Date.now();for(;;){let r=Date.now();if(r-t>12e4)return!0;let o=await new Promise(t=>chrome.storage.local.get([e],t)),i=o?.[e]?.isShow;if(!1===i||void 0===i)return!0;await new Promise(e=>setTimeout(e,300))}},D=async(e=[])=>{try{if(!Array.isArray(e)||0===e.length){let e=await chrome.storage.local.get("pageQuestions"),t=Array.isArray(e.pageQuestions)?e.pageQuestions:[];for(let e of t)e?.name&&(await q(e.name,!1,"warning"),await new Promise(e=>setTimeout(e,100)));return}for(let t of e){let e=!t||"object"!=typeof t||!t.hasOwnProperty("a")||null===t.a||void 0===t.a||""===String(t.a).trim()||"N/A"===String(t.a).trim().toUpperCase()&&"text"!==String(t.type).trim().toLowerCase();e&&t?.q&&(await q(t.q,!1,"warning"),await new Promise(e=>setTimeout(e,100)))}}catch(e){console.error("Failed to send invalid ATS question results",e)}},N=async e=>{let t=(e="")=>e.toLowerCase().replace(/\u00a0/g," ").replace(/\s+/g," ").trim();for(let r of e){if("select"!==r.type||r.options)continue;let e=null,o=[];try{let n=r.element?.querySelectorAll("label")??[];if(n.length>0){let l=Array.from(n).find(e=>t(e.textContent||"")===t(r.name));if(l){let t=l.parentElement?.querySelector('input[role="combobox"]');if(t){await j(t),await new Promise(e=>setTimeout(e,150));let r=t.getAttribute("aria-controls");r||(await j(t),await new Promise(e=>setTimeout(e,150)),r=t.getAttribute("aria-controls")),r&&(e=document.getElementById(r)),e&&(o=Array.from(e.querySelectorAll('[role="option"]')).map(e=>(0,i.getCleanOptionText)(e)).filter(e=>e&&"select"!==e.toLowerCase()&&"select..."!==e.toLowerCase())),document.dispatchEvent(new KeyboardEvent("keydown",{key:"Escape",bubbles:!0})),await new Promise(e=>setTimeout(e,100))}}}o.length&&(r.options=d(o))}catch{continue}}return e},j=async e=>{try{let t=e.getBoundingClientRect(),r=t.left+t.width/2,o=t.top+t.height/2;e.scrollIntoView({behavior:"smooth",block:"center"}),e.focus(),e.dispatchEvent(new MouseEvent("mouseover",{bubbles:!0,clientX:r,clientY:o})),e.dispatchEvent(new MouseEvent("mousemove",{bubbles:!0,clientX:r,clientY:o})),e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,clientX:r,clientY:o,buttons:1})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,clientX:r,clientY:o})),e.dispatchEvent(new MouseEvent("click",{bubbles:!0,clientX:r,clientY:o}))}catch(e){console.error("Error triggering mouse events:",e)}},U=e=>{try{if(!e.length)return null;let t=Array.from(document.querySelectorAll('iframe[id="grnhse_iframe"]'));for(let r of t){let t=r.getAttribute("src")?.toLowerCase();if(t&&e.some(e=>t.includes(e.toLowerCase())))return t}return null}catch{return null}},Q=e=>{if(!e||!e.selector||!e.selectorInnerText)return[];let t=[];for(let r=0;r<e.selector.length;r++){let o=e.selector[r],i=document.querySelectorAll(o);for(let r=0;r<i.length;r++){let o=i[r],n=(o.innerText||o.textContent||"").trim();for(let r=0;r<e.selectorInnerText.length;r++){let i=e.selectorInnerText[r];if(n.includes(i)){t.push(o);break}}}}return t},B=(e,t)=>{let r=R(e);return t.some(e=>{let t=R(e.replace(/\(.*?\)/g,""));return r.includes(t)})},H=async(e,t)=>{let r=Array.from(e.querySelectorAll('input[data-automation-id*="dateSection"], input[aria-label]')),o=r.some(e=>e.getAttribute("aria-label")?.toLowerCase()==="month"),n=r.some(e=>e.getAttribute("aria-label")?.toLowerCase()==="day"),l=r.some(e=>e.getAttribute("aria-label")?.toLowerCase()==="year"),s=String(t).trim(),a="",c="",u="";if(o&&l&&!n){let e=s.match(/^(\d{1,2})[\/\-](\d{4})$/);if(!e)return(0,i.logError)(`Invalid MM/YYYY date: ${s}`),!1;a=e[1],u=e[2]}else{let e=!1;for(let t of[/^(\d{1,2})\/(\d{1,2})\/(\d{4})$/,/^(\d{4})-(\d{1,2})-(\d{1,2})$/,/^(\d{1,2})-(\d{1,2})-(\d{4})$/]){let r=s.match(t);if(r){t.source.startsWith("^(\\d{4})")?(u=r[1],a=r[2],c=r[3]):(a=r[1],c=r[2],u=r[3]),e=!0;break}}if(!e)return(0,i.logError)(`Could not parse date: ${s}`),!1}for(let e of r){let t=e.getAttribute("aria-label")?.toLowerCase();if("month"===t&&a)e.value=a;else if("day"===t&&c)e.value=c;else{if("year"!==t||!u)continue;e.value=u}e.dispatchEvent(new Event("input",{bubbles:!0})),e.dispatchEvent(new Event("change",{bubbles:!0})),V(e),await new Promise(e=>setTimeout(e,100))}return(0,i.logSuccess)(`\u2705 DATE: ${s}`),await new Promise(e=>setTimeout(e,300)),!0},V=e=>{if(e)try{e.scrollIntoView({behavior:"smooth",block:"center"});let t=e.getBoundingClientRect(),r=t.left+t.width/2,o=t.top+t.height/2;["mouseover","mouseenter","mousemove","mousedown","mouseup","click"].forEach(t=>{e.dispatchEvent(new MouseEvent(t,{view:window,bubbles:!0,cancelable:!0,clientX:r,clientY:o}))})}catch(e){console.error("Error in humanClick:",e)}}},{"../services/autofill":"hnzAZ","../services/autofill/utils/AsyncUtils":"kiClj","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],hnzAZ:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r);var i=e("./logger");o.exportAll(i,r);var n=e("./types");o.exportAll(n,r);var l=e("./utils/progressTracker");o.exportAll(l,r);var s=e("./utils/loginChecker");o.exportAll(s,r);var a=e("./utils/formDetector");o.exportAll(a,r);var c=e("./utils/elementFinder");o.exportAll(c,r);var u=e("./platform-handlers/universal/questionCollector");o.exportAll(u,r);var d=e("./utils/formFiller");o.exportAll(d,r);var p=e("./platform-handlers/universal/complexFormHandler");o.exportAll(p,r);var m=e("./platform-handlers/autofillOrchestrator");o.exportAll(m,r);var f=e("./platform-handlers");o.exportAll(f,r)},{"./logger":"8IkKh","./types":"7D41U","./utils/progressTracker":"cII7Q","./utils/loginChecker":"aCOwg","./utils/formDetector":"dtZBS","./utils/elementFinder":"inTYG","./platform-handlers/universal/questionCollector":"16NKq","./utils/formFiller":"bV5He","./platform-handlers/universal/complexFormHandler":"edzoI","./platform-handlers/autofillOrchestrator":"iMUKJ","./platform-handlers":"4re9M","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"7D41U":[function(e,t,r){e("@parcel/transformer-js/src/esmodule-helpers.js").defineInteropFlag(r)},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],dtZBS:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"detectFormFieldsWithRetry",()=>l),o.export(r,"detectFormFields",()=>n);var i=e("../logger");function n(){let e=0,t=[];for(let r of['input[type="text"]:not([type="hidden"]):not([type="search"]):not([readonly])','input[type="email"]','input[type="tel"]','input[type="number"]','input[type="password"]','input[type="file"]','input[type="radio"]','input[type="checkbox"]',"textarea","select",'[role="radiogroup"]','[role="combobox"]:not([placeholder*="Search job"])','[class="resume-upload"]','[data-automation-id="formField-"]']){let o=document.querySelectorAll(r),i=0;for(let e of o){if(e.closest(".searchBar_siblings")||e.closest("footer"))continue;let t=!e?.closest('[role="dialog"]'),r=null!==e.offsetParent&&e.offsetWidth>0&&e.offsetHeight>0;t&&r&&i++}i>0&&(e+=i,t.push(r))}let r=!1;for(let e of['form[action*="apply"]','form[action*="application"]','input[name*="resume"]','input[name*="cv"]','input[name*="first_name"]','input[name*="last_name"]','input[name*="email"]','textarea[name*="cover"]','select[name*="experience"]']){let t=document.querySelector(e);if(t){let e=null!==t.offsetParent;if(e){r=!0;break}}}let o=e>=1||r;return{hasForm:o,fieldCount:e,formTypes:t}}async function l(e=5,t=1e3){for(let r=1;r<=e;r++){let o=n();if(o.hasForm)return(0,i.logSuccess)(`Form detected with ${o.fieldCount} fields`),o;r<e&&await new Promise(e=>setTimeout(e,t))}return(0,i.log)(`No form found after ${e} attempts`),{hasForm:!1,fieldCount:0,formTypes:[]}}},{"../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"16NKq":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"getBasicFieldMappings",()=>c),o.export(r,"collectBasicQuestions",()=>u),o.export(r,"extractQuestionText",()=>d),o.export(r,"extractOptions",()=>p),o.export(r,"detectInputTypeWithOptions",()=>m),o.export(r,"collectFormQuestions",()=>f),o.export(r,"extractMatchQuestionText",()=>g),o.export(r,"getSelect2Value",()=>h),o.export(r,"collectInputOptions",()=>y),o.export(r,"getQuestionText",()=>b),o.export(r,"findNearestHeading",()=>w),o.export(r,"checkTxtLimit",()=>x),o.export(r,"checkElementIsRequired",()=>v),o.export(r,"checkRequiredByConfig",()=>C),o.export(r,"extractRealOptions",()=>A),o.export(r,"getCleanOptionText",()=>E);var i=e("../../logger"),n=e("../../utils/elementFinder"),l=e("../../config/website-rules.config"),s=e("~helper/commonHelpers"),a=e("~services/autofill/utils/AsyncUtils");let c=e=>[{selectors:['input[name*="first"]','input[id*="first"]','input[placeholder*="First"]'],value:e?.first_name,label:"First Name"},{selectors:['input[name*="last"]','input[id*="last"]','input[placeholder*="Last"]'],value:e?.last_name,label:"Last Name"},{selectors:['input[name*="name"]','input[id*="name"]','input[placeholder*="Name"]'],value:e?`${e.first_name} ${e.last_name}`:void 0,label:"Full Name"},{selectors:['input[name*="email"]','input[id*="email"]','input[type="email"]','input[placeholder*="Email"]'],value:e?.email,label:"Email"},{selectors:['input[name*="phone"]','input[id*="phone"]','input[name*="mobile"]','input[placeholder*="Phone"]','input[type="tel"][autocomplete="tel"]','input[id*="phoneNumber"]'],value:e?.mobile_num,label:"Phone"},{selectors:['input[name*="city"]','input[id*="city"]','input[placeholder*="City"]','input[name*="location"]','input[id*="location"]'],value:e?.city,label:"City"},{selectors:['input[name*="state"]','input[id*="state"]','input[placeholder*="State"]'],value:e?.state,label:"State"},{selectors:['input[name*="zip"]','input[id*="zip"]','input[name*="postal"]'],value:e?.zip?.toString(),label:"Zip Code"},{selectors:['input[name*="country"]','input[id*="country"]','input[placeholder*="Country"]'],value:e?.country,label:"Country"},{selectors:['input[name*="address"]','input[id*="address"]','input[id*="fullAddress"]','textarea[name*="address"]'],value:e?.address,label:"Address"},{selectors:['input[name*="linkedin"]','input[id*="linkedin"]','input[placeholder*="LinkedIn"], input[aria-label="LinkedIn Profile"]'],value:e?.linkedin_profile_url,label:"LinkedIn"},{selectors:['input[name*="salary"]','input[id*="salary"]','input[name*="pay"]'],value:e?.expected_salary?.toString(),label:"Salary"},{selectors:['input[name*="available"]','input[id*="available"]','input[name*="start"]'],value:e?.available_date,label:"Available Date"}],u=async e=>{let t=c(),r=[],o=new Map,i=e?.fieldConfig?.fieldWrapper,l=e?.fieldConfig?.labelSelector,s=["dom"];if(i&&l){let e=document.querySelectorAll(i);e.length>0&&(s=Array.from(e))}for(let e of s){let r="dom"===e?document:e,i=r.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([name*="recaptcha"]):not([name*="authenticity_token"]):not([name*="security_code"]), textarea:not([name*="recaptcha"]), select, [role="combobox"], [role="radiogroup"], [data-testid*="customQuestions"], div[class*="css-12zup1l"] button[aria-haspopup="listbox"]');for(let e of i){let i=e,s=i.closest('[id*="Survey"], [id*="survey"], [data-qa*="survey"]'),a=null!==i.offsetParent,c=i.offsetWidth>0||i.offsetHeight>0,u="none"!==window.getComputedStyle(i).display,p=!i.hidden,m=a||!!s||c&&u&&p;if(!m)continue;let f=(0,n.cleanQuestionText)(g(r,i,l));for(let e of(f||(f=(0,n.cleanQuestionText)(d(i))),t)){let t=!1;if(e.selectors.some(e=>{try{return i.matches(e)}catch{return!1}})&&(t=!0),!t&&f&&f.toLowerCase().includes(e.label.toLowerCase())&&(t=!0),t){let t=!1;if(i instanceof HTMLInputElement&&("checkbox"===i.type||"radio"===i.type))t=i.checked;else{let e=i.value;t=e&&""!==e.trim()}o.get(e.label),t?o.set(e.label,!0):o.has(e.label)&&!1!==o.get(e.label)||o.set(e.label,!1)}}}}return o.forEach((e,t)=>{r.push({name:t,isFilled:e})}),r};function d(e){let t=e?.previousElementSibling;if(t&&t.tagName?.toLowerCase()==="h3"&&!(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type))){let e=t.textContent?.trim()||"";if(e)return e}let r=e.closest("fieldset");if(r&&!(0,l.isGreenhouse)()){let t=r.querySelector("legend"),o=(0,n.cleanQuestionText)(t?.textContent?.trim()||"");if(o){let t=e.getAttribute("data-automation-id"),r=e.getAttribute("aria-label")?.toLowerCase()||"";return"dateSectionMonth-input"===t||"month"===r?`${o} (mm)`:"dateSectionYear-input"===t||"year"===r?`${o} (yyyy)`:o}}let o=e.closest("label");if(o&&!(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type))){let e=o.cloneNode(!0);e.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg, a[href]").forEach(e=>e.remove());let t=e.textContent?.trim()||"";t.includes("Note:")&&(t=t.split("Note:")[0].trim());let r=!!(0,l.isGreenhouse)()||t.length<500;if(t&&t.length>5&&r){let e=(0,n.cleanQuestionText)(t).trim(),r=e.length>5&&!e.toLowerCase().startsWith("please select")&&!e.toLowerCase().startsWith("select")&&!e.toLowerCase().startsWith("choose");if(r)return(0,i.log)(`\ud83d [Greenhouse] Extracted from parent label: "${e.substring(0,60)}..."`),e}}let a=e.getAttribute("id");if(a&&!(e instanceof HTMLInputElement&&("checkbox"===e.type||"radio"===e.type))){let t=document.querySelector(`label[for="${a}"]`);if(t?.textContent)return(0,n.cleanQuestionText)(t.textContent);let r=e.parentElement?.previousElementSibling;if(r&&"LABEL"===r.tagName)return(0,n.cleanQuestionText)(r.textContent)}let c=e.getAttribute("aria-labelledby");if(c){let e=document.getElementById(c),t=e?.textContent??"";if(t&&t?.toLowerCase()!="please select")return(0,n.cleanQuestionText)(e.textContent)}let u=e.getAttribute("aria-label");if(u&&"select"!==u.toLowerCase()&&"search"!==u.toLowerCase()&&"select one required"!==u.toLowerCase().trim())return(0,n.cleanQuestionText)(u);let d=e.parentElement,p=0;for(;d&&p<5;){let e=(0,s.getElementOwnTextOnly)(d);if(e&&e.length>5&&e.length<500)return e;let t=d.querySelector("p, h1, h2, h3, h4, h5, h6");if((0,l.isGreenhouse)()&&(t?.classList?.contains("heading")||t?.classList?.contains("app-title"))||t?.classList?.contains("job-position-break")){d=d.parentElement,p++;continue}if(t&&t.textContent){let e=(0,n.cleanQuestionText)(t.textContent);if(e&&e.length>5&&e.length<500)return e}d=d.parentElement,p++}let m=e.parentElement?.previousElementSibling,f=0;for(;m&&f<3;){let e=m.querySelector("p, h1, h2, h3, h4, h5, h6, label");if(e&&e.textContent&&!("H2"===e.tagName&&"application-form-title"===e.getAttribute("data-ui"))){let t=(0,n.cleanQuestionText)(e.textContent);if(t&&t.length>5&&t.length<500)return t}m=m.previousElementSibling,f++}return null}async function p(e,t){let r=["select2","select2-focusser","select2-offscreen"].some(e=>t.classList.contains(e))||null!==t.closest(".select2-container");if("SELECT"===t.tagName){let e=Array.from(t.querySelectorAll("option")).filter(e=>e.value&&""!==e.value&&"?"!==e.value).map(e=>{let t=e.textContent?.trim();return t&&t.length>0&&!(0,s.IGNORED_TEXT_OPTIONS).includes(t)?t:!e.value||(0,s.IGNORED_TEXT_OPTIONS).includes(t)||e.value.includes("FormsEngine.")||e.value.includes("Country:")||e.value.includes("undefined")?null:e.value}).filter(e=>e&&e.length>0);return(0,s.arrayToJsonString)(e)}if(r)return h(t);if("combobox"===t.getAttribute("role")){let r=e.querySelector('[role="listbox"]');if(!r){let e=t.parentElement,o=0;for(;e&&o<5&&!(r=e.querySelector('[role="listbox"]'));)e=e.parentElement,o++}if(!r){let e=t.getAttribute("aria-controls");e&&(r=document.getElementById(e))}if(r)return(0,s.triggerMouseEvents)(t),await (0,a.AsyncUtils).sleep(500),await new Promise(async e=>{setTimeout(async()=>{let o=Array.from(r.querySelectorAll('[role="option"]')).map(e=>e.textContent?.trim()).filter(e=>e&&"select"!==e.toLowerCase()&&"select..."!==e.toLowerCase());(0,s.triggerMouseEvents)(t),await (0,a.AsyncUtils).sleep(200),o.length>0?e((0,s.arrayToJsonString)(o)):e("")},100)});try{return(0,s.triggerMouseEvents)(t),await (0,a.AsyncUtils).sleep(500),await new Promise(async r=>{setTimeout(async()=>{let o=Array.from(e.querySelectorAll('[role="option"]')).map(e=>e.textContent?.trim()).filter(e=>e&&"select"!==e.toLowerCase());(0,s.triggerMouseEvents)(t),await (0,a.AsyncUtils).sleep(200),o.length>0?r((0,s.arrayToJsonString)(o)):r("")},100)})}catch(e){return""}}if("radiogroup"===t.getAttribute("role")){let e=t.querySelectorAll('[role="radio"]'),r=Array.from(e).map(e=>{let t=e.getAttribute("data-value"),r=e.getAttribute("aria-label"),o=e.textContent?.trim(),i=o?.replace(/\s+/g," ").trim();return(0,s.sanitizeText)(t||r||i)}).filter(e=>e&&e.length>0);if(!r.join(", ").trim()){let e=t.querySelectorAll("label");r=Array.from(e).map(e=>{let t=(0,s.sanitizeText)(e.textContent);return t}).filter(e=>e&&e.length>0)}return(0,s.arrayToJsonString)(r)}if("radio"===t.getAttribute("type")){let e=t.getAttribute("name");if(e){let t=document.querySelectorAll(`input[name="${e}"]`),r=Array.from(t).map(e=>{let t=e.getAttribute("value");if(t&&t.trim().length>0)return t.trim();let r=e.closest("label");if(r){let e=r.querySelector('.application-answer-alternative, [class*="answer-alternative"]');if(e?.textContent)return e.textContent.trim()}let o=e.getAttribute("id");if(o){let e=document.querySelector(`label[for="${o}"]`);if(e?.textContent)return e.textContent.trim()}if(r?.textContent)return r.textContent.trim();let i=e.getAttribute("aria-labelledby");if(i){let e=document.getElementById(i);if(e?.textContent)return e.textContent.trim()}let n=e.closest("[data-value]")?.getAttribute("data-value");return n||null}).filter(e=>e&&e.length>0);return(0,s.arrayToJsonString)(r)}}if("checkbox"===t.getAttribute("type")){let e=t.getAttribute("name");if(e){let t=document.querySelectorAll(`input[type="checkbox"][name="${e}"]`),r=Array.from(t).map(e=>{let t=e.closest("label");if(t){let r=t.querySelectorAll("span");for(let t of r){let r=t.textContent?.trim()||"";if(0===t.children.length&&r.length>5&&r.length<200)return(0,i.log)(`\u2705 Extracted checkbox option: "${r}" (value: ${e.value})`),r}let o=t.cloneNode(!0),n=o.querySelector("input");n&&n.remove();let l=o.textContent?.trim();if(l&&l.length>5&&l.length<200)return(0,i.log)(`\u2705 Extracted checkbox option (label): "${l}" (value: ${e.value})`),l}return console.warn(`\u26a0\ufe0f Could not extract text for checkbox with value="${e.value}". Skipping.`),null}).filter(e=>e&&e.length>0);return(0,s.arrayToJsonString)(r)}}return""}function m(e,t){let r=e.tagName.toLowerCase(),o=e.getAttribute("role")?.toLowerCase()||"",i=e.getAttribute("type")?.toLowerCase()||"",n=e.getAttribute("name")?.toLowerCase()||"",l=e.getAttribute("id")?.toLowerCase()||"",s=e.getAttribute("autocomplete")?.toLowerCase()||"",a=e.className.toLowerCase(),c=e.getAttribute("data-uxi-widget-type")?.toLowerCase()||"",u=e.getAttribute("placeholder")?.toLowerCase()||"",d=a.includes("select2")||a.includes("select2-focusser")||a.includes("select2-offscreen")||null!==e.closest(".select2-container");if(d)return"select";if("textarea"===r)return"text";if("select"===r)return"select";if("combobox"===o){let t=n.includes("location")||l.includes("location")||s.includes("location")||null!==e.closest("auto-complete");return t?"text":"select"}if("radiogroup"===o)return"radio";if("checkbox"===o)return"checkbox";if("button"===r&&"listbox"===e.getAttribute("aria-haspopup"))return"select";let p={text:"text",search:"text",password:"text",email:"email",tel:"phone",phone:"phone",number:"number",date:"date",datetime:"date",datetime_local:"date",month:"date",week:"date",time:"date",url:"url",radio:"radio",checkbox:"checkbox",file:"file",range:"number",color:"color",hidden:"hidden"}[i]||"text";if("radio"===p&&t){let e=t.split(",").map(e=>e.trim()).filter(Boolean);if(e.length>3)return"radio";if(2===e.length){let t=e.map(e=>e.toLowerCase());["yes","no","true","false"].some(e=>t.includes(e))}return"radio"}if("checkbox"===p&&t){let e=t.split(",").map(e=>e.trim()).filter(Boolean);return e.length,"checkbox"}if("selectinput"===c)return"select";if("mm"===u||"yyyy"===u||"mm/dd/yyyy"===u||"yyyy-mm-dd"===u||l.includes("date-value"))return"date";if("spinbutton"===o){let t=e.getAttribute("aria-label")?.toLowerCase()||"";if(t.includes("year")||t.includes("month")||t.includes("day")||l.includes("date")||n.includes("date")||l.includes("year")||n.includes("year")||l.includes("month")||n.includes("month"))return"date"}return p}async function f(e,t){let r=[],o=new Set,c=new Set,u=new Set,f=t?.fieldConfig?.fieldWrapper,h=t?.fieldConfig?.labelSelector,C=["dom"];for(let E of(f&&h&&((0,i.log)("No fieldWrapper found in config"),C=Array.from(document.querySelectorAll(f))),C)){let f=C.includes("dom")?document:E,q=f.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([name*="recaptcha"]):not([name*="authenticity_token"]):not([name*="security_code"]), textarea:not([name*="recaptcha"]), select, [role="combobox"], [role="radiogroup"], [data-testid*="customQuestions"], div[class*="css-12zup1l"] button[aria-haspopup="listbox"]');for(let C of q){let E=C;if((0,l.isGreenhouse)()){let e="file"===E.getAttribute("type"),t="TEXTAREA"===E.tagName&&E.getAttribute("name")?.includes("cover_letter_text");if(e||t){let e=T(E);e&&!r.some(t=>t.name===e.name)&&r.push(e)}}if("file"===E.getAttribute("type"))continue;if("checkbox"===E.getAttribute("type")){let a=["set","name"],u=a.find(e=>E.hasAttribute(e)),d=u?E.getAttribute(u):null;if(!d){let e=E.closest("fieldset");e?.getAttribute("id")&&(d=e.getAttribute("id"))}if(!d||c.has(d)&&!(0,l.isGreenhouse)())continue;let p=d.replace(/\[/g,"\\[").replace(/\]/g,"\\]");p.includes("-checkbox-")&&(p=p.replace(/-\d+$/,""));let m=a.map(e=>`input[type="checkbox"][${e}*="${p}"]`).join(", "),g=document.querySelectorAll(m);if((0,l.isGreenhouse)()){let e=Array.from(g).filter(e=>{let t=e.closest("label"),r=t?t.parentElement:e.parentElement;return r===E.closest("label")?.parentElement});g=e}if(1===g.length){let e=E.closest('[role="group"]');if(!e)continue;g=e.querySelectorAll('input[type="checkbox"]')}if(!g.length){let e=E.closest("fieldset");if(!e)continue;g=e?.querySelectorAll('input[type="checkbox"]')}if(g.length>1){c.add(d);let l=await Promise.resolve(y(g))??[],a=(0,s.arrayToJsonString)(l),u=b(E,l);if(!u){let e=E.closest('[role="group"]');if(!e)continue;let t=e.previousElementSibling;if(!t||!t.matches('[class*="styles__label--"]'))continue;let r=Array.from(t.querySelectorAll("strong")).map(e=>e.textContent?.trim()).filter(e=>e&&"*"!==e),o=r[0]??t.textContent;u=o?.replace(/\s*\(Optional\)\s*/i,"").trim()||null}if(!u){let e=E.closest("fieldset");if(!e)continue;let t=e.closest("fieldset")?.parentElement?.closest("fieldset")||e.closest("fieldset");if(!t)continue;let r=t.querySelector("legend");r?.textContent&&(u=(0,n.cleanQuestionText)(r.textContent))}if(!u){(0,i.log)(`\u26a0\ufe0f Could not extract question text for checkbox group: ${d}`);continue}let p=u?.toLowerCase().trim();if(o.has(p)||e.has(p))continue;o.add(p),(0,i.log)(`\u2705 Checkbox group detected: "${u}" with ${g.length} options`),(0,i.log)(`   Options: ${a.substring(0,80)}...`);let m=await Promise.resolve(v(E,f,t?.requiredquestionstatus));r.push({name:u,type:"checkbox",options:a,is_required:!!m});continue}if(1===g.length)continue}if("radio"===E.getAttribute("type")){let n=E.getAttribute("name");if(n){if(u.has(n))continue;let l=n.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),a=document.querySelectorAll(`input[type="radio"][name="${l}"]`);if(a.length>1){u.add(n);let l=await Promise.resolve(y(a))??[],c=(0,s.arrayToJsonString)(l),d=b(E,l);if(!d){(0,i.log)(`\u26a0\ufe0f Could not extract question text for checkbox group: ${n}`);continue}o.has(d?.toLowerCase().trim())&&!r.some(e=>e.options===c)&&(d=w(E,d)),(o.has(d?.toLowerCase().trim())||e.has(d?.toLowerCase().trim())||!d)&&(d=(0,s.getShadowSafeQuestion)(E,d));let p=d?.toLowerCase().trim();if(o.has(p)||e.has(p))continue;o.add(p);let m="radio";(0,i.log)(`\u2705 radio group detected: "${d}" with ${a.length} options (type: ${m})`),(0,i.log)(`   Options: ${c.substring(0,80)}...`);let g=await Promise.resolve(v(E,f,t?.requiredquestionstatus));r.push({name:d,type:m,options:c,is_required:!!g});continue}}}let q=E.closest('[id*="Survey"], [id*="survey"], [data-qa*="survey"]'),F=null!==E.offsetParent,L=E.offsetWidth>0||E.offsetHeight>0,$="none"!==window.getComputedStyle(E).display,M=!E.hidden,R=F||!!q||L&&$&&M;if(!R)continue;let P=(0,n.cleanQuestionText)(g(f,E,h));if((0,l.isGreenhouse)()&&"text"===E.getAttribute("type")&&(E.getAttribute("placeholder")?.toLowerCase()==="mm"||E.getAttribute("placeholder")?.toLowerCase()==="yyyy")&&(P=(0,n.cleanQuestionText)(d(E))),P||(P=(0,n.cleanQuestionText)(d(E))),!P)continue;let I=P?.toLowerCase(),_=I.startsWith("file exceeds")||I.startsWith("note:")||I.startsWith("let ")||I.includes("maximum upload")||I.includes("resume here")||I.includes("error:")||I.includes("pdf, doc, docx, txt, rtf")||I.includes("additional questions")||I.includes("where 1 is hate and 5 is love")||"Resume/CV"===P||"Personal Details"===P||"SVGs not supported by this browser."===P||!!(0,l.isWorkday)()&&"Country Phone Code"===P;if(_){(0,i.log)(`Skipping invalid question text: "${P.substring(0,50)}..."`);continue}let O=I.trim();if(o.has(O)||e.has(O))continue;o.add(O);let D=await Promise.resolve(p(f,E)),N=await Promise.resolve(m(E,D));!(0,l.isGreenhouse)()&&D?.length>0&&r.find(e=>e?.options===D)&&!o.has(P)&&"select"===N&&(D=await Promise.resolve(A(E,D)),await (0,a.AsyncUtils).sleep(100)),((0,l.isGreenhouse)()||(0,l.isWorkday)())&&"select"===N&&("school"===O||O.includes("school or"))&&(N="text",D=""),E?.classList?.contains("datetimefield")&&(P+=" (yyyy-mm-dd)"),q&&(0,i.log)(`Survey question: "${P.substring(0,40)}..." [${N}]`),"date"===N&&(P=await Promise.resolve(S(E,P))),("text"===N||"textarea"===N)&&(P=await Promise.resolve(x(E,P))),"[object Object]"===E.getAttribute("texts")&&"text"===N&&(P=await Promise.resolve(k(E,P)));let j=await Promise.resolve(v(E,f,t?.requiredquestionstatus));await new Promise(e=>setTimeout(e,1e3)),r.push({name:P,type:N,options:D,is_required:!!j})}}return(0,i.log)(`Collected ${r.length} form questions`),r}function g(e,t,r){try{let o=e.querySelectorAll(r),l=null;if(o.length>1&&(l=t.closest(r)),!l&&o.length>1&&t?.previousElementSibling?.querySelector(r)&&(l=t?.previousElementSibling?.querySelector(r)),t?.previousElementSibling?.tagName?.toLowerCase()===r?.toLowerCase()&&(l=t.previousElementSibling),!l&&o.length>0&&(l=o[0]),l){let e=l.cloneNode(!0);e.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg, a[href]").forEach(e=>e.remove());let t=(e.textContent||"").trim(),r=(0,n.cleanQuestionText)(t).trim();return(0,i.log)(`\ud83d [Lever Custom Card] Extracted: "${r}"`),r}let s=t?.getAttribute?.("id");if(s){let e=document.querySelector(`label[for="${s}"]`);if(e){let t=e.cloneNode(!0);t.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg, a[href]").forEach(e=>e.remove());let r=(t.textContent||"").trim(),o=(0,n.cleanQuestionText)(r).trim();return(0,i.log)(`\ud83d [Lever Custom Card Fallback] Extracted: "${o}"`),o}}return null}catch(e){return console.error("Error in extractMatchQuestionText:",e),null}}let h=e=>{try{let t=e?.closest(".select2-container")?.parentElement??e?.parentElement,r=0;for(;t&&r<2;){let e=t.querySelector("select");if(e?.tagName?.toLowerCase()==="select"){let t=[...e.querySelectorAll("option")].filter(e=>e instanceof HTMLOptionElement&&e.value?.trim()).map(e=>{let t=e.textContent?.trim();return t&&!(0,s.IGNORED_TEXT_OPTIONS).includes(t)?t:!e.value||e.value.includes("FormsEngine.")||e.value.includes("Country:")?null:e.value}).filter(Boolean);return(0,s.arrayToJsonString)(t)}t=t.parentElement,r++}return""}catch(e){return console.error("Error while fetching Select2 value:",e),""}},y=e=>{let t=[];return e.forEach(e=>{try{let r=e.closest("label"),o="";if(r){let e=r.cloneNode(!0);e.querySelectorAll("select, input, textarea, .select2-container, .asterisk, br, svg").forEach(e=>e.remove()),o=e.textContent?.trim()||""}else{let t=e.nextSibling?.textContent?.trim(),r=e.getAttribute("aria-label")?.trim();o=t||r||""}if(!o){let t=e.getAttribute("id");if(t){let e=document.querySelector(`label[for="${CSS.escape(t)}"]`);e&&(o=e.textContent?.trim()||"")}}let i=o||e.value;i&&!t.includes(i)&&t.push(i)}catch(e){console.error("Error processing input option:",e)}}),t},b=(e,t)=>{let r=e.closest("fieldset");if(r){let e=r.querySelector("legend"),t=e?.textContent?.trim();if(t&&t.length>5)return(0,n.cleanQuestionText)(t);if(!t&&(0,l.isWorkday)()){let e=r?.parentElement?.closest("fieldset");if(e){let t=e.querySelector("legend"),r=t?.textContent?.trim();if(r&&r.length>5)return(0,n.cleanQuestionText)(r)}}}let o=e.parentElement,i=0;for(;o&&i<5;){let e=(0,s.getElementOwnTextOnly)(o);if(e&&e.length>5&&e.length<500){let r=e.replace(/\s+/g,"").toLowerCase(),o=t.some(e=>r===e.replace(/\s+/g,"").toLowerCase());if(!o)return e}let r=o.querySelector("p, h1, h2, h3, h4, h5, h6, label, legend"),l=(0,s.sanitizeText)(r?.textContent);if(r&&l){let e=(0,n.cleanQuestionText)(l);if(e&&e.length>5&&e.length<500){let r=e.replace(/\s+/g,"").toLowerCase(),o=t.some(e=>r===e.replace(/\s+/g,"").toLowerCase());if(!o)return e}}o=o.parentElement,i++}return null},w=(e,t)=>{if(!e)return null;let r=e;for(;r;){let e=r.previousElementSibling;for(;e;){if(e.matches("h3")){let t=e.textContent?.trim()||"";return t||null}e=e.previousElementSibling}r=r.parentElement}return t},S=(e,t)=>{let r=e.className.toLowerCase(),o=e.getAttribute("placeholder")?.toLowerCase()||"",i=e.getAttribute("name")?.toLowerCase()||"",n=e.getAttribute("maxlength")||"",s=e.getAttribute("type")||"",a=e.getAttribute("id")?.toLowerCase()||"",c=e.closest('[data-automation-id="dateInputWrapper"]');if((0,l.isWorkday)()&&c){let e=c?.querySelectorAll('input[data-automation-id*="dateSection"], input[aria-label*="month"], input[aria-label*="day"], input[aria-label*="year"]'),r=Array.from(e).some(e=>e.getAttribute("aria-label")?.toLowerCase()==="month"||e.getAttribute("data-automation-id")?.includes("Month")),o=Array.from(e).some(e=>e.getAttribute("aria-label")?.toLowerCase()==="day"||e.getAttribute("data-automation-id")?.includes("Day")),i=Array.from(e).some(e=>e.getAttribute("aria-label")?.toLowerCase()==="year"||e.getAttribute("data-automation-id")?.includes("Year")),n=[];if(r&&n.push("mm"),o&&n.push("dd"),i&&n.push("yyyy"),1===n.length)return`${t} (${n[0]})`;if(2===n.length||3===n.length)return`${t} (${n.join("/")})`}if(/\((mm|yyyy|mm\/dd\/yyyy|yyyy-mm-dd|yyyy\/mm\/dd)\)/i.test(t))return t;if("mm"===o||"yyyy"===o||"mm/dd/yyyy"===o||"yyyy-mm-dd"===o){if("mm/dd/yyyy"===o)return`${t} (mm/dd/yyyy)`;if("yyyy-mm-dd"===o)return`${t} (yyyy/mm/dd)`;if(r.includes("month")||"mm"===o||"2"===n)return`${t} (mm)`;if(r.includes("year")||"yyyy"===o||"4"===n)return`${t} (yyyy)`}if(i?.indexOf("input-date")>-1&&e?.getAttribute("ng-model")||a.includes("date-value")||"date"===s)return`${t} (yyyy-mm-dd)`;if("spinbutton"===e.getAttribute("role")){let r=e.getAttribute("aria-label")?.toLowerCase()||"",o=e.getAttribute("data-automation-id")?.toLowerCase()||"";if("month"===r||"dateSectionMonth-input"===o)return`${t} (mm)`;if("year"===r||"dateSectionYear-input"===o)return`${t} (yyyy)`}return t},x=(e,t)=>{try{if(!e)return t;let r=null,o=e.getAttribute("maxlength")||e.getAttribute("maxLength");if(o&&!isNaN(Number(o))&&(r=Number(o)),!r){let t=e.dataset,o=t?.maxlength||t?.maxLength||t?.limit||t?.charlimit;o&&!isNaN(Number(o))&&(r=Number(o))}if(!r){let t=e.getAttribute("aria-describedby");if(t){let e=t.split(" ").map(e=>e.trim());e.forEach(e=>{let t=document.getElementById(e);if(!t)return;let o=t.textContent||"",i=o.match(/(\d+)\s*(characters?|(remaining|limit))/i);i&&!r&&(r=Number(i[1]))})}}if(!r){let t=e.parentElement?.innerText||"",o=t.match(/max(?:imum)?\s*(\d+)\s*characters?/i);o&&(r=Number(o[1]))}if(!r||isNaN(r))return t;return`${t} (maximum ${r} characters)`}catch{return t}},v=(e,t,r)=>!!(e.hasAttribute("required")||"true"===e.getAttribute("aria-required")||!t?.querySelector('span[id*="-helper"]')||e?.tagName?.toLowerCase()==="fieldset"||e.hasAttribute("required")||"true"===e.getAttribute("aria-required"))||C(e,r),C=(e,t)=>{if(!e||!Array.isArray(t))return!1;let r=e=>e?e.split(",").map(e=>e.trim()).filter(Boolean):[];for(let o of t)switch(o.type){case"attribute":{let t=r(o.name);for(let r of t)if(e.hasAttribute(r)&&(!o.value||e.getAttribute(r)===o.value))return!0;break}case"class":{let t=r(o.selector),i=null;if(e.id&&(i=document.querySelector(`label[for="${e.id}"]`)),!i){let t=e.previousElementSibling;t&&t.matches('[class*="styles__label--"]')&&(i=t)}if(!i&&e instanceof HTMLInputElement&&"checkbox"===e.type){let t=e.closest('[role="group"]'),r=t?.previousElementSibling;r?.matches('[class*="styles__label--"]')&&(i=r)}for(let r of(i||(i=e?.closest('[class*="styles__input-group"]')?.querySelector('[class*="styles__label"]')),t))if(e.classList.contains(r)||e.querySelector(`[class*="${r}"]`)||e.closest(`[class*="${r}"]`)||i?.className?.includes(r)||i?.querySelector(`[class*="${r}"]`)?.textContent?.includes("*"))return!0;break}case"closest":{let t=r(o.selector);for(let r of t){let t=r.startsWith(".")?r:`.${r}`,o=e.closest(t);if(!o)continue;let i=o.querySelector("label");if(i?.textContent?.includes("*")||o.querySelector(".asterisk")?.textContent?.includes("*")||o?.classList?.contains("required"))return!0}break}case"labelText":{let t=e.closest("label")||(e.id?document.querySelector(`label[for="${e.id}"]`):null);if(e?.getAttribute("type")==="checkbox"&&!t?.textContent?.includes("*")){let r=e.closest("div.form-group");r&&(t=r.querySelector("label"))}if(t?.textContent?.includes(o.contains))return!0;break}case"dice":{let t=e.closest(".textarea-input-wrapper, .radio-input-wrapper, .ja-free-text-wrapper, .ja-radio-buttons-wrapper");if(t?.querySelector("seds-paragraph")?.textContent?.includes("*")||t?.querySelector('[class*="required"]'))return!0;break}case"select2":{let t=e.closest(".select2-container");if(t?.querySelector('select[aria-required="true"]')||t?.querySelector("label")?.textContent?.includes("*"))return!0;break}case"label-asterisk":{let t=r(o.selector);for(let r of t){let t=e.closest(r);if(!t)continue;let o=null,i=e.getAttribute("id");if(i&&(o=document.querySelector(`label[for="${i}"]`)),o||(o=e.closest("label")),o&&(o.querySelector("abbr.requiredAsterisk")||o.querySelector('abbr[aria-hidden="true"]')||o.textContent?.includes("*")))return!0;if("fieldset"===r){let e=t.querySelector("legend");if(e&&(e.querySelector("abbr.requiredAsterisk")||e.textContent?.includes("*")))return!0}}}}let o=e.closest(".field.demographic_question, .field.required, .field");return!!(o&&(o.classList.contains("required")||o.querySelector(".asterisk")?.textContent?.includes("*")))};async function A(e,t){if("combobox"===e.getAttribute("role")){let t=null;try{let r=null;for(let t=0;t<2&&!r;t++)(0,s.triggerMouseEvents)(e),await (0,a.AsyncUtils).sleep(500),r=e.getAttribute("aria-controls");if(r&&(t=document.getElementById(r)),t)return await new Promise(r=>{setTimeout(()=>{let o=Array.from(t.querySelectorAll('[role="option"]')).map(e=>e.textContent?.trim()).filter(e=>e&&"select"!==e.toLowerCase()&&"select..."!==e.toLowerCase());(0,s.triggerMouseEvents)(e),o.length>0?r((0,s.arrayToJsonString)(o)):r("")},100)})}catch(e){}}return new Promise(e=>setTimeout(()=>e(t),100))}let E=(e=document.createElement("div"))=>{let t=e.cloneNode(!0);return t.querySelectorAll("svg, use, path, img, br, input, select, textarea, .asterisk").forEach(e=>e.remove()),t.textContent?.replace(/\s+/g," ").trim()??""},k=(e,t)=>{let r=e.getAttribute("type")||"",o=e.getAttribute("texts")||"";return/\(Numbers only\)/i.test(t)?t:"text"===r&&"[object Object]"===o?`${t} (Numbers only)`:t},T=e=>{try{let t=e?.closest('[data-field="cover_letter"], .file-upload, .attach-or-paste');if(t){let e=t.getAttribute("aria-labelledby");if(e&&!e.includes("cover_letter"))return null;let r=t?.hasAttribute("required")||t?.getAttribute("aria-required")==="true"||!!t?.querySelector(".required")||!!t?.closest("fieldset")?.querySelector(".asterisk");if(!r)return(0,i.log)("\u2139\ufe0f Greenhouse Cover Letter is optional. Skipping question."),null;let o=t?.closest("fieldset"),n=o?.querySelector("label")||t?.querySelector(".upload-label")||t?.querySelector(".label"),l=(n?.textContent||"Cover Letter").replace(/\s+/g," ").replace(/\*/g,"").trim(),s=t.querySelector("textarea[name*='cover_letter_text']");s||(s=t.querySelector("[data-testid='cover_letter-text']"));let a=s?"text":"file";return{name:l,type:a,options:""}}return null}catch(e){return(0,i.log)(`\u26a0\ufe0f Error in getCoverLetterQuestion: ${e}`),null}}},{"../../logger":"8IkKh","../../utils/elementFinder":"inTYG","../../config/website-rules.config":"18hEH","~helper/commonHelpers":"gwFvg","~services/autofill/utils/AsyncUtils":"kiClj","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],kiClj:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"AsyncUtils",()=>i);class i{static async sleep(e){return new Promise(t=>setTimeout(t,e))}static async waitForCondition(e,t=5e3,r=500){let o=Date.now();for(;Date.now()-o<t;){if(e())return!0;await this.sleep(r)}return!1}static async retryWithBackoff(e,t=3,r=1e3,o=2){let i=r;for(let r=0;r<t;r++)try{return await e()}catch(e){if(r===t-1)return null;await this.sleep(i),i*=o}return null}static async waitForPauseOrStop(e,t){for(;e()&&!t();)await this.sleep(500);return t()?"stopped":"continue"}static async processBatch(e,t,r=300){let o=[];for(let i=0;i<e.length;i++){let n=await t(e[i],i);o.push(n),i<e.length-1&&await this.sleep(r)}return o}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],edzoI:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"handleComplexForm",()=>y),o.export(r,"handleMissingQuestions",()=>b);var i=e("../../logger"),n=e("../../utils/formFiller"),l=e("../../utils/ApplicationStateChecker"),s=e("../../utils/FormSubmitter"),a=e("../../utils/MultiStepFormNavigator"),c=e("../../utils/DynamicStateMonitor"),u=e("../../utils/SuccessDetector"),d=e("../../utils/AsyncUtils"),p=e("../../utils/captchaUtil"),m=e("~helper/commonHelpers"),f=e("../../utils/MandatoryFieldValidator"),g=e("../../utils/progressTracker"),h=e("~services/autofill/utils/cookieHelper");async function y(e,t,r){if((0,i.log)("\uD83D\uDE80 Starting complex form workflow"),"string"==typeof t)try{t=JSON.parse(t)}catch(e){(0,i.logError)("Failed to parse complexInstructions:",e)}await chrome.storage.local.set({complexFormInProgress:!0,complexFormData:{applicationDetails:e,complexInstructions:t,autoApplyEnabled:r}});let o=[];(0,m.sendPageQuestionsToSidepanel)([]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:70,message:"Checking page status..."}).catch(()=>{});try{let e=t?.applicationStatus?.success?.find(e=>"webRequest"===e.type);e&&e.apiEndpoint?localStorage.setItem("apiWebRequest",e.apiEndpoint):localStorage.removeItem("apiWebRequest")}catch(e){localStorage.removeItem("apiWebRequest")}let n=(0,l.ApplicationStateChecker).checkAllStates(t);if(!n.canContinue){chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:n.errorType,message:n.message,url:window.location.href}).catch(()=>{});return}(0,c.DynamicStateMonitor).startMonitoring(t,async e=>{(0,i.logError)(`Dynamic error detected during autofill: ${e.errorType}`),await (0,d.AsyncUtils).sleep(2e3),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{}),await (0,d.AsyncUtils).sleep(2e3)},2e3);let y=!1,b=null,w=new Promise(e=>{b=e});if((0,u.SuccessDetector).startMonitoring(t?.applicationStatus,async e=>{(0,i.logSuccess)(`Application completed: ${e}`),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),(0,c.DynamicStateMonitor).stopMonitoring(),(0,u.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:e,url:window.location.href,success_next_job:!0}).catch(()=>{}),y=!0,b&&b(),(0,i.log)("\u23f1\ufe0f Waiting 5 seconds before moving to next application..."),await (0,d.AsyncUtils).sleep(5e3)},2e3),await Promise.race([(0,d.AsyncUtils).sleep(3e3),w]),y)return;let S=(0,f.MandatoryFieldValidator).checkSubmissionErrors(t);if(S.hasError){(0,i.logError)("\u274c Required fields are missing or invalid"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"missing-questions",message:"Required fields are missing or invalid - submission blocked",url:window.location.href}).catch(()=>{});return}(0,h.autoAcceptCookies)(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:75,message:"Filling application form..."}).catch(()=>{});let x=t?.multiFormFlag===!0,v=t?.multiFormData;x&&(0,i.log)("\uD83D\uDD04 Multi-step form detected - will navigate through pages");let C=await (0,a.MultiStepFormNavigator).universalHasFieldsToFill();if(x&&!C){(0,i.log)("\u26a0\ufe0f No fields on current page after waiting - attempting to navigate to next step"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:76,message:"No fields on this page, clicking next button..."}).catch(()=>{});let r=await (0,a.MultiStepFormNavigator).navigateToNextStep(v,t,e);r.navigated?((0,i.logSuccess)(`Navigated to next step: ${r.message}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:77,message:"Moved to next page, waiting for form to load..."}).catch(()=>{})):(0,i.logError)("Failed to navigate: "+r.message),await (0,d.AsyncUtils).sleep(2e3)}if(t?.checkFiledButton){let e=(0,m.findFieldButtonElements)(t.checkFiledButton);for(let t of e)(0,i.log)("\uD83D\uDDB1\ufe0f Clicking additional button before filling: ",t),(0,m.triggerMouseEvents)(t),await (0,d.AsyncUtils).sleep(500)}if(t?.multiFormData&&Array.isArray(t.multiFormData)){let n={navigated:!1,pageChanged:!1,message:""},c=(0,a.MultiStepFormNavigator).getFinalSubmitButton(t.multiFormData),u=(0,a.MultiStepFormNavigator).isOnFinalPage(t.multiFormData);for(let r=0;r<10;r++){u=(0,a.MultiStepFormNavigator).isOnFinalPage(t.multiFormData),c=(0,a.MultiStepFormNavigator).getFinalSubmitButton(t.multiFormData);let l=!u;if((0,i.log)(`\ud83d Step ${r+1}: isOnFinal=${u}, shouldClickNext=${l}`),n=await (0,a.MultiStepFormNavigator).navigateToNextStepForComplex(t.multiFormData,t,e,15e3,l),n?.failedFields)for(let e of n?.failedFields)o.some(t=>t.question===e.question)||o.push(e);if(n.successCount,n.failCount,n.fatal){(0,i.logError)("Fatal navigation error detected, stopping flow");return}if(!n.navigated||!n.pageChanged){if(u=(0,a.MultiStepFormNavigator).isOnFinalPage(t.multiFormData)){(0,i.log)("Reached final page and filled it.");break}let e=await (0,f.MandatoryFieldValidator).hasValidationErrors(t,t?.applicationStatus,!0);if(e){(0,i.log)("Validation errors detected preventing navigation");break}if(u=(0,a.MultiStepFormNavigator).isOnFinalPage(t.multiFormData))break;(0,i.log)("Navigation stopped (no page change and not final).");break}await (0,d.AsyncUtils).sleep(2e3)}if(t?.isCaptchaRequired)try{let e=(0,p.CaptchaDetector).scan({full:!0},t?.captchaConfig);if(await (0,d.AsyncUtils).sleep(1e3),e&&e.length>0){let t=e.map(e=>e.provider).join(", ");(0,i.logError)(`\ud83e Captcha detected on page (${t}) - manual intervention required`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"captcha",message:`Captcha detected on page (${t}) - please complete it manually`,url:window.location.href}).catch(()=>{});return}await (0,d.AsyncUtils).sleep(1e3);let r=(0,l.ApplicationStateChecker).checkCaptcha(t);if(!r.canContinue){(0,i.logError)(`\ud83e Captcha detected: ${r.message}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:r.errorType,message:r.message,url:window.location.href}).catch(()=>{});return}}catch(e){console.warn("Captcha detection check failed:",e)}if(!r){(0,i.logSuccess)("Form filled, auto-apply disabled - waiting for manual submission"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:100,message:"Form filled - Click on submit application button to proceed",url:window.location.href,removeNotification:!0}).catch(()=>{});return}if((0,g.progressTracker).isStopped()){(0,i.log)("\u23f9\ufe0f Process stopped");return}let h=await (0,m.waitForIsMissingUIShowToBeFalseOrTimeout)();if((0,i.log)(`${h} Watting Missing details popup`),await (0,d.AsyncUtils).sleep(2e3),c){(0,i.log)(`\ud83d\ufe0f On final page, attempting to submit with button: "${c}"`),(0,i.log)(`Clicking submit button: "${c}"`);let r=Array.isArray(t.multiFormData)?t.multiFormData:[],o=null;for(let e of r){let t=e?.type==="lastButtonText"&&e.lastButtonText;if(t&&(o=await (0,s.FormSubmitter).findButton(e.lastButtonText)))break}if(o){(0,m.humanClick)(o),(0,i.log)(`${o} Humman Click`),await (0,d.AsyncUtils).sleep(2e3),(0,i.logSuccess)(`Submit button clicked in UI: ${c}`),(0,i.log)("\uD83D\uDD0D Checking for validation errors after submit...");let r=await (0,f.MandatoryFieldValidator).hasValidationErrors(t,t?.applicationStatus,!0);if(r){(0,i.logError)("\u274c Validation errors detected after submit - checking if captcha is blocking"),(0,i.logError)("\u274c Required fields are missing or invalid"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"missing-questions",message:"Required fields are missing or invalid - submission blocked",url:window.location.href}).catch(()=>{});return}(0,i.log)("\u2713 No validation errors after submit"),await (0,s.FormSubmitter).saveSubmissionState(String(e.application_id),String(e.copilot_job_id),t?.applicationStatus);let n=await (0,s.FormSubmitter).waitForSubmissionResult(t?.applicationStatus);await (0,s.FormSubmitter).clearSubmissionState(),n.detected&&n.isSuccess?((0,i.logSuccess)(`Application submitted successfully: ${n.message}`),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:n.message,url:window.location.href}).catch(()=>{})):((0,i.log)("\u274c Submission failed"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"submissionFailed",message:n.message||"Application submission failed",url:window.location.href}).catch(()=>{}))}else{(0,i.logError)(`Submit button not found: ${c}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"buttonNotFound",message:`Submit button not found: ${c}`,url:window.location.href}).catch(()=>{});return}}else{(0,i.logError)("No lastButtonText found in multiFormData"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"incomplete",message:"No submit button configured",url:window.location.href}).catch(()=>{});return}}}async function b(e){console.log(e,"answer");for(let t=0;t<e.length;t++){let r=e[t];if(r){let e=null!==r.a&&void 0!==r.a&&""!==r.a;if(e){let e=await (0,n.fillSeekerResponse)(r);e?((0,m.sendATSQuestionResult)(r.q,!0),console.log("done")):((0,m.sendATSQuestionResult)(r.q,!1),console.log("not done"))}else(0,m.sendATSQuestionResult)(r.q,!1)}await (0,d.AsyncUtils).sleep(300)}return[]}},{"../../logger":"8IkKh","../../utils/formFiller":"bV5He","../../utils/ApplicationStateChecker":"e6uTN","../../utils/FormSubmitter":"4z5Xf","../../utils/MultiStepFormNavigator":"kM2MG","../../utils/DynamicStateMonitor":"aW8m1","../../utils/SuccessDetector":"82Qns","../../utils/AsyncUtils":"kiClj","../../utils/captchaUtil":"igl2E","~helper/commonHelpers":"gwFvg","../../utils/MandatoryFieldValidator":"4ZWpj","../../utils/progressTracker":"cII7Q","~services/autofill/utils/cookieHelper":"iYY17","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],e6uTN:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ApplicationStateChecker",()=>a);var i=e("./ElementVisibility"),n=e("../logger"),l=e("../config/website-rules.config"),s=e("./captchaUtil");class a{static checkSuccess(e){if(!e?.success||!Array.isArray(e.success))return!1;for(let t of e.success)try{if("screenText"===t.type&&t.screenText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.screenText))return(0,n.log)(`\u2705 Success indicator found: "${t.screenText}"`),!0;if("toasterText"===t.type&&t.toasterText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.toasterText))return(0,n.log)(`\u2705 Success indicator found (toast): "${t.toasterText}"`),!0;if("domSelector"===t.type&&t.domSelector){let e=Array.isArray(t.domSelector)?t.domSelector:[t.domSelector];for(let t of e){let e=document.querySelector(t);if(e&&(0,i.ElementVisibility).isVisible(e))return(0,n.log)(`\u2705 Success indicator found via domSelector: ${t}`),!0}}}catch(e){}return!1}static checkJobClosed(e){if(!e?.jobClosed||!Array.isArray(e.jobClosed))return{canContinue:!0};for(let t of e.jobClosed)try{if("screenText"===t.type&&t.screenText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.screenText)||"toasterText"===t.type&&t.toasterText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.toasterText))return(0,n.logError)("Job closed detected via screenText"),{canContinue:!1,errorType:"jobClosed",message:`Job posting has closed: ${t.screenText}`};if("domSelector"===t.type&&t.domSelector){let e=Array.isArray(t.domSelector)?t.domSelector:[t.domSelector];for(let t of e){let e=document.querySelector(t);if(e&&(0,i.ElementVisibility).isVisible(e))return(0,n.logError)(`Job closed detected via domSelector: ${t}`),{canContinue:!1,errorType:"jobClosed",message:"Job posting is no longer available"}}}if("jsObject"===t.type&&t.jsObject&&this.checkJsObject(t.jsObject))return(0,n.logError)("Job closed detected via jsObject check"),{canContinue:!1,errorType:"jobClosed",message:"Job posting has expired"}}catch(e){(0,n.log)(`Error checking jobClosed item: ${e.message}`)}return{canContinue:!0}}static checkAlreadyApplied(e){if(!e?.alreadyApplied||!Array.isArray(e.alreadyApplied))return{canContinue:!0};for(let t of e.alreadyApplied)try{if(t?.shadowRoot)try{let e=document.querySelector(t.shadowRoot);if(e&&e.shadowRoot){let r=e.shadowRoot.textContent||"",o=t.buttonText||"Applied";if(r.toLowerCase().includes(o.toLowerCase()))return{canContinue:!1,errorType:"alreadyApplied",message:"You have already applied to this job"}}}catch(e){}if(t.domSelector){let e=Array.isArray(t.domSelector)?t.domSelector:[t.domSelector];for(let r of e)try{let e=document.querySelector(r);if(e&&(0,i.ElementVisibility).isVisible(e)){if(!(0,l.isIndeed)())return(0,n.logError)(`Already applied detected via domSelector: ${r}`),{canContinue:!1,errorType:"alreadyApplied",message:"You have already applied to this job"};{let o=e.textContent||"",i=t.expectedText||"Applied";if(o.toLowerCase().includes(i.toLowerCase()))return(0,n.logError)(`Already applied detected on Indeed via domSelector: ${r}`),(0,n.log)(`Element text: "${o.substring(0,50)}" contains "${i}"`),{canContinue:!1,errorType:"alreadyApplied",message:"You have already applied to this job"};(0,n.log)(`Indeed selector "${r}" found but text doesn't match. Found: "${o.substring(0,30)}", Expected: "${i}"`)}}}catch(e){(0,n.log)(`Error with selector "${r}": ${e.message}`)}}if("Network"===t.type&&!t.screenText&&!t.domSelector)continue;if("screenText"===t.type&&t.screenText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.screenText))return(0,n.logError)("Already applied detected via screenText"),{canContinue:!1,errorType:"alreadyApplied",message:"Already applied to this job"}}catch(e){(0,n.log)(`Error checking alreadyApplied item: ${e.message}`)}return{canContinue:!0}}static checkCaptcha(e){let t=this.checkSuccess(e?.applicationStatus);if(t)return(0,n.log)("\u2705 Success detected - ignoring any captcha elements on success screen"),{canContinue:!0};if(e?.isCaptchaRequired)return(0,n.logError)("\u26a0\ufe0f Captcha detected (from config) - manual intervention required"),{canContinue:!1,errorType:"captcha",message:"Captcha detected - please complete it manually"};try{let e=(0,s.CaptchaDetector).scan({full:!0});if(e&&e.length>0){let t=e.map(e=>e.provider).join(", ");return(0,n.logError)(`\ud83e Captcha detected on page (${t||"unknown"}) - manual intervention required`),{canContinue:!1,errorType:"captcha",message:`Captcha detected on page (${t||"CAPTCHA"}) - please complete it manually`}}}catch(e){console.warn("Captcha detection check failed:",e)}return{canContinue:!0}}static checkFailure(e){if(!e?.failure||!Array.isArray(e.failure))return{canContinue:!0};for(let t of e.failure)try{if(t?.shadowRoot)try{let e=document.querySelector(t.shadowRoot),r=e?.shadowRoot,o=r?.querySelector(t?.domSelector);if(o)return{canContinue:!1,errorType:"redirectToCompanySite",message:t.message||`Application failed: ${t.buttonText}`}}catch(e){}if("buttonText"===t.type&&t.buttonText){let e=Array.from(document.querySelectorAll('button, a, [role="button"]'));for(let r of e){let e=r.textContent?.trim()||"";if((0,l.isIndeed)()&&e.toLowerCase().includes(t.buttonText.toLowerCase())&&(0,i.ElementVisibility).isVisible(r)){(0,n.logError)(`Failure detected via buttonText: ${t.buttonText}`);let e="redirectToCompanySite";return t.buttonText.toLowerCase().includes("company site")&&(e="redirectToCompanySite"),{canContinue:!1,errorType:e,message:t.message||`Application failed: ${t.buttonText}`}}if(!(0,l.isIndeed)()&&e.toLowerCase().trim()===t.buttonText.toLowerCase().trim()&&(0,i.ElementVisibility).isVisible(r)){let e="a"===r.tagName.toLowerCase()&&r.getAttribute("href"),o="_blank"===r.getAttribute("target")||r.getAttribute("rel")?.includes("noopener");if(e||o)return(0,n.logError)(`Failure detected via buttonText: ${t.buttonText}`),{canContinue:!1,errorType:"redirectToCompanySite",message:t.message||`Application failed: ${t.buttonText}`}}}}if("screenText"===t.type&&t.screenText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.screenText))return(0,n.logError)(`Failure detected via screenText: ${t.screenText}`),{canContinue:!1,errorType:"alreadyApplied",message:t.message||t.screenText};if("domSelector"===t.type&&t.domSelector){let e=Array.isArray(t.domSelector)?t.domSelector:[t.domSelector];for(let r of e){let e=document.querySelector(r);if(e&&(0,i.ElementVisibility).isVisible(e))return(0,n.logError)(`Failure detected via domSelector: ${r}`),{canContinue:!1,errorType:"alreadyApplied",message:t.message||"Application failed"}}}if("disableButton"===t.type&&t.disableButton){let e=Array.from(document.querySelectorAll('button, a, [role="button"]'));for(let r of e){let e=r.textContent?.trim()||"",o="apply-button"===r.getAttribute("data-testid")||r.closest("#applyButton");if(!o)continue;let i="true"===r.getAttribute("aria-disabled")||r.hasAttribute("disabled")||r.className.includes("disabled");if(i&&e.toLowerCase().trim()===t.disableButton.toLowerCase().trim())return(0,n.logError)(`Failure detected via disableButton: ${t.disableButton}`),{canContinue:!1,errorType:"alreadyApplied",message:t.message||"Already applied"}}}if("externalIcon"===t.type&&t.iconSelector){let e=Array.from(document.querySelectorAll('button, a, [role="button"]'));for(let r of e){if(!(0,i.ElementVisibility).isVisible(r))continue;let e=r.querySelector(t.iconSelector);if(e)return(0,n.logError)("Failure detected via externalIcon"),{canContinue:!1,errorType:"redirectToCompanySite",message:t.message||"Redirecting to company site"}}}}catch(e){(0,n.log)(`Error checking failure item: ${e.message}`)}return{canContinue:!0}}static checkJsObject(e){try{let t=window;for(let r in e){if(!t||!(r in t))return!1;if(t=t[r],"object"==typeof e[r]&&null!==e[r])return this.checkJsObject(e[r]);if(t===e[r])break}return!0}catch(e){return!1}}static checkAllStates(e){let t=this.checkAlreadyApplied(e?.applicationStatus);if(!t.canContinue)return t;let r=this.checkFailure(e?.applicationStatus);return r.canContinue?{canContinue:!0}:r}static checkAllStatesForManual(e){let t=this.checkJobClosed(e?.applicationStatus);if(!t.canContinue)return t;let r=this.checkAlreadyApplied(e?.applicationStatus);if(!r.canContinue)return r;let o=this.checkFailure(e?.applicationStatus);return o.canContinue?{canContinue:!0}:o}}},{"./ElementVisibility":"eHl3j","../logger":"8IkKh","../config/website-rules.config":"18hEH","./captchaUtil":"igl2E","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],eHl3j:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ElementVisibility",()=>i);class i{static isVisible(e){let t=null!==e.offsetParent,r=e.offsetWidth>0||e.offsetHeight>0,o="none"!==window.getComputedStyle(e).display,i=!e.hidden;return t&&r&&o&&i}static isInSpecialContainer(e,t){return t.some(t=>!!e.closest(t))}static isVisibleEnhanced(e,t=[]){let r=this.isVisible(e);if(r)return!0;if(t.length>0){let r=this.isInSpecialContainer(e,t);if(r){let t=e.offsetWidth>0||e.offsetHeight>0,r="none"!==window.getComputedStyle(e).display,o=!e.hidden;return t&&r&&o}}return!1}static isTextVisibleOnPage(e){if(!e)return!1;let t=document.body.innerText||document.body.textContent||"";return t.toLowerCase().includes(e.toLowerCase())}static getElementDepth(e){let t=0,r=e;for(;r;)t++,r=r.parentNode;return t}static findVisibleElements(e){let t=document.querySelectorAll(e);return Array.from(t).filter(e=>this.isVisible(e))}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],igl2E:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"CaptchaDetector",()=>i);class i{static detectFromElement(e){if(!e||e.nodeType!==Node.ELEMENT_NODE)return null;let t=e.tagName?.toLowerCase(),r=(e.className||"").toString().toLowerCase(),o=(e.id||"").toString().toLowerCase(),i=e.getAttribute?.("src")||"",n=e.getAttribute?.("title")||"",l=e.getAttribute?.("data-sitekey");if(window.captchaConfig&&Array.isArray(window.captchaConfig.name)){let r=window.captchaConfig.name.map(e=>e?.toLowerCase?.()||"").filter(Boolean);if(r.length>0&&t&&r.includes(t))return{provider:`Custom CAPTCHA (${t})`,node:e,sitekey:l||null}}if(l)return r.includes("g-recaptcha")||r.includes("recaptcha")?{provider:"reCAPTCHA",node:e,sitekey:l}:r.includes("h-captcha")||r.includes("hcaptcha")?{provider:"hCaptcha",node:e,sitekey:l}:r.includes("cf-turnstile")||r.includes("turnstile")?{provider:"Cloudflare Turnstile",node:e,sitekey:l}:{provider:"Unknown (data-sitekey)",node:e,sitekey:l};if("iframe"===t){let t=i.toLowerCase();if(t.includes("recaptcha")||n.toLowerCase().includes("recaptcha"))return{provider:"reCAPTCHA",node:e};if(t.includes("hcaptcha")||n.toLowerCase().includes("hcaptcha"))return{provider:"hCaptcha",node:e};if(t.includes("turnstile")||n.toLowerCase().includes("turnstile"))return{provider:"Cloudflare Turnstile",node:e};if(t.includes("geetest"))return{provider:"GeeTest",node:e};if(t.includes("funcaptcha")||t.includes("arkoselabs"))return{provider:"FunCaptcha (Arkose Labs)",node:e}}for(let t of[{match:"g-recaptcha",provider:"reCAPTCHA"},{match:"h-captcha",provider:"hCaptcha"},{match:"cf-turnstile",provider:"Cloudflare Turnstile"},{match:"geetest_holder",provider:"GeeTest"},{match:"funcaptcha",provider:"FunCaptcha (Arkose Labs)"}])if(r.includes(t.match)||o.includes(t.match))return{provider:t.provider,node:e};return null}traverse(e){if(e){if(e.nodeType===Node.ELEMENT_NODE){let t=i.detectFromElement(e);if(t){let e=t.provider+(t.node?.outerHTML?.slice(0,100)||"");this.seen.has(e)||(this.seen.add(e),this.results.push(t))}}if(e.shadowRoot)try{this.traverse(e.shadowRoot)}catch{}if(e.childNodes?.forEach(e=>this.traverse(e)),e.querySelectorAll){let t=e.querySelectorAll("iframe");t.forEach(e=>{let t=i.detectFromElement(e);if(t){let e=t.provider+(t.node?.outerHTML?.slice(0,100)||"");this.seen.has(e)||(this.seen.add(e),this.results.push(t))}try{e.contentDocument&&this.traverse(e.contentDocument)}catch{}})}}}static isElementVisible(e){if(!e)return!1;let t=e.tagName?.toLowerCase();if(["script","style","meta","link","noscript"].includes(t))return!1;let r=e.getBoundingClientRect();if(r.width<=2||r.height<=2||0===e.offsetWidth&&0===e.offsetHeight)return!1;let o=window.getComputedStyle(e);if("none"===o.display||"hidden"===o.visibility||"0"===o.opacity||r.right<0||r.bottom<0||r.left>window.innerWidth||r.top>window.innerHeight||r.top<-r.height||r.left<-r.width)return!1;let i=e.parentElement;for(;i;){let e=window.getComputedStyle(i);if("none"===e.display||"hidden"===e.visibility)return!1;i=i.parentElement}if("iframe"===t){let e=r.top>=-100&&r.left>=-100&&r.bottom<=window.innerHeight+100&&r.right<=window.innerWidth+100,t=r.width>=50&&r.height>=50;return e&&t}return!0}static scan(e,t){t&&t.name&&(window.captchaConfig=t);let r=new i;r.traverse(document);let o=r.results.filter(e=>{if(!e.node){if(e.provider.includes("reCAPTCHA")){let e=document.querySelectorAll('iframe[title*="reCAPTCHA"], iframe[src*="recaptcha"]');return Array.from(e).some(e=>this.isElementVisible(e))}if(e.provider.includes("hCaptcha")){let e=document.querySelectorAll('iframe[title*="hCaptcha"], iframe[src*="hcaptcha"]');return Array.from(e).some(e=>this.isElementVisible(e))}if(e.provider.includes("Turnstile")){let e=document.querySelectorAll('iframe[src*="turnstile"]');return Array.from(e).some(e=>this.isElementVisible(e))}return!1}return!!(e.node&&e.provider&&e.provider.includes("Custom CAPTCHA"))||this.isElementVisible(e.node)});return e&&e.full?o:o.length>0}constructor(){this.results=[],this.seen=new Set}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"4z5Xf":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"FormSubmitter",()=>c);var i=e("~helper/commonHelpers"),n=e("../logger"),l=e("./AsyncUtils"),s=e("./ElementVisibility"),a=e("./captchaUtil");class c{static async submitForm(e,t){if(!e)return!1;let r=void 0!==t?t:this.isFinalSubmissionButton(e);if(r)try{let e=(0,a.CaptchaDetector).scan({full:!0});if(e&&e.length>0){let t=e.map(e=>e.provider).join(", ");return(0,n.logError)(`\ud83e Captcha detected on submission page (${t}) - cannot submit`),!1}}catch(e){console.warn("Captcha detection check failed before submit:",e)}if((0,n.log)(`Clicking submit button: "${e}"`),e.toLowerCase().includes("continue")){let t=document.querySelector('button[data-testid="continue-button"]');if(t&&this.isActuallyClickable(t))return(0,n.log)("\u2705 Found Indeed continue-button by data-testid"),this.clickElement(t),(0,n.logSuccess)(`Submit button clicked: ${e}`),!0}let o=(0,i.queryAllWithShadow)('button, input[type="submit"], input[type="button"], [role="button"], a'),l=[];for(let t of o){let r=t.textContent?.trim()||t.value||"";(r.toLowerCase()===e.toLowerCase()||r.toLowerCase().includes(e.toLowerCase()))&&this.isActuallyClickable(t)&&l.push(t)}if(0===l.length)return(0,n.logError)(`Submit button not found: ${e}`),!1;l.sort((e,t)=>{let r=this.getButtonPriorityScore(e),o=this.getButtonPriorityScore(t);return o-r});let s=l[0];return(0,n.log)(`\u2705 Found button: "${s.textContent?.trim()}" (score: ${this.getButtonPriorityScore(s)})`),this.clickElement(s),(0,n.logSuccess)(`Submit button clicked: ${e}`),!0}static isActuallyClickable(e){return!(0===e.offsetWidth||0===e.offsetHeight||e.hasAttribute("hidden"))}static getButtonPriorityScore(e){let t=0;if(e.hasAttribute("data-testid")){let r=e.getAttribute("data-testid")||"";r.includes("continue")&&(t+=50),r.includes("submit")&&(t+=40),r.includes("next")&&(t+=30)}let r=null!==e.closest('footer, [class*="footer"], [class*="Footer"]'),o=null!==e.closest('[class*="actions"], [class*="Actions"], [class*="buttons"], [class*="Buttons"]');r&&(t+=20),o&&(t+=15),"BUTTON"===e.tagName&&(t+=10),"submit"===e.getAttribute("type")&&(t+=10);let i=e.className||"";return i.includes("primary")&&(t+=5),i.includes("submit")&&(t+=5),t}static isFinalSubmissionButton(e){let t=e.toLowerCase();return!["continue","next","review","go to","proceed","apply now","apply"].some(e=>t===e||t.includes("continue")||t.includes("next"))&&!!["submit","send application","send my application","confirm and submit","complete application"].some(e=>t.includes(e))}static clickElement(e){new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window}),new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window}),new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}),new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0}),new PointerEvent("pointerup",{bubbles:!0,cancelable:!0}),e.click()}static async waitForSubmissionResult(e,t=15e3,r=1e3){let o=Date.now();for(;Date.now()-o<t;){if(e?.success&&Array.isArray(e.success))for(let t of e.success){if("screenText"===t.type&&t.screenText&&(0,s.ElementVisibility).isTextVisibleOnPage(t.screenText))return{detected:!0,isSuccess:!0,message:t.screenText};if("toasterText"===t.type&&t.toasterText&&(0,s.ElementVisibility).isTextVisibleOnPage(t.toasterText))return{detected:!0,isSuccess:!0,message:t.toasterText}}if(e?.failure&&Array.isArray(e.failure))for(let t of e.failure){let e=t.type||t.Type;if("screenText"===e&&t.screenText&&(0,s.ElementVisibility).isTextVisibleOnPage(t.screenText))return{detected:!0,isSuccess:!1,message:t.screenText};if("toasterText"===e&&t.toasterText&&(0,s.ElementVisibility).isTextVisibleOnPage(t.toasterText))return{detected:!0,isSuccess:!1,message:t.toasterText}}await (0,l.AsyncUtils).sleep(r)}return{detected:!1,isSuccess:!1,message:""}}static async saveSubmissionState(e,t,r){await chrome.storage.local.set({waitingForSubmissionResult:!0,submissionApplicationId:e,submissionJobId:t,submissionApplicationStatus:r,submissionTimestamp:Date.now()})}static async clearSubmissionState(){await chrome.storage.local.remove(["waitingForSubmissionResult","submissionApplicationId","submissionJobId","submissionApplicationStatus","submissionTimestamp"])}static async findButton(e,t=!1){try{let r=(0,i.queryAllWithShadow)('button, input[type="submit"], input[type="button"], [role="button"], a'),o=[],l=[];for(let t of r){let r=t.textContent?.trim()||t.value||"";this.isActuallyClickable(t)&&(r.toLowerCase()===e.toLowerCase()?o.push(t):r.trim().toLowerCase().includes(e.trim().toLowerCase())&&l.push(t))}let s=o.length>0?o:l;if(t&&o.length>0&&(s=o),0===s.length)return(0,n.logError)(`Submit button not found: ${e}`),null;return s.sort((e,t)=>{let r=this.getButtonPriorityScore(e),o=this.getButtonPriorityScore(t);return o-r}),s[0]}catch(t){return(0,n.logError)(`Error while finding button "${e}": ${t}`),null}}}},{"~helper/commonHelpers":"gwFvg","../logger":"8IkKh","./AsyncUtils":"kiClj","./ElementVisibility":"eHl3j","./captchaUtil":"igl2E","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],kM2MG:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"MultiStepFormNavigator",()=>w);var i=e("../logger"),n=e("./FormSubmitter"),l=e("./AsyncUtils"),s=e("./ElementVisibility"),a=e("./formDetector"),c=e("./MandatoryFieldValidator"),u=e("~helper/commonHelpers"),d=e("../config/selectors.config"),p=e("../config/website-rules.config"),m=e("../platform-handlers/universal/questionCollector"),f=e("./formFiller"),g=e("../platform-handlers/autofillOrchestrator"),h=e("./elementFinder"),y=e("./QuestionFilter"),b=e("./ConsentCheckboxHandler");class w{static async hasFieldsToFill(){for(let e=1;e<=5;e++){let t=(0,a.detectFormFields)(),r=t.hasForm&&t.fieldCount>0,o=this.hasQuestionsOnPage();(0,i.log)(`\ud83d Field detection attempt ${e}/5: hasForm=${t.hasForm}, fieldCount=${t.fieldCount}, hasQuestions=${o}`);let n=r||o;if(n)return(0,i.log)(`\ud83d Page has content to process: ${n}`),n;e<5&&((0,i.log)(`\u26a0\ufe0f No fields found on attempt ${e}, retrying in 1000ms...`),await (0,l.AsyncUtils).sleep(1e3))}return(0,i.log)(`\u274c No fields found after 5 attempts`),!1}static async waitForFieldsToLoad(e=1e4,t=500){(0,i.log)(`\u23f3 Waiting for form fields to load...`);let r=Date.now(),o=window.location.href;(0,i.log)(`\ud83d Current page URL: ${o}`);let n=o.includes("resume-selection")||o.includes("resume-module"),s=o.includes("contact-info"),a=o.includes("profile-location");if(n){for((0,i.log)("\uD83D\uDCC4 Detected resume selection page - waiting for resume elements...");Date.now()-r<e;){let e=document.querySelectorAll('[data-testid*="resume"], button[class*="resume"], input[type="file"], [class*="Resume"]');if(e.length>0){let e=Date.now()-r;return(0,i.log)(`\u2705 Resume page loaded after ${e}ms`),await (0,l.AsyncUtils).sleep(1e3),!0}await (0,l.AsyncUtils).sleep(t)}return(0,i.log)(`\u26a0\ufe0f Timeout waiting for resume page elements`),!1}if(s||a){for((0,i.log)(`\ud83d Detected ${s?"contact info":"profile location"} page - waiting for fields...`);Date.now()-r<e;){let e=await this.hasFieldsToFill(),o=this.hasQuestionsOnPage();if(e||o){let t=Date.now()-r;return(0,i.log)(`\u2705 Form content loaded after ${t}ms (hasFields: ${e}, hasQuestions: ${o})`),await (0,l.AsyncUtils).sleep(500),!0}await (0,l.AsyncUtils).sleep(t)}return(0,i.log)(`\u26a0\ufe0f Timeout waiting for form fields on ${s?"contact":"profile"} page`),!1}for(;Date.now()-r<e;){let o=await this.hasFieldsToFill(),n=this.hasQuestionsOnPage();if(o||n){let e=Date.now()-r;(0,i.log)(`\u2705 Form content loaded after ${e}ms (hasFields: ${o}, hasQuestions: ${n})`),(0,i.log)("\u23f3 Waiting additional 2 seconds for questions to fully render..."),await (0,l.AsyncUtils).sleep(2e3);let t=await this.hasFieldsToFill()||this.hasQuestionsOnPage();if(t)return(0,i.log)("\u2705 Content confirmed after render wait"),!0;(0,i.log)("\u26a0\ufe0f Content disappeared after render wait, continuing to wait...")}let s=Date.now()-r;(0,i.log)(`No content yet, waiting... (${Math.round(s/1e3)}s/${Math.round(e/1e3)}s)`),await (0,l.AsyncUtils).sleep(t)}return(0,i.log)(`\u26a0\ufe0f Timeout: No content found after ${e}ms`),!1}static hasQuestionsOnPage(){if(window.location.href.includes("questions-module")||window.location.href.includes("questions/")){for(let e of((0,i.log)("\uD83D\uDD0D Detected Indeed questions page - checking for question inputs..."),['input[name^="q_"]','textarea[name^="q_"]','select[name^="q_"]','[data-testid*="question"]','[class*="question"]','[class*="Question"]'])){let t=document.querySelectorAll(e);if(t.length>0)return(0,i.log)(`\u2705 Found ${t.length} Indeed question elements with selector: ${e}`),!0}let e=document.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]), textarea, select'),t=0;for(let r of e)null!==r.offsetParent&&r.offsetWidth>0&&r.offsetHeight>0&&t++;return t>0?((0,i.log)(`\u2705 Found ${t} visible input elements on Indeed questions page`),!0):((0,i.log)("\u26a0\ufe0f No question elements found on Indeed questions page"),!1)}let e=0;for(let t of[".application-question",".application-label","label[for]","[aria-label]",'[data-testid*="question"]',"fieldset legend","h3, h4, h5","p",'[class*="question"]','[class*="label"]','[id*="question"]','[id*="label"]']){let r=document.querySelectorAll(t);if(r.length>0)for(let t of r){let r=t.textContent?.trim()||"";if(r.length>5&&r.length<500&&(r.includes("?")||r.length>15)&&++e>=1)return!0}}let t=document.querySelectorAll('input:not([type="hidden"]), textarea, select'),r=0;for(let e of t){let t=null!==e.offsetParent&&e.offsetWidth>0&&e.offsetHeight>0;if(t&&++r>=1)return!0}return!1}static hasEmptyFields(){let e=document.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]), textarea, select');for(let t of e)if((0,s.ElementVisibility).isVisible(t)){if("SELECT"===t.tagName){if(!t.value||0===t.selectedIndex)return!0}else if(!t.value||""===t.value.trim())return!0}return!1}static async navigateToNextStep(e,t,r,o=15e3){if(!Array.isArray(e)||0===e.length)return{navigated:!1,pageChanged:!1,message:"No multi-form data provided"};let s=e.filter(e=>"nextButtonText"===e.type&&!!e.nextButtonText);if(!s.length)return(0,i.log)("No next button steps found in multiFormData"),{navigated:!1,pageChanged:!1,message:"No next buttons configured"};(0,i.log)(`Found ${s.length} possible next button(s) to try`);let a=Date.now();for(;Date.now()-a<o;){for(let e of s){let t=e.nextButtonText;if(this.isButtonVisible(t)){(0,i.log)(`\u2713 Found visible button: "${t}"`);let e=window.location.href,r=this.getPageHash();(0,i.log)(`Clicking next button: "${t}"`);let o=await (0,n.FormSubmitter).submitForm(t);if(o&&!(0,d.ACCEPT_KEYWORDS).includes(t.toLowerCase())){(0,i.logSuccess)(`Next button clicked: ${t}`),(0,i.log)("Waiting for page update...");let o=await this.waitForPageChange(e,r);if(o)return(0,i.logSuccess)("Page updated successfully"),await (0,l.AsyncUtils).sleep(1500),{navigated:!0,pageChanged:!0,message:`Navigated using button: ${t}`};return(0,i.log)("Page did not change after click, continuing..."),await (0,l.AsyncUtils).sleep(1e3),{navigated:!0,pageChanged:!1,message:`Clicked button but page unchanged: ${t}`}}(0,i.log)(`Failed to click button: "${t}"`)}}let e=Date.now()-a;if(e<o)(0,i.log)(`No button visible yet, waiting 1s before retry... (${Math.round(e/1e3)}s/${Math.round(o/1e3)}s)`),await (0,l.AsyncUtils).sleep(1e3);else break}return(0,i.log)(`Timeout: No next button found after ${o}ms`),{navigated:!1,pageChanged:!1,message:"No next button found on page after waiting"}}static isButtonVisible(e,t=""){if(!e)return!1;for(let r of(0,u.queryAllWithShadow)('button, input[type="submit"], input[type="button"], [role="button"], a')){let o=r.textContent?.trim()||r.value||"";if(o.toLowerCase().includes(e.toLowerCase())){let o=null!==r.offsetParent,i=!!document.querySelector('[data-role="dialog-container"]')&&e&&"lastButtonText"!==t;if(o&&!i)return!0}}return!1}static async waitForPageChange(e,t,r=5e3){let o=Date.now();for(;Date.now()-o<r;){if(window.location.href!==e)return(0,i.log)(`URL changed: ${e} \u2192 ${window.location.href}`),!0;let r=this.getPageHash();if(r!==t)return(0,i.log)("Page content changed"),!0;await (0,l.AsyncUtils).sleep(200)}return!1}static getPageHash(){let e=document.body.innerText||"";return`${e.length}-${e.substring(0,100)}-${e.substring(e.length-100)}`}static async shouldNavigateNext(e){let t=e?.some(e=>"nextButtonText"===e.type&&e.nextButtonText);if(!t)return!1;let r=await this.hasFieldsToFill(),o=this.hasQuestionsOnPage();return r||o?((0,i.log)(`Page has content to process (fields: ${r}, questions: ${o}) - staying on current page`),!1):((0,i.log)("No fields or questions on this page - should navigate to next step"),!0)}static getFinalSubmitButton(e){if(!e||!Array.isArray(e))return null;let t=e.find(e=>"lastButtonText"===e.type&&e.lastButtonText);return t?.lastButtonText||null}static getFinalSubmitButtons(e){if(!e||!Array.isArray(e))return[];let t=e.filter(e=>"lastButtonText"===e.type&&e.lastButtonText).map(e=>e.lastButtonText).filter(e=>!e.toLowerCase().includes("try again"));return t}static isOnFinalPage(e){let t=this.getFinalSubmitButton(e);return!!t&&this.isButtonVisible(t,"lastButtonText")}static async universalHasFieldsToFill(){try{for(let e=1;e<=5;e++){let t=this.universalHasQuestionsOnPage();if((0,i.log)(`\ud83d Field detection attempt ${e}/5: hasQuestions=${t}`),t)return(0,i.log)(`\ud83d Page has content to process: ${t}`),t;e<5&&((0,i.log)(`\u26a0\ufe0f No fields found on attempt ${e}, retrying in 1000ms...`),await (0,l.AsyncUtils).sleep(1e3))}return(0,i.log)(`\u274c No fields found after 5 attempts`),!1}catch(e){return(0,i.logError)(`Exception during universalHasFieldsToFill: ${e}`),!1}}static universalHasQuestionsOnPage(){try{let e=document.querySelectorAll('input:not([type="hidden"]):not([type="search"]):not([readonly]):not([placeholder*="Search job"]), textarea, select'),t=0;for(let r of e){if(r.closest(".searchBar_siblings")||r.closest("footer"))continue;let e=null!==r.offsetParent&&r.offsetWidth>0&&r.offsetHeight>0;if(e&&++t>=1||(0,p.isWorkday)()&&"file"===r.getAttribute("type")&&!e&&++t>=1)return!0}return!1}catch(e){return(0,i.logError)(`Exception during universalHasQuestionsOnPage: ${e}`),!1}}static async navigateToNextStepForComplex(t,r,o,s=15e3,a=!0){let d=[],w=0,S=0;if(a&&(!t||!Array.isArray(t)))return{navigated:!1,pageChanged:!1,message:"No multi-form data provided",failedFields:d,successCount:w,failCount:S};let x=t&&Array.isArray(t)?t.filter(e=>"nextButtonText"===e.type&&e.nextButtonText):[];if(a&&0===x.length)return(0,i.log)("No next button steps found in multiFormData"),{navigated:!1,pageChanged:!1,message:"No next buttons configured",failedFields:d,successCount:w,failCount:S};if(a&&(0,i.log)(`Found ${x.length} possible next button(s) to try`),["ziprecruiter","ziprecruiterpaid"].includes((o.ats_name||"").toLowerCase())){let e=await (0,b.ConsentCheckboxHandler).checkSingleCheckBoxByConfig(r);console.log(`${e} - 'checkBoxStatus`)}let v=await (0,m.collectFormQuestions)(new Set,r);if((0,u.sendPageQuestionsToSidepanel)(v),o?.seeker)try{await (0,g.autofillForm)(o.seeker,!1),r?.resumeCheck&&await (0,u.waitForElement)(r.resumeCheck),await (0,l.AsyncUtils).sleep(400)}catch(e){(0,i.logError)("Error in autofillForm:",e)}if(r?.resumeUploadAtMultiStep)try{await (0,u.resumeUploadAtMultiStep)(r.resumeUploadAtMultiStep,o?.seeker?.resume)}catch(e){(0,i.logError)("Error in resumeUploadAtMultiStep:",e)}if((0,p.isWorkday)()&&r?.defaultSourceSelection)try{let e=await (0,u.selectWorkdayValueBySearch)(r.defaultSourceSelection);if(e&&Array.isArray(v)&&v.length>0){let e=v.filter(e=>{let t=String(e.name||"").toLowerCase();return"select"===e.type&&t.includes("how did you hear about us")});if(e.length>0){for(let t of e)t?.name&&(0,u.sendATSQuestionResult)(t.name,!0);let t=new Set(e.map(e=>e.name).filter(Boolean));v=v.filter(e=>!t.has(e.name)),await (0,l.AsyncUtils).sleep(200)}}}catch(e){(0,i.logError)("Error in selectWorkdayValueBySearch:",e)}try{let e=await (0,m.collectBasicQuestions)(r);for(let t of e)t.isFilled?(0,u.sendATSQuestionResult)(t.name,!0):(0,u.sendATSQuestionResult)(t.name,!1),await (0,l.AsyncUtils).sleep(200)}catch(e){(0,i.logError)("Error in collectBasicQuestions:",e)}let C=[];if(o?.seeker?.seeker_response&&o.seeker.seeker_response.length>0){let e=(0,u.filterValidResponses)(o.seeker.seeker_response);(0,i.log)(`\ud83d Filling ${e.length} questions from seeker_response`);for(let t=0;t<e.length;t++){let r=e[t],n=null!==r.a&&void 0!==r.a&&""!==String(r.a).trim();if(!(r?.q&&o?.source?.job_title)||String(r?.q).toLowerCase()!==String(o?.source?.job_title).toLowerCase()){if(n)try{let e=await (0,f.fillSeekerResponse)(r);e?(w++,(0,u.sendATSQuestionResult)(r?.q,!0)):(S++,(0,u.sendATSQuestionResult)(r?.q,!1),C.push({response:r,element:null}),d.push({question:(0,h.cleanQuestionText)(r?.q),type:r.type||"text",reason:"Could not find or fill field on page"}))}catch(e){(0,i.logError)("Error filling seeker response:",e),S++}else C.push({response:r,element:null}),S++,d.push({question:(0,h.cleanQuestionText)(r?.q),type:r.type||"text",reason:"No answer provided initially"});await (0,l.AsyncUtils).sleep(200)}}}await (0,l.AsyncUtils).sleep(1e3);let A=[],E=[];try{if(E=v,E=await (0,u.processSelectQuestions)(E,r?.selectQuestions),(0,p.isWorkday)()&&E.some(e=>"select"===e.type&&!e.options)&&(E=await (0,u.getWorkdaySelectButtonOption)(E),await (0,l.AsyncUtils).sleep(200),E=E.filter(e=>!("select"===e.type&&(!e.options||""===e.options.trim())))),E.some(e=>"select"===e.type&&!e.options)&&(E=await (0,u.populateSelectOptionsIfMissing)(E)),E.length>0)for(let e of((0,i.log)(`\ud83d Found ${E.length} survey questions`),E)){let t=o?.seeker?.seeker_response?.find(t=>{let r=h.cleanQuestionText(t?.q||"").toLowerCase().trim(),o=h.cleanQuestionText(e.name).toLowerCase().trim();return r===o});t&&t.a||A.push(e)}}catch(e){(0,i.logError)("Error collecting questions:",e)}let k=[...C.map(e=>({name:(0,h.cleanQuestionText)(e.response?.q),type:e.response.type||"text",options:""})),...A],T=(0,y.QuestionFilter).filterUnansweredQuestions(k,o?.seeker),q=Array.from(new Map(T.map(e=>[(0,h.cleanQuestionText)(e.name).toLowerCase().trim(),e])).values());if(Array.isArray(E)){let e=(0,u.filterValidResponses)(o?.seeker?.seeker_response||[]),t=E.filter(t=>{let r=(0,h.cleanQuestionText)(t?.name||"").toLowerCase().trim(),o=t?.type==="radio"||t?.type==="checkbox"||t?.type==="select",i=!(Array.isArray(e)&&e.some(e=>(0,h.cleanQuestionText)(e?.q||"").toLowerCase().trim()===r));return o&&i});if(t.length>0){let e=new Set(q.map(e=>(0,h.cleanQuestionText)(e.name).toLowerCase().trim()));for(let r of t){let t=(0,h.cleanQuestionText)(r?.name||"").toLowerCase().trim();e.has(t)||(q.push(r),e.add(t))}}}for(let e of q){let t=E?.find(t=>{let r=h.cleanQuestionText(t?.name||"").toLowerCase().trim(),o=h.cleanQuestionText(e.name).toLowerCase().trim();return r===o});t&&t.options&&(e.options=t.options,e.type=t.type)}if(q.length>0){(0,i.log)(`\ud83d Fetching ${q.length} answers from API`);try{chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:88,message:`Fetching answers for ${q.length} questions...`}).catch(()=>{});let e=await (0,u.filterQuestionOnPage)(q),t=await new Promise(t=>{chrome.runtime.sendMessage({action:"FETCH_ADDITIONAL_REQUIREMENTS",jobId:o.copilot_job_id,applicationId:o.application_id,requirements:e},t)});if(t&&t.success&&t.data?.seeker?.seeker_response){(0,i.logAPI)(`Received ${t.data.seeker.seeker_response.length} answers from API`);let e=(0,u.filterValidResponses)(t.data.seeker.seeker_response);for(let r of(await (0,u.sendInvalidATSQuestionResults)(t.data.seeker.seeker_response),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:89,message:`Start applying ${e.length} responses from API`}).catch(()=>{}),e)){if(r?.q&&o?.source?.job_title&&String(r?.q).toLowerCase()===String(o?.source?.job_title).toLowerCase())continue;let e=await (0,f.fillSeekerResponse)(r);if(e){w++,(0,u.sendATSQuestionResult)(r?.q,!0);let e=d.findIndex(e=>e.question===(0,h.cleanQuestionText)(r?.q));e>=0&&(d.splice(e,1),S--)}else{S++,(0,u.sendATSQuestionResult)(r?.q,!1);let e=(0,h.cleanQuestionText)(r?.q),t=d.find(t=>t.question===e);t||d.push({question:e,type:r.type||"text",reason:"Could not find or fill field even with API answer"})}await (0,l.AsyncUtils).sleep(600)}let r=await (0,u.waitForIsMissingUIShowToBeFalseOrTimeout)();(0,i.log)(`${r} Missing Log`)}}catch(e){(0,i.logError)("Error fetching additional requirements",e)}}await (0,l.AsyncUtils).sleep(1e3);let F=document.querySelectorAll('input[type="checkbox"]'),L=new Set;for(let e of F){let t;let o=e;if(o.checked)continue;let i=0,n=o.getAttribute("name")||`unnamed-${Math.random()}`;if(L.has(n))continue;if(1===(t=n.startsWith("unnamed-")?[o]:Array.from(document.querySelectorAll(`input[type="checkbox"][name="${n}"]`)).filter(e=>"checkbox"===e.type)).length){L.add(n);let e=(o.closest(".application-question, .application-field, li, div, label")?.textContent||"").toLowerCase(),t=e.includes("understand")||e.includes("agree")||e.includes("consent")||e.includes("acknowledge")||e.includes("accept")||e.includes("confirm")||e.includes("certify")||e.includes("privacy")||e.includes("contact me");t&&(o.click(),o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("click",{bubbles:!0})),i++,await (0,l.AsyncUtils).sleep(300))}else"checkbox"===n&&t.length>0&&(o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("click",{bubbles:!0})),i++);let s=r?.fieldConfig?.fieldWrapper;if(1===t.length&&0===i){let e=["--preferredCheck"];if(e.some(e=>o?.getAttribute("id")?.includes(e)))continue;let t=s?o.closest(s):null;if(t&&t.querySelectorAll('input[type="checkbox"]').length>1)continue;L.add(n),o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("click",{bubbles:!0})),i++,await (0,l.AsyncUtils).sleep(300)}}if(!a)return(0,i.logSuccess)("Form filled (navigation skipped per request)"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:90,message:"Form ready for submission"}).catch(()=>{}),{navigated:!1,pageChanged:!1,message:"Form filled (navigation skipped)",failedFields:d,successCount:w,failCount:S};(0,i.log)("\uD83D\uDD04 Clicking Next button (ONCE)...");let $=null,M=Date.now();for(;Date.now()-M<s&&!$;){for(let e of x)if(this.isButtonVisible(e.nextButtonText)){$=e.nextButtonText;break}$||await (0,l.AsyncUtils).sleep(500)}if(!$)return(0,i.logError)("\u274c No visible next button found within wait time"),{navigated:!1,pageChanged:!1,message:"Next button not found",failedFields:d,successCount:w,failCount:S};(0,i.log)(`Clicking next button: "${$}"`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:90,message:`Clicking ${$}...`}).catch(()=>{});let R=window.location.href,P=this.getPageHash();await (0,l.AsyncUtils).sleep(500);let I=await (0,n.FormSubmitter).findButton($,!0);if((0,i.log)(`${I} Next Click Button`),I){if(I?.disabled)return chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"missing-questions",message:"Required fields could not be filled - validation errors persist",url:window.location.href}).catch(()=>{}),{navigated:!1,pageChanged:!1,message:"Validation errors persist after submission",fatal:!0,failedFields:d,successCount:w,failCount:S};(0,u.humanClick)(I),await (0,l.AsyncUtils).sleep(1e3)}if((0,i.logSuccess)(`Next button clicked: ${$}`),r){(0,i.log)("\uD83D\uDD0D Checking for validation errors after click...");let t=await (0,c.MandatoryFieldValidator).waitForValidationErrors(r,R,P,5e3);if(t){(0,i.logError)("\u274c Validation errors detected AFTER button click");try{let{ApplicationStateChecker:t}=await e("71fe0af4a2b182b7"),o=t.checkCaptcha(r);if(!o.canContinue)return(0,i.logError)(`\ud83e Captcha detected: ${o.message}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:o.errorType,message:o.message,url:window.location.href}).catch(()=>{}),{navigated:!1,pageChanged:!1,message:`Captcha required: ${o.message}`,failedFields:d,successCount:w,failCount:S}}catch(e){(0,i.logError)(`\u26a0\ufe0f Captcha check failed: ${e}`)}return chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"missing-questions",message:"Required fields could not be filled - validation errors persist",url:window.location.href}).catch(()=>{}),{navigated:!1,pageChanged:!1,message:"Validation errors persist after submission",fatal:!0,failedFields:d,successCount:w,failCount:S}}}(0,i.log)("Waiting for page update...");let _=await this.waitForPageChange(R,P);return _?((0,i.logSuccess)("Page updated successfully"),(0,u.sendPageQuestionsToSidepanel)([]),await (0,l.AsyncUtils).sleep(1500),{navigated:!0,pageChanged:!0,message:`Navigated using button: ${$}`,failedFields:d,successCount:w,failCount:S}):((0,i.log)("Page did not change after click, continuing..."),await (0,l.AsyncUtils).sleep(1e3),{navigated:!0,pageChanged:!1,message:`Clicked button but page unchanged: ${$}`,failedFields:d,successCount:w,failCount:S})}}},{"../logger":"8IkKh","./FormSubmitter":"4z5Xf","./AsyncUtils":"kiClj","./ElementVisibility":"eHl3j","./formDetector":"dtZBS","./MandatoryFieldValidator":"4ZWpj","~helper/commonHelpers":"gwFvg","../config/selectors.config":"fApfC","../config/website-rules.config":"18hEH","../platform-handlers/universal/questionCollector":"16NKq","./formFiller":"bV5He","../platform-handlers/autofillOrchestrator":"iMUKJ","./elementFinder":"inTYG","./QuestionFilter":"illN6","./ConsentCheckboxHandler":"1VI5n","71fe0af4a2b182b7":"e6uTN","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"4ZWpj":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"MandatoryFieldValidator",()=>l);var i=e("../logger"),n=e("./ElementVisibility");class l{static hasHTML5ValidationErrors(){let e=document.querySelectorAll("input:invalid, select:invalid, textarea:invalid");if(e.length>0){let t=Array.from(e).filter(e=>(0,n.ElementVisibility).isVisible(e));if(t.length>0)return(0,i.log)(`\u274c Found ${t.length} HTML5 invalid field(s)`),t.slice(0,3).forEach((e,t)=>{let r=e.name||e.id||"unnamed",o=e.tagName.toLowerCase();(0,i.log)(`   Invalid field ${t+1}: ${o} name="${r}"`)}),!0}let t=document.querySelectorAll("input[required], select[required], textarea[required]");for(let e of t)if((0,n.ElementVisibility).isVisible(e)){if("SELECT"===e.tagName){if(!e.value||0===e.selectedIndex)return(0,i.log)(`\u274c Found required empty SELECT: ${e.name||e.id||"unnamed"}`),!0}else if(!e.value||""===e.value.trim())return(0,i.log)(`\u274c Found required empty field: ${e.name||e.id||"unnamed"}`),!0}return!1}static hasSuccessIndicators(e){if(!e?.success||!Array.isArray(e.success))return!1;for(let t of e.success)try{if("screenText"===t.type&&t.screenText&&(0,n.ElementVisibility).isTextVisibleOnPage(t.screenText))return(0,i.log)(`\u2705 Success detected via screenText: "${t.screenText}"`),!0;if("toasterText"===t.type&&t.toasterText&&(0,n.ElementVisibility).isTextVisibleOnPage(t.toasterText))return(0,i.log)(`\u2705 Success detected via toasterText: "${t.toasterText}"`),!0;if("domSelector"===t.type&&t.domSelector){let e=Array.isArray(t.domSelector)?t.domSelector:[t.domSelector];for(let t of e){let e=document.querySelector(t);if(e&&(0,n.ElementVisibility).isVisible(e))return(0,i.log)(`\u2705 Success detected via domSelector: ${t}`),!0}}}catch(e){}return!1}static async waitForSuccess(e,t=1e4){if(!e)return!1;let r=Date.now();for((0,i.log)(`\u23f3 Waiting up to ${t/1e3} seconds for success indicators...`);Date.now()-r<t;){if(this.hasSuccessIndicators(e)){let e=Date.now()-r;return(0,i.log)(`\u2705 Success detected after ${e}ms`),!0}await new Promise(e=>setTimeout(e,500))}return(0,i.log)(`\u23f1\ufe0f No success indicators found after ${t}ms`),!1}static checkSubmissionErrors(e){if(!e?.mandatory_fields_errors_text||!Array.isArray(e.mandatory_fields_errors_text))return{hasError:!1,errorMessage:""};for(let t of e.mandatory_fields_errors_text)if(t&&(t.toLowerCase(),(0,n.ElementVisibility).isTextVisibleOnPage(t)))return(0,i.log)(`\ud83d Found submission error text: "${t}"`),{hasError:!0,errorMessage:t};return{hasError:!1,errorMessage:""}}static async hasValidationErrors(e,t,r=!1){if(t){if(r){let e=await this.waitForSuccess(t,1e4);if(e)return(0,i.log)(`\u2713 Success detected - ignoring any validation errors`),!1}else if(this.hasSuccessIndicators(t))return(0,i.log)(`\u2713 Success detected - ignoring any validation errors`),!1}if(!e)return!1;if(e.mandatory_fields_errors_text&&Array.isArray(e.mandatory_fields_errors_text)){let t=["we're having some trouble submitting your application","having some trouble submitting","unable to submit your application","submission failed","something went wrong","technical error","system error","server error"];for(let r of e.mandatory_fields_errors_text){if(!r)continue;let e=r.toLowerCase(),o=t.some(t=>e.includes(t));if(!o&&(0,n.ElementVisibility).isTextVisibleOnPage(r))return(0,i.log)(`\u274c Found validation error text: "${r}"`),!0}}if(e.mandatory_fields_errors_elements&&Array.isArray(e.mandatory_fields_errors_elements)){for(let t of e.mandatory_fields_errors_elements)if(t)try{let e=document.querySelector(t);if(e&&(0,n.ElementVisibility).isVisible(e)){let r=e.textContent?.trim()||"";return(0,i.log)(`\u274c Found validation error element: ${t} - "${r}"`),!0}let r=document.querySelector(`[class*="${t}"]`);if(r&&(0,n.ElementVisibility).isVisible(r)){let e=r.textContent?.trim()||"";return(0,i.log)(`\u274c Found dynamic validation error: [class*="${t}"] - "${e}"`),!0}}catch(e){continue}}return!1}static async waitForValidationErrors(e,t,r,o=5e3){let n=Date.now();for(;Date.now()-n<o;){if(await this.hasValidationErrors(e,void 0,!1)){let e=Date.now()-n;return(0,i.log)(`\u274c Validation error detected after ${e}ms`),!0}if(window.location.href!==t){let e=Date.now()-n;return(0,i.log)(`\u2713 Page navigated away after ${e}ms (no validation errors)`),!1}let o=this.getPageContentHash();if(o!==r){let e=Date.now()-n;return(0,i.log)(`\u2713 Page content changed after ${e}ms (no validation errors)`),!1}await new Promise(e=>setTimeout(e,200))}return(0,i.log)(`No validation errors detected after ${o}ms`),!1}static getPageContentHash(){let e=document.body.innerText||"";return`${e.length}-${e.substring(0,100)}-${e.substring(e.length-100)}`}}},{"../logger":"8IkKh","./ElementVisibility":"eHl3j","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],fApfC:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ACCEPT_KEYWORDS",()=>i);let i=["accept all","accept cookies","allow all"]},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],illN6:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"QuestionFilter",()=>l);var i=e("./elementFinder"),n=e("../logger");class l{static{this.FIELD_MAPPINGS=[{keywords:["first name","firstname","given name","first","forename","name (first)","your first name","what is your first name","legal first name","preferred first name"],field:"first_name"},{keywords:["last name","lastname","surname","family name","last","name (last)","your last name","what is your last name","legal last name","preferred last name"],field:"last_name"},{keywords:["email","e-mail","email address","e-mail address","mail","contact email","your email","email id","personal email","work email","professional email"],field:"email"},{keywords:["phone","mobile","telephone","cell","phone number","mobile number","contact number","tel","mobile phone","cell phone","telephone number","contact phone","primary phone","your phone","best contact number"],field:"mobile_num"},{keywords:["city","town","municipality","your city","current city","what city","city of residence","location city","location (city)"],field:"city"},{keywords:["state","province","region","your state","current state","what state","state/province","state or province"],field:"state"},{keywords:["zip","postal","postcode","zip code","postal code","zipcode","zip/postal","zip or postal","post code","your zip"],field:"zip"},{keywords:["country","nation","nationality","your country","current country","country of residence","what country","country/region"],field:"country"},{keywords:["address","street","street address","home address","residence","mailing address","your address","physical address","current address","address line","residential address"],field:"address"},{keywords:["linkedin","linkedin profile","linkedin url","linkedin link","linkedin account","linkedin page","linkedin.com","your linkedin"],field:"linkedin_profile_url"},{keywords:["salary","compensation","expected salary","desired salary","pay rate","expected compensation","salary expectation","salary requirement","compensation expectation","annual salary","target salary","how much","what salary"],field:"expected_salary"},{keywords:["desired pay","desired compensation","pay expectation","expected pay","target pay","desired rate"],field:"desired_pay"},{keywords:["available","start date","availability","available date","start availability","can you start","when can you start","earliest start","available to start","notice period","join date","start work","begin work"],field:"available_date"},{keywords:["gender","sex","gender identity","your gender","what is your gender","male or female"],field:"gender"},{keywords:["resume","cv","curriculum vitae","your resume","upload resume","attach resume","resume file","cv file"],field:"resume"},{keywords:["country code","phone code","mobile code","dialing code","calling code","area code","international code"],field:"mobile_code"}]}static{this.INVALID_QUESTION_PATTERNS=["please select","select...","select","choose one","select an option","select one","-- select --","select a value","choose","pick one"]}static filterUnansweredQuestions(e,t){(0,n.log)(`\ud83d QuestionFilter: Starting to filter ${e.length} questions`),(0,n.log)(`\ud83d SeekerInfo available: ${!!t}`),t&&(0,n.log)(`\ud83d Seeker data: first_name="${t.first_name}", last_name="${t.last_name}", email="${t.email}"`);let r=[];for(let o of e){if((0,n.log)(`\ud83d Checking question: "${o.name}"`),this.isInvalidQuestion(o)&&"radio"!==o.type){r.push(o),(0,n.log)(`\u2705 Skipping invalid/placeholder question: "${o.name}"`);continue}if(this.isFieldAlreadyFilled(o)){(0,n.log)(`\u2705 Skipping question (field already filled): "${o.name.substring(0,50)}"`);continue}t&&this.hasAnswerInSeeker(o,t)&&(0,n.log)(`\u26a0\ufe0f Have data in seeker but field not filled - sending to API anyway: "${o.name.substring(0,50)}"`),(0,n.log)(`\u274c Question needs API answer: "${o.name}"`),r.push(o)}return(0,n.log)(`\ud83d Filtered ${e.length} questions \u2192 ${r.length} need API answers`),r}static isInvalidQuestion(e){let t=e?.name?.toLowerCase()?.trim();return!!(["please select","select...","choose one","select an option","select one","-- select --","select a value","pick one"].includes(t)||t.startsWith("select ")||t.startsWith("choose ")||"select"===t||"choose"===t||t.length<3||/^[\d\W]+$/.test(t))}static hasAnswerInSeeker(e,t){let r=e?.name.toLowerCase().trim().replace(/\s+/g," ");if((0,n.log)(`   Normalized question: "${r}"`),(0,n.log)(`   Question type: "${e.type}"`),!t)return(0,n.log)(`   \u26a0\ufe0f No seeker info available`),!1;if(["select","dropdown","radio"].includes(e?.type.toLowerCase())&&e?.options){(0,n.log)("   Checking select/dropdown options for matching value");let r=this.hasMatchingOptionInSeeker(e,t);if(r)return!0}let o=["text","email","tel","date","number"].includes(e?.type.toLowerCase());if(!o)return(0,n.log)(`   \u26a0\ufe0f Skipping keyword filter - this is a ${e.type} question, not a text input`),!1;if((0,n.log)(`   DEBUG seekerInfo fields: first_name="${t.first_name}", last_name="${t.last_name}", email="${t.email}", mobile_num="${t.mobile_num}"`),this.hasCompoundAnswer(r,t))return!0;for(let e of this.FIELD_MAPPINGS)if(e.keywords.some(e=>r.includes(e))){let r=t[e.field];if(!r){let o=e.field.replace(/_([a-z])/g,(e,t)=>t.toUpperCase());(r=t[o])&&(0,n.log)(`   Found value in camelCase: ${o} = "${String(r).substring(0,40)}"`)}if(this.isValidValue(r,e.field))return(0,n.log)(`\u2713 Have answer in seeker.${e.field}: "${String(r).substring(0,40)}"`),!0;(0,n.log)(`\u2717 Seeker.${e.field} is empty/invalid (value: ${r})`)}return!1}static hasMatchingOptionInSeeker(e,t){if(!e.options||""===e.options.trim())return!1;let r=e?.options.split(",").map(e=>e?.trim().toLowerCase()).filter(e=>e.length>0);for(let[e,o]of((0,n.log)(`   Checking ${r.length} options against seeker data`),Object.entries(t))){if(!this.isValidValue(o,e))continue;let t=String(o)?.toLowerCase().trim();for(let i of r){if(i===t)return(0,n.log)(`\u2713 Found exact match: option "${i}" matches seeker.${e} = "${o}"`),!0;if(i.length>3&&t.length>3&&(i.includes(t)||t.includes(i)))return(0,n.log)(`\u2713 Found partial match: option "${i}" matches seeker.${e} = "${o}"`),!0}}return(0,n.log)(`   \u2717 No matching option found in seeker data`),!1}static hasCompoundAnswer(e,t){if(!t)return!1;let r=(e.includes("full name")||e.includes("fullname")||"name"===e||e.includes("your name")||e.includes("complete name")||e.includes("legal name"))&&!e.includes("first")&&!e.includes("last")&&!e.includes("company")&&!e.includes("middle");if(r){(0,n.log)(`   \ud83d Detected as Full Name question`);let e=this.isValidValue(t?.first_name,"first_name"),r=this.isValidValue(t?.last_name,"last_name");if((0,n.log)(`      first_name="${t?.first_name}" (valid: ${e})`),(0,n.log)(`      last_name="${t?.last_name}" (valid: ${r})`),e&&r)return(0,n.log)(`   \u2713 Can answer with: "${t.first_name} ${t.last_name}"`),!0;(0,n.log)(`   \u2717 Missing name data`)}let o=(e.includes("home address")||e.includes("address"))&&(e.includes("city")||e.includes("state")||e.includes("zip"));if(o){(0,n.log)(`   \ud83d Detected as Address compound question`);let e=this.isValidValue(t.address,"address"),r=this.isValidValue(t.city,"city"),o=this.isValidValue(t.state,"state"),i=this.isValidValue(t.zip,"zip");if((0,n.log)(`      address="${t.address}" (valid: ${e})`),(0,n.log)(`      city="${t.city}" (valid: ${r})`),(0,n.log)(`      state="${t.state}" (valid: ${o})`),(0,n.log)(`      zip=${t.zip} (valid: ${i})`),e||r&&o&&i)return(0,n.log)(`   \u2713 Can answer with address data`),!0;(0,n.log)(`   \u2717 Missing address data`)}if((e.includes("current location")||e.includes("location")||e.includes("where are you located")||e.includes("where do you live"))&&!e.includes("address")){let e=this.isValidValue(t.city,"city"),r=this.isValidValue(t.state,"state"),o=this.isValidValue(t.country,"country");if(e&&r||e&&o)return(0,n.log)(`\u2713 Have compound answer: location = city + state/country`),!0}return!1}static isValidValue(e,t){return null!=e&&("string"!=typeof e||""!==e.trim())&&("zip"!==t&&"mobile_num"!==t||0!==e)&&("resume"!==t||"string"!=typeof e||e.startsWith("http://")||e.startsWith("https://"))}static isFieldAlreadyFilled(e){try{let t=(0,i.findElementByQuestion)(e.name,[]);if((0,n.log)(`   Checking if field filled for: "${e.name.substring(0,50)}"`),!t)return(0,n.log)(`   \u2717 Element not found on page`),!1;if((0,n.log)(`   Found element: ${t.tagName} type="${t.getAttribute("type")}" name="${t.getAttribute("name")}"`),"radio"===t.getAttribute("type")){let e=t.getAttribute("name");if(e){let t=document.querySelectorAll(`input[type="radio"][name="${e}"]`);for(let r of((0,n.log)(`   Radio group "${e}": found ${t.length} radios`),t))if(r.checked)return(0,n.log)(`   \u2713 Radio is checked`),!0;return(0,n.log)(`   \u2717 No radio is checked`),!1}}if("checkbox"===t.getAttribute("type")){let e=t.checked;return(0,n.log)(`   Checkbox checked: ${e}`),e}if(t instanceof HTMLInputElement||t instanceof HTMLTextAreaElement){let e=t.value?.trim(),r=null!=e&&""!==e;return(0,n.log)(`   Input value: "${e}" (filled: ${r})`),r}if(t instanceof HTMLSelectElement){let e=t.selectedIndex>0&&""!==t.value;return(0,n.log)(`   Select selectedIndex: ${t.selectedIndex}, value: "${t.value}" (filled: ${e})`),e}return(0,n.log)("   Unknown element type, assuming not filled"),!1}catch(e){return(0,n.log)(`   Error checking if filled: ${e}`),!1}}}},{"./elementFinder":"inTYG","../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"1VI5n":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ConsentCheckboxHandler",()=>s);var i=e("./DOMEventDispatcher"),n=e("./AsyncUtils"),l=e("../logger");class s{static{this.CONSENT_KEYWORDS=["understand","agree","consent","acknowledge","accept","confirm","certify","privacy","contact me"]}static async autoSelectConsentCheckboxes(){let e=document.querySelectorAll('input[type="checkbox"]'),t=new Set,r=0;for(let o of e){if(o.checked)continue;let e=o.getAttribute("name")||`unnamed-${Math.random()}`;if(t.has(e))continue;let i=this.findCheckboxGroup(o,e);1===i.length&&(t.add(e),this.isConsentField(o)&&(await this.checkCheckbox(o),r++))}return r>0&&(0,l.logSuccess)(`\u2705 Auto-checked ${r} consent checkbox(es)`),r}static findCheckboxGroup(e,t){if(t.startsWith("unnamed-"))return[e];let r=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]");return Array.from(document.querySelectorAll(`input[type="checkbox"][name="${r}"]`)).filter(e=>"checkbox"===e.type)}static isConsentField(e){let t=(e.closest(".application-question, .application-field, li, div, label")?.textContent||"").toLowerCase();return this.CONSENT_KEYWORDS.some(e=>t.includes(e))}static async checkCheckbox(e){e.click(),e.checked=!0,(0,i.DOMEventDispatcher).dispatchRadioCheckboxEvents(e),await (0,n.AsyncUtils).sleep(300)}static getConsentContext(e){let t=(e.closest(".application-question, .application-field, li, div, label")?.textContent||"").toLowerCase(),r=this.CONSENT_KEYWORDS.some(e=>t.includes(e)),o=t.substring(0,60).replace(/\s+/g," ");return{isConsent:r,text:o}}static async checkSingleCheckBoxByConfig(e){try{let t=e?.fieldConfig?.fieldWrapper,r=e?.fieldConfig?.labelSelector,o=["dom"];for(let e of(t&&r&&(document.querySelector(t)?o=Array.from(document.querySelectorAll(t)):((0,l.log)("No fieldWrapper found in config"),o=[])),o)){let t=o.includes("dom")?document:e,r=t.querySelectorAll('input[type="checkbox"]');for(let e of r){let t=e;if("checkbox"===t.getAttribute("type")){let e=["set","name"],r=e.find(e=>t.hasAttribute(e)),o=r?t.getAttribute(r):null;if(!o){let e=t.closest("fieldset");e?.getAttribute("id")&&(o=e.getAttribute("id"))}if(!o)continue;let i=o.replace(/\[/g,"\\[").replace(/\]/g,"\\]");i.includes("-checkbox-")&&(i=i.replace(/-\d+$/,""));let n=e.map(e=>`input[type="checkbox"][${e}*="${i}"]`).join(", "),l=document.querySelectorAll(n);if(1===l.length){let e=l[0];e.checked||(e.click(),e.checked=!0);continue}if(1===l.length){let e=t.closest('[role="group"]');if(!e)continue;if(l=e.querySelectorAll('input[type="checkbox"]'),1===l.length){let e=l[0];e.checked||(e.click(),e.checked=!0)}continue}}}}return!0}catch(e){return!1}}}},{"./DOMEventDispatcher":"c0PhO","./AsyncUtils":"kiClj","../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],c0PhO:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"DOMEventDispatcher",()=>i);class i{static dispatchInputEvents(e){["input","change","blur","keyup"].forEach(t=>{let r=new Event(t,{bubbles:!0});e.dispatchEvent(r)})}static dispatchClickEvents(e){let t=[new MouseEvent("mousedown",{bubbles:!0,cancelable:!0,view:window}),new MouseEvent("mouseup",{bubbles:!0,cancelable:!0,view:window}),new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window}),new PointerEvent("pointerdown",{bubbles:!0,cancelable:!0}),new PointerEvent("pointerup",{bubbles:!0,cancelable:!0})];t.forEach(t=>e.dispatchEvent(t)),e.click()}static dispatchRadioCheckboxEvents(e){e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("click",{bubbles:!0}))}static dispatchComboboxOpenEvents(e){e.click(),e.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0})),e.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0}))}static setValueAndDispatch(e,t){e.value=t,this.dispatchInputEvents(e)}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],aW8m1:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"DynamicStateMonitor",()=>l);var i=e("./ApplicationStateChecker"),n=e("../logger");class l{static{this.monitorInterval=null}static{this.isMonitoring=!1}static{this.onErrorCallback=null}static startMonitoring(e,t,r=2e3){if(this.isMonitoring){(0,n.log)("State monitor already running");return}this.isMonitoring=!0,this.onErrorCallback=t,(0,n.log)(`\ud83d Starting dynamic state monitoring (checking every ${r}ms)`),this.monitorInterval=setInterval(()=>{try{let t=(0,i.ApplicationStateChecker).checkAllStates(e);t.canContinue||((0,n.logError)(`Dynamic state change detected: ${t.errorType}`),this.onErrorCallback&&this.onErrorCallback(t),this.stopMonitoring())}catch(e){(0,n.log)("Error in state monitoring:",e)}},r)}static stopMonitoring(){this.monitorInterval&&(clearInterval(this.monitorInterval),this.monitorInterval=null),this.isMonitoring=!1,this.onErrorCallback=null,(0,n.log)("\u270b Stopped dynamic state monitoring")}static isActive(){return this.isMonitoring}}},{"./ApplicationStateChecker":"e6uTN","../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"82Qns":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"SuccessDetector",()=>s);var i=e("./ElementVisibility"),n=e("../logger"),l=e("./AsyncUtils");class s{static{this.monitorInterval=null}static{this.isMonitoring=!1}static async waitForSuccess(e,t=3e4,r=1e3){if(!e?.success||!Array.isArray(e.success))return{detected:!1,message:""};(0,n.log)(`\ud83d Monitoring for success indicators (${t/1e3}s max)`);let o=Date.now();for(;Date.now()-o<t;){for(let t of e.success)try{if("screenText"===t.type&&t.screenText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.screenText))return(0,n.logSuccess)(`\u2705 Success detected: "${t.screenText}"`),{detected:!0,message:t.screenText};if("toasterText"===t.type&&t.toasterText&&(0,i.ElementVisibility).isTextVisibleOnPage(t.toasterText))return(0,n.logSuccess)(`\u2705 Success detected (toast): "${t.toasterText}"`),{detected:!0,message:t.toasterText};if("domSelector"===t.type&&t.domSelector){let e=Array.isArray(t.domSelector)?t.domSelector:[t.domSelector];for(let t of e){let e=document.querySelector(t);if(e&&(0,i.ElementVisibility).isVisible(e)){let r=e.textContent?.trim()||"Success";return(0,n.logSuccess)(`\u2705 Success detected via domSelector: ${t}`),{detected:!0,message:r}}}}}catch(e){}await (0,l.AsyncUtils).sleep(r)}return(0,n.log)(`\u23f1\ufe0f No success indicator found after ${t/1e3}s`),{detected:!1,message:""}}static startMonitoring(e,t,r=1e3){if(this.isMonitoring){(0,n.log)("Success monitor already running");return}if(!e?.success||!Array.isArray(e.success)){(0,n.log)("No success indicators to monitor");return}this.isMonitoring=!0,(0,n.log)(`\ud83d Starting success detection monitoring (checking every ${r}ms)`),this.monitorInterval=setInterval(()=>{for(let r of e.success)try{if("screenText"===r.type&&r.screenText&&(0,i.ElementVisibility).isTextVisibleOnPage(r.screenText)){(0,n.logSuccess)(`\u2705 Success detected: "${r.screenText}"`),this.stopMonitoring(),t(r.screenText);return}if("toasterText"===r.type&&r.toasterText&&(0,i.ElementVisibility).isTextVisibleOnPage(r.toasterText)){(0,n.logSuccess)(`\u2705 Success detected (toast): "${r.toasterText}"`),this.stopMonitoring(),t(r.toasterText);return}if("domSelector"===r.type&&r.domSelector){let e=Array.isArray(r.domSelector)?r.domSelector:[r.domSelector];for(let r of e){let e=document.querySelector(r);if(e&&(0,i.ElementVisibility).isVisible(e)){let o=e.textContent?.trim()||"Success";(0,n.logSuccess)(`\u2705 Success detected via domSelector: ${r}`),this.stopMonitoring(),t(o);return}}}if("urlMatch"===r.type&&r.includes){let e=window.location.href.toLowerCase(),o=r.includes.toLowerCase();if(e.includes(o)){(0,n.logSuccess)(`\u2705 Success detected via URL match: "${o}"`),this.stopMonitoring(),t("Application submitted successfully");return}}}catch(e){}},r)}static stopMonitoring(){this.monitorInterval&&(clearInterval(this.monitorInterval),this.monitorInterval=null),this.isMonitoring=!1,(0,n.log)("\u270b Stopped success detection monitoring")}static isActive(){return this.isMonitoring}}},{"./ElementVisibility":"eHl3j","../logger":"8IkKh","./AsyncUtils":"kiClj","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],iYY17:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"autoAcceptCookies",()=>i);let i=()=>{try{let e=/(cookie|consent|privacy|gdpr|data policy)/i,t=/(accept|agree|allow)/i,r=[...document.querySelectorAll("div, section, aside, dialog, form")].filter(t=>t instanceof HTMLElement&&e.test(t.innerText));if(!r.length)return;for(let e of r){let r=[...e.querySelectorAll("button, a")].find(e=>e instanceof HTMLElement&&t.test(e.innerText));if(r&&r instanceof HTMLElement){r.click();break}}return}catch(e){return}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"4re9M":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"BasePlatformHandler",()=>i.BasePlatformHandler),o.export(r,"LeverPlatformHandler",()=>n.LeverPlatformHandler),o.export(r,"IndeedPlatformHandler",()=>l.IndeedPlatformHandler),o.export(r,"UniversalPlatformHandler",()=>s.UniversalPlatformHandler),o.export(r,"PlatformHandlerFactory",()=>a.PlatformHandlerFactory),o.export(r,"collectLeverQuestions",()=>c.collectLeverQuestions),o.export(r,"extractLeverQuestionText",()=>c.extractLeverQuestionText),o.export(r,"extractLeverOptions",()=>c.extractLeverOptions),o.export(r,"isInEEOSection",()=>c.isInEEOSection),o.export(r,"collectIndeedQuestions",()=>u.collectIndeedQuestions),o.export(r,"extractIndeedQuestionText",()=>u.extractIndeedQuestionText),o.export(r,"extractIndeedOptions",()=>u.extractIndeedOptions);var i=e("./BasePlatformHandler"),n=e("./lever/LeverPlatformHandler"),l=e("./indeed/IndeedPlatformHandler"),s=e("./universal/UniversalPlatformHandler"),a=e("./PlatformHandlerFactory"),c=e("./lever/LeverQuestionCollector"),u=e("./indeed/IndeedQuestionCollector")},{"./BasePlatformHandler":"bfgyN","./lever/LeverPlatformHandler":"6UPR7","./indeed/IndeedPlatformHandler":"LtvIM","./universal/UniversalPlatformHandler":"6IcN5","./PlatformHandlerFactory":"3Qx1p","./lever/LeverQuestionCollector":"64zhX","./indeed/IndeedQuestionCollector":"g42T9","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],bfgyN:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"BasePlatformHandler",()=>i);class i{constructor(e){this.platformName=e}getPlatformName(){return this.platformName}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"6UPR7":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"LeverPlatformHandler",()=>S);var i=e("../../utils/elementFinder"),n=e("../../utils/formFiller"),l=e("../../logger"),s=e("../../utils/progressTracker"),a=e("../../utils/ApplicationStateChecker"),c=e("../../utils/DynamicStateMonitor"),u=e("../../utils/FormSubmitter"),d=e("../../utils/MultiStepFormNavigator"),p=e("../../utils/QuestionFilter"),m=e("../../utils/SuccessDetector"),f=e("../../utils/AsyncUtils"),g=e("../BasePlatformHandler"),h=e("./LeverQuestionCollector"),y=e("~helper/commonHelpers"),b=e("../../utils/MandatoryFieldValidator"),w=e("~services/autofill/utils/cookieHelper");class S extends g.BasePlatformHandler{constructor(){super("Lever")}collectQuestions(e,t){return(0,h.collectLeverQuestions)(e,t)}async autofillBasicForm(e){(0,l.log)("\uD83C\uDFAF Starting Lever-specific autofill");let t=[{selectors:['input.application-field[name*="first"]','input[name*="first"]','input[id*="first"]','input[placeholder*="First"]'],value:e.first_name,label:"First Name"},{selectors:['input.application-field[name*="last"]','input[name*="last"]','input[id*="last"]','input[placeholder*="Last"]'],value:e.last_name,label:"Last Name"},{selectors:['input.application-field[name*="name"]:not([name*="first"]):not([name*="last"])','input[name*="name"]','input[id*="name"]','input[placeholder*="Name"]'],value:`${e.first_name} ${e.last_name}`,label:"Full Name"},{selectors:['input.application-field[type="email"]','input[name*="email"]','input[id*="email"]','input[type="email"]'],value:e.email,label:"Email"},{selectors:['input.application-field[name*="phone"]','input[name*="phone"]','input[id*="phone"]','input[name*="mobile"]'],value:e.mobile_num,label:"Phone"},{selectors:['input.application-field[name*="city"]','input[name*="city"]','input[id*="city"]','input[placeholder*="City"]'],value:e.city,label:"City"},{selectors:['input.application-field[name*="state"]','input[name*="state"]','input[id*="state"]','input[placeholder*="State"]'],value:e.state,label:"State"},{selectors:['input.application-field[name*="zip"]','input[name*="zip"]','input[id*="zip"]','input[name*="postal"]'],value:e.zip?.toString(),label:"Zip Code"},{selectors:['input.application-field[name*="country"]','input[name*="country"]','input[id*="country"]','input[placeholder*="Country"]'],value:e.country,label:"Country"},{selectors:['input.application-field[name*="address"]','textarea.application-field[name*="address"]','input[name*="address"]','input[id*="address"]','textarea[name*="address"]'],value:e.address,label:"Address"},{selectors:['input.application-field[name*="linkedin"]','input[name*="linkedin"]','input[id*="linkedin"]','input[placeholder*="LinkedIn"]','input[name="urls[LinkedIn]"]'],value:e.linkedin_profile_url,label:"LinkedIn"},{selectors:['input.application-field[name*="salary"]','input[name*="salary"]','input[id*="salary"]','input[name*="pay"]'],value:e.expected_salary?.toString(),label:"Salary"},{selectors:['input.application-field[name*="available"]','input[name*="available"]','input[id*="available"]','input[name*="start"]'],value:e.available_date,label:"Available Date"}],r=0;if(e.resume){let t=await this.uploadResume(e);t&&r++}for(let e=0;e<t.length;e++){if((0,s.progressTracker).isStopped()){(0,l.log)("\u23f9\ufe0f Process stopped");return}let o=t[e];if(!o.value)continue;let i=!1;for(let e of o.selectors){let t=document.querySelectorAll(e);for(let e of t)if(e&&("text"===e.type||"email"===e.type||"tel"===e.type||"TEXTAREA"===e.tagName)){if((0,n.fillInput)(e,o.value)){r++,(0,l.log)(`\u2713 Filled ${o.label}: "${o.value}"`),i=!0,(0,y.sendATSQuestionResult)(o.label,!0),await (0,f.AsyncUtils).sleep(200);break}(0,y.sendATSQuestionResult)(o.label,!1)}if(i)break}await (0,f.AsyncUtils).sleep(250)}let o=(()=>{if(e.address&&e.address.trim())return e.address.trim();let t=[];return(e.city&&e.city.trim()&&t.push(e.city.trim()),e.state&&e.state.trim()&&t.push(e.state.trim()),e.zip&&e.zip>0&&t.push(e.zip.toString()),t.length>0)?t.join(", "):e.country&&e.country.trim()?e.country.trim():""})();if(o){let e=await this.fillLocationAutocomplete(o);e&&(r++,(0,y.sendATSQuestionResult)("Current location",!0),await (0,f.AsyncUtils).sleep(200))}if(e.gender){let t=e.gender.toLowerCase().trim(),o=document.querySelectorAll("select");for(let e of o)if(e.name?.toLowerCase().includes("gender")){let o=Array.from(e.options),i=o.find(e=>e.value.toLowerCase().trim()===t||e.textContent?.toLowerCase().trim()===t);i&&(e.value=i.value,e.dispatchEvent(new Event("change",{bubbles:!0})),e.dispatchEvent(new Event("input",{bubbles:!0})),(0,y.sendATSQuestionResult)("Gender",!0),r++,(0,l.log)(`\u2713 Selected gender (SELECT): ${i.value}`))}let i=document.querySelectorAll('input[type="radio"]');for(let o of i)o.name?.toLowerCase().includes("gender")&&o.value?.toLowerCase()===t&&(o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})),(0,y.sendATSQuestionResult)("Gender",!0),r++,(0,l.log)(`\u2713 Selected gender (RADIO): ${e.gender}`))}return await this.handleConsentCheckboxes(),(0,l.logSuccess)(`Lever basic autofill completed: ${r} fields filled`),{success:!0,filledCount:r}}async fillLocationAutocomplete(e){if(!e||""===e.trim())return!1;try{let t=document.querySelector('input[data-qa="location-input"], input[id="location-input"], input.location-input');if(!t)return(0,l.log)("\u26a0\ufe0f Lever location input not found"),!1;(0,l.log)(`\ud83d Filling Lever location autocomplete: "${e}"`);let r=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value")?.set;t.click(),await (0,f.AsyncUtils).sleep(100),t.focus(),await (0,f.AsyncUtils).sleep(100),r?r.call(t,""):t.value="",t.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),await (0,f.AsyncUtils).sleep(200),(0,l.log)(`\u2328\ufe0f Typing location character by character: "${e}"`);for(let o=0;o<e.length;o++){let i=e[o],n=e.substring(0,o+1);r?r.call(t,n):t.value=n,t.dispatchEvent(new KeyboardEvent("keydown",{key:i,code:`Key${i.toUpperCase()}`,bubbles:!0,composed:!0})),t.dispatchEvent(new KeyboardEvent("keypress",{key:i,code:`Key${i.toUpperCase()}`,bubbles:!0,composed:!0})),t.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),t.dispatchEvent(new InputEvent("input",{bubbles:!0,composed:!0,inputType:"insertText",data:i})),t.dispatchEvent(new KeyboardEvent("keyup",{key:i,code:`Key${i.toUpperCase()}`,bubbles:!0,composed:!0})),await (0,f.AsyncUtils).sleep(100)}t.dispatchEvent(new Event("input",{bubbles:!0,composed:!0})),t.dispatchEvent(new Event("change",{bubbles:!0,composed:!0})),(0,l.log)(`\u2713 Finished typing location: "${e}"`),(0,l.log)("\u23f3 Waiting for location dropdown to appear..."),await (0,f.AsyncUtils).sleep(1e3);let o=null,i=0;for(;i<10;){if((o=document.querySelector(".dropdown-container"))&&"none"!==o.style.display){(0,l.log)("\u2713 Location dropdown appeared");break}(0,l.log)(`\u23f3 Waiting for dropdown to appear... (${i+1}/10)`),await (0,f.AsyncUtils).sleep(300),i++}if(!o||"none"===o.style.display)return(0,l.log)("\u26a0\ufe0f Location dropdown did not appear - keeping typed value"),t.blur(),!0;let n=0,s=!1;for(;n<150;){let e=o.querySelector(".dropdown-loading-results"),t=o.querySelector(".dropdown-results"),r=o.querySelector(".dropdown-no-results"),i=!e||"none"===e.style.display,a=t?.querySelector(".dropdown-location"),c=!!a,u=r&&"none"!==r.style.display;if(i&&(c||u)){s=c,(0,l.log)(s?"\u2713 Location results loaded":"\u26a0\ufe0f No location results found");break}n%5==0&&(0,l.log)(`\u23f3 Waiting for location search to complete... (${n+1}/150)`),await (0,f.AsyncUtils).sleep(200),n++}let a=o.querySelector(".dropdown-results"),c=o.querySelector(".dropdown-no-results"),u=a?.querySelector(".dropdown-location");if(c&&"none"!==c.style.display)return(0,l.log)(`\u26a0\ufe0f No location results found for: "${e}"`),t.blur(),!0;if(!u)return(0,l.log)(`\u26a0\ufe0f No location options found in dropdown after ${n} attempts`),t.blur(),!0;let d=u.textContent?.trim()||e;(0,l.log)(`\u2713 Selecting first location option: "${d}"`),u.scrollIntoView({block:"nearest"}),await (0,f.AsyncUtils).sleep(200),u.dispatchEvent(new MouseEvent("mouseenter",{bubbles:!0,composed:!0,view:window})),await (0,f.AsyncUtils).sleep(100),u.dispatchEvent(new MouseEvent("mouseover",{bubbles:!0,composed:!0,view:window})),await (0,f.AsyncUtils).sleep(100),u.dispatchEvent(new MouseEvent("mousedown",{bubbles:!0,composed:!0,view:window,button:0,buttons:1})),await (0,f.AsyncUtils).sleep(100),"function"==typeof u.focus&&(u.focus(),await (0,f.AsyncUtils).sleep(50)),u.dispatchEvent(new MouseEvent("mouseup",{bubbles:!0,composed:!0,view:window,button:0,buttons:0})),await (0,f.AsyncUtils).sleep(100),u.click(),await (0,f.AsyncUtils).sleep(200),u.dispatchEvent(new MouseEvent("click",{bubbles:!0,composed:!0,view:window,button:0})),await (0,f.AsyncUtils).sleep(500);let p=document.querySelector(".dropdown-container"),m=p&&"none"!==p.style.display;m&&((0,l.log)("\u26a0\ufe0f Dropdown still visible after click, clicking outside to close..."),t.click(),await (0,f.AsyncUtils).sleep(100),t.blur(),await (0,f.AsyncUtils).sleep(200));let g=t.value,h=document.getElementById("selected-location"),y=h?.value;return(0,l.log)(`\u2705 Lever location filled: "${d}"`),(0,l.log)(`   Input value: "${g}"`),(0,l.log)(`   Selected location (hidden): ${y||"not set"}`),!0}catch(e){return(0,l.logError)("Error filling Lever location autocomplete",e),!1}}async uploadResume(e){if(!e.resume)return!1;for(let t of((0,l.log)("Attempting Lever resume upload..."),['input.application-field[type="file"]','input[type="file"][accept*="pdf"]','input[type="file"][accept*="doc"]','input[type="file"]'])){let r=document.querySelectorAll(t);for(let t of r){let r=t.name?.toLowerCase().includes("resume")||t.id?.toLowerCase().includes("resume")||t.accept?.includes("pdf")||t.accept?.includes("doc")||t.closest(".application-question")?.textContent?.toLowerCase().includes("resume");if(r){let r=await (0,n.uploadResume)(t,e.resume);if(r)return(0,l.log)("\u2713 Lever resume uploaded successfully"),!0}}}return(0,l.log)("\u26a0\ufe0f Could not find Lever resume upload field"),!1}async handleConsentCheckboxes(){(0,l.log)("Checking Lever consent checkboxes...");let e=document.querySelectorAll('input[type="checkbox"]'),t=new Set,r=0;for(let o of e){if(o.checked)continue;let e=o.getAttribute("name")||`unnamed-${Math.random()}`;if(!t.has(e)&&1===(e.startsWith("unnamed-")?[o]:Array.from(document.querySelectorAll(`input[type="checkbox"][name="${e}"]`)).filter(e=>"checkbox"===e.type)).length){t.add(e);let i=o.closest(".application-question, .application-field, li, div, label"),n=(i?.textContent||"").toLowerCase(),s=n.includes("understand")||n.includes("agree")||n.includes("consent")||n.includes("acknowledge")||n.includes("accept")||n.includes("confirm")||n.includes("certify")||n.includes("privacy")||n.includes("terms")||n.includes("contact me");if(s){o.click(),o.checked=!0,o.dispatchEvent(new Event("change",{bubbles:!0})),o.dispatchEvent(new Event("click",{bubbles:!0})),r++;let e=n.substring(0,60).replace(/\s+/g," ");(0,l.log)(`\u2705 Auto-checked Lever consent: "${e}..."`),await (0,f.AsyncUtils).sleep(300)}}}r>0&&(0,l.logSuccess)(`\u2705 Auto-checked ${r} Lever consent checkbox(es)`)}async handleComplexForm(e,t,r){(0,l.log)("\uD83D\uDE80 Starting Lever complex form workflow"),await chrome.storage.local.set({complexFormInProgress:!0,complexFormData:{applicationDetails:e,complexInstructions:t,autoApplyEnabled:r}});let o=[],g=0;chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:70,message:"Checking Lever application status..."}).catch(()=>{});let S=(0,a.ApplicationStateChecker).checkAllStates(t);if(!S.canContinue){chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:S.errorType,message:S.message,url:window.location.href}).catch(()=>{});return}(0,c.DynamicStateMonitor).startMonitoring(t,e=>{(0,l.logError)(`Lever error detected: ${e.errorType}`),(0,m.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{})},2e3);let v=!1,C=null,A=new Promise(e=>{C=e});if((0,m.SuccessDetector).startMonitoring(t?.applicationStatus,async e=>{(0,l.logSuccess)(`Lever application completed: ${e}`),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),(0,c.DynamicStateMonitor).stopMonitoring(),(0,m.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:e,url:window.location.href,success_next_job:!0}).catch(()=>{}),v=!0,C&&C(),await (0,f.AsyncUtils).sleep(5e3)},2e3),await Promise.race([(0,f.AsyncUtils).sleep(5e3),A]),v)return;(0,w.autoAcceptCookies)(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:75,message:"Filling Lever application form..."}).catch(()=>{});let E=this.collectQuestions(new Set,t);(0,y.sendPageQuestionsToSidepanel)(E),e?.seeker&&await this.autofillBasicForm(e.seeker);let k=await (0,h.collectLeverBasicQuestions)(new Set,t);for(let e of k)e.isFilled?(0,y.sendATSQuestionResult)(e?.name,!0):(0,y.sendATSQuestionResult)(e?.name,!1),await (0,f.AsyncUtils).sleep(100);if((0,l.log)(`\ud83d Found ${E.length} questions on current Lever page`),e?.seeker?.seeker_response&&e.seeker.seeker_response.length>0){let t=(0,y.filterValidResponses)(e.seeker.seeker_response);(0,l.log)(`\ud83d Filling ${t.length} questions from seeker_response`);for(let e=0;e<t.length;e++){let r=t[e],i=null!==r.a&&void 0!==r.a&&""!==String(r.a).trim();if(i){let e=await (0,n.fillSeekerResponse)(r);e?(g++,(0,l.log)(`\u2713 Filled: "${r.name}"`),(0,y.sendATSQuestionResult)(r.q,!0)):((0,y.sendATSQuestionResult)(r.q,!1),(0,l.log)(`\u274c Failed to fill: "${r.q}"`),o.push({question:r.q,type:r.type||"text",options:r.a||"",reason:"Could not find or fill field on Lever page",is_required:r?.is_required??!1}))}await (0,f.AsyncUtils).sleep(200)}}let T=o.map(e=>({name:e.question,type:e.type||"text",options:e.options||"",is_required:e?.is_required??!1}));(0,l.log)(`\ud83d Total ${T.length} unanswered Lever questions`);let q=(0,p.QuestionFilter).filterUnansweredQuestions([...T,...E.flat()],e?.seeker),F=this.collectQuestions(new Set,t),L=new Set(F.map(e=>(0,i.cleanQuestionText)(e.name).toLowerCase().trim())),$=q.filter(e=>{let t=(0,i.cleanQuestionText)(e.name).toLowerCase().trim(),r=L.has(t);return r||(0,l.log)(`\u26a0\ufe0f Filtering out question not on current page: "${e.name}"`),r});(0,l.log)(`\u2713 Validated: ${$.length} of ${q.length} questions exist on current page`);let M=Array.from(new Map($.map(e=>[(0,i.cleanQuestionText)(e.name).toLowerCase().trim()+"||"+(e.type||"text"),e])).values());if(M.length>0){(0,l.log)(`\ud83d Fetching ${M.length} Lever answers from API`);try{chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:88,message:`Fetching answers for ${M.length} Lever questions...`}).catch(()=>{}),await (0,f.AsyncUtils).sleep(1e3);let t=await new Promise(t=>{chrome.runtime.sendMessage({action:"FETCH_ADDITIONAL_REQUIREMENTS",jobId:e.copilot_job_id,applicationId:e.application_id,requirements:M},t)});if(t&&t.success&&t.data?.seeker?.seeker_response){(0,l.logAPI)(`Received ${t.data.seeker.seeker_response.length} Lever answers from API`);let e=(0,y.filterValidResponses)(t.data.seeker.seeker_response);for(let r of(await (0,y.sendInvalidATSQuestionResults)(t.data.seeker.seeker_response),e)){let e=await (0,n.fillSeekerResponse)(r);if(e){g++;let e=o.findIndex(e=>e.question===(0,i.cleanQuestionText)(r?.q));e>=0&&o.splice(e,1),(0,y.sendATSQuestionResult)(r.q,!0)}else{let e=(0,i.cleanQuestionText)(r?.q),t=o.find(t=>t.question===e);t||o.push({question:e,type:r.type||"text",reason:"Could not find or fill Lever field even with API answer"}),(0,y.sendATSQuestionResult)(r.q,!1)}await (0,f.AsyncUtils).sleep(600)}(0,l.log)(`\ud83d Lever API results: ${e.length} processed`)}else(0,l.logError)("Failed to fetch additional requirements from API for Lever")}catch(e){(0,l.logError)("Error fetching Lever requirements",e)}}let R=await (0,y.waitForIsMissingUIShowToBeFalseOrTimeout)();(0,l.log)(`Missing response ${R}`),(0,l.log)(`\ud83d Lever final totals: ${g} successful, ${o.length} failed`),await x(e.seeker),await this.handleConsentCheckboxes(),o.length>0&&((0,l.log)(`\u26a0\ufe0f ${o.length} questions could not be answered - will attempt submit anyway`),(0,l.log)(`Unanswered questions: ${o.map(e=>e.question).join(", ")}`)),(0,l.logSuccess)("Lever form filled, ready to submit"),(0,l.log)("\uD83D\uDD0D Checking for captcha on page...");try{let e=(0,a.ApplicationStateChecker).checkCaptcha(t);if(!e.canContinue){(0,l.logError)(`\ud83e ${e.message}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{});return}(0,l.log)("\u2713 No captcha detected, continuing with submission")}catch(e){(0,l.logError)(`\u26a0\ufe0f Captcha check failed with error: ${e}`),(0,l.log)("\u2713 Continuing with submission despite captcha check error")}if((0,s.progressTracker).isStopped()){(0,l.log)("\u23f9\ufe0f Process stopped");return}if(r&&t?.multiFormData&&Array.isArray(t.multiFormData)){let r=(0,d.MultiStepFormNavigator).getFinalSubmitButton(t.multiFormData),o=(0,d.MultiStepFormNavigator).isOnFinalPage(t.multiFormData);if(o&&r){(0,l.log)(`\ud83d\ufe0f Attempting to submit Lever form with button: "${r}"`),await (0,f.AsyncUtils).sleep(1e3);let o=Array.isArray(t.multiFormData)?t.multiFormData:[],i=null;for(let e of o){let t=e?.type==="lastButtonText"&&e.lastButtonText;if(t&&(i=await (0,u.FormSubmitter).findButton(e.lastButtonText)))break}if(i){i.click(),await (0,f.AsyncUtils).sleep(4e3),(0,l.logSuccess)(`Lever submit button clicked: ${r}`),(0,l.log)("\uD83D\uDD0D Checking for validation errors after submit...");let o=await (0,b.MandatoryFieldValidator).hasValidationErrors(t,t?.applicationStatus,!0);if(o){(0,l.logError)("\u274c Validation errors detected after submit - checking if captcha is blocking"),(0,l.logError)("\u274c Required fields are missing or invalid (HTML5 validation or custom errors)"),(0,c.DynamicStateMonitor).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"missing-questions",message:"Required fields are missing or invalid - submission blocked",url:window.location.href}).catch(()=>{});return}(0,l.log)("\u2713 No validation errors after submit"),await (0,u.FormSubmitter).saveSubmissionState(String(e.application_id),String(e.copilot_job_id),t?.applicationStatus);let n=await (0,u.FormSubmitter).waitForSubmissionResult(t?.applicationStatus);await (0,u.FormSubmitter).clearSubmissionState(),n.detected&&n.isSuccess?((0,l.logSuccess)(`Lever application submitted successfully: ${n.message}`),(0,c.DynamicStateMonitor).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:n.message,url:window.location.href}).catch(()=>{})):((0,l.log)("\u274c Submission failed"),(0,c.DynamicStateMonitor).stopMonitoring(),(0,m.SuccessDetector).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"submissionFailed",message:n.message||"Application submission failed",url:window.location.href}).catch(()=>{}))}else(0,l.logError)(`Lever submit button not found: ${r}`),(0,c.DynamicStateMonitor).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"buttonNotFound",message:`Lever submit button not found: ${r}`,url:window.location.href}).catch(()=>{})}else(0,l.logSuccess)("Lever form filled, waiting for manual submission"),(0,c.DynamicStateMonitor).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:100,message:"Form filled - Click on submit application button to proceed",url:window.location.href,removeNotification:!0}).catch(()=>{})}else(0,l.logSuccess)("Lever form filled, auto-apply disabled"),(0,c.DynamicStateMonitor).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:100,message:"Form filled - Click on submit application button to proceed",url:window.location.href,removeNotification:!0}).catch(()=>{})}async handleMissingQuestions(e){console.log(e,"answer");for(let t=0;t<e.length;t++){let r=e[t];if(r){let e=null!==r.a&&void 0!==r.a&&""!==r.a;if(e){let e=await (0,n.fillSeekerResponse)(r);e?((0,y.sendATSQuestionResult)(r.q,!0),console.log("done")):((0,y.sendATSQuestionResult)(r.q,!1),console.log("not done"))}else(0,y.sendATSQuestionResult)(r.q,!1)}await (0,f.AsyncUtils).sleep(100)}return[]}}async function x(e){try{let t=document.querySelector('[name="eeo[disabilitySignature]"]'),r=document.querySelector('[name="eeo[disabilitySignatureDate]"]');if(!t||!r){(0,l.log)("\u26a0\ufe0f Disability signature fields not found");return}let o=(t.closest("div")?.textContent||"").replace(/\s+/g," ").trim().substring(0,60);(0,l.log)(`\ud83d Disability signature section detected: "${o}..."`);let i=`${e.first_name||""} ${e.last_name||""}`.trim();(0,n.fillInput)(t,i);let s=new Date().toLocaleDateString("en-US");(0,n.fillInput)(r,s),(0,l.logSuccess)(`\u2705 Filled Disability Signature: Name="${i}", Date="${s}"`),await (0,f.AsyncUtils).sleep(200)}catch(e){(0,l.logError)("\u274c Error handling disability signature section",e)}}},{"../../utils/elementFinder":"inTYG","../../utils/formFiller":"bV5He","../../logger":"8IkKh","../../utils/progressTracker":"cII7Q","../../utils/ApplicationStateChecker":"e6uTN","../../utils/DynamicStateMonitor":"aW8m1","../../utils/FormSubmitter":"4z5Xf","../../utils/MultiStepFormNavigator":"kM2MG","../../utils/QuestionFilter":"illN6","../../utils/SuccessDetector":"82Qns","../../utils/AsyncUtils":"kiClj","../BasePlatformHandler":"bfgyN","./LeverQuestionCollector":"64zhX","~helper/commonHelpers":"gwFvg","../../utils/MandatoryFieldValidator":"4ZWpj","~services/autofill/utils/cookieHelper":"iYY17","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"64zhX":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"extractLeverQuestionText",()=>s),o.export(r,"extractLeverOptions",()=>a),o.export(r,"isInEEOSection",()=>c),o.export(r,"collectLeverQuestions",()=>u),o.export(r,"collectLeverBasicQuestions",()=>p);var i=e("../../utils/elementFinder"),n=e("../../logger"),l=e("~helper/commonHelpers");function s(e,t,r){let o=e.querySelector(".application-label");if(o){let e=d(o,r?.requiredquestionstatus),t=o.querySelector(".text");if(t){let r=t.cloneNode(!0);r.querySelectorAll('.required, [class*="required"]').forEach(e=>e.remove());let o=(r.textContent||"").trim(),l=(0,i.cleanQuestionText)(o).trim();return(0,n.log)(`\ud83d [Lever Custom Card] Extracted: "${l}"`),{isRequired:e,text:l}}{let t=o.cloneNode(!0);t.querySelectorAll('.required, [class*="required"]').forEach(e=>e.remove());let r=(t.textContent||"").trim(),l=(0,i.cleanQuestionText)(r).trim();return(0,n.log)(`\ud83d [Lever Custom Card Fallback] Extracted: "${l}"`),{isRequired:e,text:l}}}let l=t.getAttribute("id");if(l){let e=document.querySelector(`label[for="${l}"]`);if(e){let t=d(e,r?.requiredquestionstatus),o=e.cloneNode(!0);o.querySelectorAll('.required, [class*="required"]').forEach(e=>e.remove());let l=(o.textContent||"").trim(),s=(0,i.cleanQuestionText)(l).trim();return(0,n.log)(`\ud83d [Lever Custom Card Fallback] Extracted: "${s}"`),{isRequired:t,text:s}}}return{isRequired:!1,text:null}}function a(e){if("SELECT"===e.tagName){let t=Array.from(e.querySelectorAll("option")).filter(e=>e.value&&""!==e.value&&"Select..."!==e.value).map(e=>e.textContent?.trim()||e.value).filter(e=>e&&e.length>0);return(0,l.arrayToJsonString)(t)}if("radio"===e.getAttribute("type")){let t=e.getAttribute("name");if(t){let e=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),r=document.querySelectorAll(`input[type="radio"][name="${e}"]`),o=Array.from(r).map(e=>{let t=e.closest("label")?.querySelector(".eeo-option-text, .application-answer-alternative");if(t?.textContent)return t.textContent.trim();if(e.value)return e.value;let r=e.closest("label");if(r?.textContent){let e=r.textContent.trim(),t=e.split("\n");return t[0].trim()}return null}).filter(e=>e&&e.length>0);return(0,l.arrayToJsonString)(o)}}if("checkbox"===e.getAttribute("type")){let t=e.getAttribute("name");if(t){let e=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),r=document.querySelectorAll(`input[type="checkbox"][name="${e}"]`),o=Array.from(r).map(e=>{let t=e.closest("label")?.querySelector(".eeo-option-text, .application-answer-alternative");if(t?.textContent)return t.textContent.trim();if(e.value)return e.value;let r=e.closest("label");if(r?.textContent){let e=r.textContent.trim(),t=e.split("\n");return t[0].trim()}return null}).filter(e=>e&&e.length>0);return(0,l.arrayToJsonString)(o)}}return""}function c(e){return!!e.closest('[id*="eeoSurvey"], [data-qa="eeo-section"]')}function u(e=new Set,t){let r=[],o=new Set,i=new Set;(0,n.log)("\uD83C\uDFAF Starting Lever-specific question collection");let l=document.querySelectorAll(".application-question, .application-additional");(0,n.log)(`Found ${l.length} .application-question containers`);let c=0;for(let e of l){let l=e.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([type="file"]):not([id*="captcha"]):not([name*="baseTemplate"]), textarea:not([name*="baseTemplate"]), select:not([name*="baseTemplate"])');for(let u of((0,n.log)(`Found ${l.length} input elements in question container`),l)){c++;let l=null!==u.offsetParent,d=u.offsetWidth>0||u.offsetHeight>0,p=!u.hidden,m=l||d&&p;if(!m){(0,n.log)(`\u26a0\ufe0f [Lever] Element not visible:`,u);continue}if("radio"===u.getAttribute("type")){let e=u.getAttribute("name");if(e&&o.has(e))continue;e&&o.add(e)}if("checkbox"===u.getAttribute("type")){let e=u.getAttribute("name");if(e&&i.has(e))continue;e&&i.add(e)}let f=s(e,u,t),g=f?.text??"";if(!g){let e={tagName:u.tagName,type:u.getAttribute("type"),name:u.getAttribute("name"),id:u.getAttribute("id"),class:u.getAttribute("class")};(0,n.log)(`\u26a0\ufe0f [Lever] Could not extract question text from element:`,e,u);continue}(0,n.log)(`\u2713 [Lever] Extracted question: "${g}" from ${u.tagName}`);let h=g.toLowerCase().includes("file exceeds")||g.toLowerCase().startsWith("note:")||"Resume/CV"===g;if(h){(0,n.log)(`Skipping invalid Lever question: "${g.substring(0,50)}..."`);continue}let y=a(u),b="text";if("TEXTAREA"===u.tagName?b="text":"SELECT"===u.tagName?b="select":"checkbox"===u.getAttribute("type")?b="checkbox":"radio"===u.getAttribute("type")?b="radio":"email"===u.getAttribute("type")?b="email":"tel"===u.getAttribute("type")&&(b="phone"),("checkbox"===b||"radio"===b||"select"===b)&&(!y||""===y.trim())){(0,n.log)(`\u26a0\ufe0f Skipping Lever ${b} without options: "${g}"`);continue}let w=g.toLowerCase().trim(),S=r.some(e=>e.name.toLowerCase().trim()===w&&e.type===b);S||("which school do you attend?"===w&&"select"===b&&(b="text",y=""),r.push({name:g,type:b,options:y||"",is_required:f?.isRequired||!1}))}let u=e.querySelectorAll('input[type="file"]');for(let o of u){let i=s(e,o,t),n=i?.text??"";n&&n.toLowerCase().includes("cover letter")&&r.push({name:n,type:"file",options:"",is_required:i?.isRequired||!1})}}(0,n.log)(`\u2705 Collected ${r.length} Lever questions from ${l.length} containers, processed ${c} elements`);let u={};return r.forEach(e=>{u[e.type]=(u[e.type]||0)+1}),(0,n.log)(`Question types: ${JSON.stringify(u)}`),r}let d=(e,t)=>{try{if(!e||!(e instanceof HTMLElement)||!Array.isArray(t))return!1;for(let{selector:r}of t)if(e&&e?.querySelector(r))return!0;return!1}catch(e){return!1}};async function p(e=new Set,t){let r=[],o=new Set,i=new Set(["additional questions","resume/cv","full name","email","phone","current location","current company","linkedin url","other website"]),n=document.querySelectorAll(".application-question, .application-additional");for(let l of n){let n;try{n=l.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([id*="captcha"]):not([type="file"]), textarea, select')}catch(e){continue}for(let c of n)try{let n;let u=null!==c.offsetParent||(c.offsetWidth>0||c.offsetHeight>0)&&!c.hidden;if(!u)continue;try{n=s(l,c,t)}catch(e){continue}let d=n?.text?.trim();if(!d)continue;let p=d.toLowerCase(),m=p.includes("file exceeds")||p.startsWith("note:");if(m||e.has(p)||!i.has(p)||o.has(p))continue;o.add(p);let f="text",g=null;try{g=c.getAttribute("type")}catch(e){g="text"}"TEXTAREA"===c.tagName?f="text":"SELECT"===c.tagName?f="select":"checkbox"===g?f="checkbox":"radio"===g?f="radio":"email"===g?f="email":"tel"===g?f="phone":"file"===g&&(f="file");let h="";try{h=a(c)||""}catch(e){h=""}let y="";try{("INPUT"===c.tagName||"TEXTAREA"===c.tagName||"SELECT"===c.tagName)&&(c.tagName,y=c.value)}catch(e){}r.push({name:d,type:f,options:h,is_required:n?.isRequired||!1,isFilled:y})}catch(e){continue}}return r}},{"../../utils/elementFinder":"inTYG","../../logger":"8IkKh","~helper/commonHelpers":"gwFvg","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],LtvIM:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"IndeedPlatformHandler",()=>S);var i=e("../BasePlatformHandler"),n=e("../../logger"),l=e("../../utils/progressTracker"),s=e("../../utils/formFiller"),a=e("./IndeedQuestionCollector"),c=e("../../utils/elementFinder"),u=e("../../utils/ConsentCheckboxHandler"),d=e("../../utils/QuestionFilter"),p=e("../../utils/FormSubmitter"),m=e("../../utils/MultiStepFormNavigator"),f=e("../../utils/AsyncUtils"),g=e("../../utils/ApplicationStateChecker"),h=e("../../utils/DynamicStateMonitor"),y=e("../../utils/SuccessDetector"),b=e("~helper/commonHelpers"),w=e("~services/autofill/utils/MandatoryFieldValidator");class S extends i.BasePlatformHandler{constructor(){super("Indeed")}collectQuestions(e,t){return(0,a.collectIndeedQuestions)(e,t)}async uploadIndeedResume(e){if(!e.resume)return!1;(0,n.log)("\uD83D\uDCC4 Uploading resume to Indeed...");let t=document.querySelector('input[type="file"][data-testid="resume-selection-file-resume-upload-button-file-input"]');if(!t){let t=document.querySelector('[data-testid="resume-selection-file-resume-upload-button"]');if(t){(0,n.log)("Clicking upload resume button..."),t.click(),await (0,f.AsyncUtils).sleep(500);let r=document.querySelector('input[type="file"]');if(r){let t=await (0,s.uploadResume)(r,e.resume);if(t)return(0,n.log)("\u2713 Resume uploaded, waiting for preview..."),await this.waitForResumePreview(),!0}}return(0,n.log)("\u26a0\ufe0f Could not find Indeed resume upload input"),!1}let r=await (0,s.uploadResume)(t,e.resume);return!!r&&((0,n.log)("\u2713 Resume uploaded, waiting for preview..."),await this.waitForResumePreview(),!0)}async waitForResumePreview(){(0,n.log)("\u23f3 Waiting for Indeed resume preview to load...");for(let e=0;e<20;e++){let e=document.querySelector('[data-testid="resume-selection-file-resume-pdf-preview"]'),t=document.querySelector('input[name="resume-selection"][value="file"][checked]');if(e&&t){(0,n.log)("\u2705 Resume preview loaded successfully"),(0,n.log)("\u23f3 Waiting 5 seconds for form to process resume upload..."),await (0,f.AsyncUtils).sleep(5e3);return}await (0,f.AsyncUtils).sleep(500)}(0,n.log)("\u26a0\ufe0f Resume preview did not load within timeout")}async checkAlreadyApplied(){let e=()=>{let e=document.querySelector('#indeedApplyButton, [data-testid="indeedApplyButton-test"]');if(e){let t=e.textContent?.trim().toLowerCase()||"";if("applied"===t||t.includes("already applied"))return!0}let t=document.querySelectorAll('button, a, div[role="button"]');for(let e of t){let t=e.textContent?.trim().toLowerCase()||"";if("applied"===t)return!0}return!1},t=e();if(!t)return!1;(0,n.log)("\u26a0\ufe0f Indeed already applied detected - rechecking in 10 seconds to confirm..."),await (0,f.AsyncUtils).sleep(1e4);let r=e();return r?((0,n.log)("\u2705 Indeed already applied confirmed after 10-second recheck"),!0):((0,n.log)('\u2713 False positive - "Applied" status disappeared after 10 seconds, continuing...'),!1)}async clickApplyNowButton(e){(0,n.log)("\uD83D\uDDB1\ufe0f Attempting to click Indeed Apply Now button");let t=[];if(e?.multiFormData&&Array.isArray(e.multiFormData)){let r=e.multiFormData.filter(e=>"nextButtonText"===e.type&&e.nextButtonText).map(e=>e.nextButtonText.toLowerCase());t.push(...r),(0,n.log)(`\ud83d Button texts from config: ${t.join(", ")}`)}let r=t.length>0?t:["apply now","apply"],o=["#indeedApplyButton",'[data-testid="indeedApplyButton-test"]','button[aria-label*="Apply"]',".ia-IndeedApplyButton button"],i=0;for(;i<20;){for(let e of o){let t=document.querySelector(e);if(t){let e=t.textContent?.trim().toLowerCase()||"";if("loading"===e||""===e){(0,n.log)(`\u23f3 Button still loading, waiting... (${e||"empty"})`);break}let o=r.some(t=>e.includes(t)),i="applied"===e,l=e.includes("company site")||e.includes("employer's site");if(o&&!i&&!l)return(0,n.log)(`\u2713 Found Apply button: "${e}"`),t.scrollIntoView({behavior:"smooth",block:"center"}),await (0,f.AsyncUtils).sleep(500),t.click(),(0,n.log)("\u2705 Clicked Indeed Apply button"),await (0,f.AsyncUtils).sleep(2e3),!0}}++i<20&&await (0,f.AsyncUtils).sleep(500)}return(0,n.log)("\u26a0\ufe0f Could not find Indeed Apply button after waiting 10 seconds"),!1}async autofillBasicForm(e){(0,n.log)("\uD83C\uDFAF Starting Indeed-specific autofill");let t="",r="",o=null,i=null;if(e.seeker_response&&Array.isArray(e.seeker_response))for(let n of e.seeker_response){let e=(n?.q||"").toLowerCase();!t&&(e.includes("job title")||e.includes("recent job")||e.includes("current position"))&&(t=n.a||"",o=n.q||null),!r&&(e.includes("company")||e.includes("employer")||e.includes("organization"))&&(r=n.a||"",i=n.q||null)}let l=[{selectors:['input[data-testid="name-fields-first-name-input"]','input[name="names-first-name"]','input[name*="firstName"]'],value:e.first_name,label:"First Name"},{selectors:['input[data-testid="name-fields-last-name-input"]','input[name="names-last-name"]','input[name*="lastName"]'],value:e.last_name,label:"Last Name"},{selectors:['input[type="tel"]','input[name="phone"]','input[autocomplete="tel"]'],value:e.mobile_num,label:"Phone"},{selectors:['input[data-testid="location-fields-postal-code-input"]','input[name="location-postal-code"]','input[autocomplete="postal-code"]'],value:e.zip?.toString(),label:"Zip Code"},{selectors:['input[data-testid="location-fields-locality-input"]','input[name="location-locality"]','input[autocomplete="address-level2"]'],value:e.city&&e.state?`${e.city}, ${e.state}`:e.city,label:"City, State"},{selectors:['input[data-testid="location-fields-address-input"]','input[name="location-address"]','input[autocomplete="address"]'],value:e.address,label:"Street Address"},{selectors:['input[data-testid="job-title-input"]','input[name="jobTitle"]','input[id="job-title-input"]'],value:t,label:"Job Title",reportQ:o},{selectors:['input[data-testid="company-name-input"]','input[name="companyName"]','input[id="company-name-input"]'],value:r,label:"Company Name",reportQ:i}],a=0;for(let e of l){if(!e.value)continue;let t=!1;for(let r of e.selectors){let o=document.querySelector(r);if(o&&("text"===o.type||"tel"===o.type||"email"===o.type)){let r=(0,s.fillInput)(o,e.value);if(r){a++,t=!0,(0,n.log)(`\u2713 Filled ${e.label}: "${e.value}"`);break}}}await (0,f.AsyncUtils).sleep(200),e.reportQ&&(0,b.sendATSQuestionResult)(e.reportQ,t)}return(0,n.logSuccess)(`Indeed basic autofill completed: ${a} fields filled`),{success:!0,filledCount:a}}async waitForPreparingReviewGone(){try{let e=!1;for(let t=1;t<=20;t++){let t=Array.from(document.querySelectorAll("p")).find(e=>e.textContent?.trim().toLowerCase().includes("preparing review"));if(!t)return e&&(0,n.log)('"Preparing review" is gone, continuing to submission.'),{success:!0,message:'"Preparing review" finished'};e||((0,n.log)('\u23f3 "Preparing review" found on screen, waiting for it to finish...'),e=!0),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:90,message:"Waiting: Preparing review..."}).catch(()=>{}),await (0,f.AsyncUtils).sleep(500)}return(0,n.log)('\u26a0\ufe0f Timed out waiting for "Preparing review" to finish'),{success:!1,message:'Timed out waiting for "Preparing review" to disappear'}}catch(e){return(0,n.log)(`Error in waitForPreparingReviewGone: ${e}`),{success:!1,message:`Error: ${e}`}}}async processCurrentPage(e,t,r,o,i){let l=window.location.href,a=l.includes("resume-selection")||l.includes("resume-module")||l.includes("/resume-selection-module/"),m=l.includes("review-module")||l.includes("review/"),w=l.includes("questions-module")||l.includes("questions/"),S=l.includes("contact-info")&&!a;if((0,n.log)(`\ud83d Current page type: resumeSelection=${a}, review=${m}, questions=${w}, contactInfo=${S}`),a){(0,n.log)("\uD83D\uDCC4 On resume selection page - checking resume selection...");let t=document.querySelector('input[type="radio"][name="resume-selection"][checked]'),r=document.querySelector('input[type="radio"][name="resume-selection"]:checked');if(t||r)(0,n.log)("\u2713 Resume already selected");else{await this.uploadIndeedResume(e.seeker),(0,n.log)("Selecting file resume...");let t=document.querySelector('input[data-testid="resume-selection-file-resume-radio-card-input"]');t&&!t.checked&&(t.click(),await (0,f.AsyncUtils).sleep(500))}return}if(m){if(await this.waitForPreparingReviewGone(),(0,n.log)("\uD83D\uDCCB On review page - checking for final submission"),r){(0,n.log)("\uD83E\uDD16 Auto-apply enabled - looking for submit button");let r=["Submit your application"],o="Try again";if(t?.multiFormData&&Array.isArray(t.multiFormData)){let e=t.multiFormData.filter(e=>"lastButtonText"===e.type&&e.lastButtonText).map(e=>e.lastButtonText);if(e.length>0){r=e.filter(e=>!e.toLowerCase().includes("try again"));let t=e.filter(e=>e.toLowerCase().includes("try again"));t.length>0&&(o=t[0]),(0,n.log)(`\ud83d Submit buttons from config: ${r.join(", ")}`),(0,n.log)(`\ud83d Try again button from config: "${o}"`)}}(0,n.log)(`\ud83d\ufe0f Looking for submit button: "${r.join('" or "')}"`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:95,message:"Submitting application..."}).catch(()=>{});let i=!1,l=window.location.href;for(let e=1;e<=5;e++){(0,n.log)(`\ud83d\ufe0f Submit attempt ${e}/5`),e>1&&chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:95,message:`Submitting application... (attempt ${e}/5)`}).catch(()=>{});let t=!1;for(let o of r)if(t=await (0,p.FormSubmitter).submitForm(o)){(0,n.log)(`\u2705 Clicked submit button: "${o}" (attempt ${e})`);break}if(t){if((0,n.log)("\u23f3 Waiting 3 seconds to verify submission..."),await (0,f.AsyncUtils).sleep(3e3),window.location.href!==l){(0,n.log)("\u2705 URL changed - submission successful!"),i=!0;break}(0,n.log)(`\ud83d Checking for "${o}" button...`);let t=await (0,p.FormSubmitter).submitForm(o);if(t){if((0,n.log)(`\u26a0\ufe0f "${o}" button found and clicked - retrying submission...`),await (0,f.AsyncUtils).sleep(2e3),window.location.href!==l){(0,n.log)("\u2705 URL changed after try again - submission successful!"),i=!0;break}}else(0,n.log)(`\u26a0\ufe0f URL did not change and no "${o}" button found (attempt ${e})`)}else(0,n.log)(`\u26a0\ufe0f Submit button not found (attempt ${e}) - waiting before retry...`),await (0,f.AsyncUtils).sleep(3e3)}if(i){(0,n.log)("\u2705 Submit successful, waiting for confirmation..."),await (0,p.FormSubmitter).saveSubmissionState(String(e.application_id),String(e.copilot_job_id),t?.applicationStatus);let r=await (0,p.FormSubmitter).waitForSubmissionResult(t?.applicationStatus,15e3);await (0,p.FormSubmitter).clearSubmissionState(),r.detected&&r.isSuccess?((0,n.log)("\uD83C\uDF89 Submission successful!"),(0,h.DynamicStateMonitor).stopMonitoring(),(0,y.SuccessDetector).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:r.message,url:window.location.href}).catch(()=>{})):r.detected?((0,n.log)("\u274c Submission failed"),(0,h.DynamicStateMonitor).stopMonitoring(),(0,y.SuccessDetector).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"submissionFailed",message:r.message||"Application submission failed",url:window.location.href}).catch(()=>{})):(0,n.log)("\u23f1\ufe0f Submission result timeout or unclear")}else{(0,n.log)("\u274c Could not submit application after 5 attempts - checking if captcha is blocking");try{let e=(0,g.ApplicationStateChecker).checkCaptcha(t);if(!e.canContinue){(0,n.logError)(`\ud83e Captcha detected after failed submission: ${e.message}`),(0,h.DynamicStateMonitor).stopMonitoring(),(0,n.log)("\u2705 SuccessDetector still running - will detect success if user solves captcha"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{});return}}catch(e){(0,n.logError)(`\u26a0\ufe0f Captcha check failed: ${e}`)}(0,n.log)("\u274c Submission failed - likely missing required fields"),(0,h.DynamicStateMonitor).stopMonitoring(),(0,y.SuccessDetector).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"submissionError",message:"Application submission failed due to system error",url:window.location.href}).catch(()=>{})}}else(0,n.logSuccess)("Final page reached, waiting for manual submission"),(0,h.DynamicStateMonitor).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:100,message:"Form filled - Click on submit application button to proceed",url:window.location.href,removeNotification:!0}).catch(()=>{}),(0,n.log)("\uD83D\uDC41\ufe0f Manual mode - no form filling needed, waiting for manual submission");return}if(!a&&!m){if(S&&e?.seeker&&(await this.autofillBasicForm(e.seeker),await (0,f.AsyncUtils).sleep(1e3)),w){(0,n.log)("\uD83D\uDCCB Detected questions page - collecting questions...");let r=!1,o=0,i=0;for(let e=0;e<15;e++){await (0,f.AsyncUtils).sleep(1e3);let l=this.collectQuestions(new Set,t),s=l.length;if(s>0){if((0,n.log)(`\ud83d Check ${e+1}: Found ${s} questions`),s===o){if(i++,(0,n.log)(`\u2713 Question count stable (${i}/2 checks)`),i>=2){r=!0,(0,n.log)(`\u2705 Questions stabilized at ${s} questions`);break}}else(0,n.log)(`\u26a0\ufe0f Question count changed: ${o} \u2192 ${s}, resetting stability counter`),i=0;o=s}else(0,n.log)(`\u23f3 Waiting for questions to appear... (${e+1}/15)`),o=0,i=0}if(r){let r=this.collectQuestions(new Set,t),o=new Set(r.map(e=>(0,c.cleanQuestionText)(e.name).toLowerCase().trim()));(0,b.sendPageQuestionsToSidepanel)(r),e?.seeker&&await this.autofillDynamicSeekerFields(r,e.seeker);let i=[];if(e?.seeker?.seeker_response&&e.seeker.seeker_response.length>0){let t=(0,b.filterValidResponses)(e.seeker.seeker_response);(0,n.log)(`\ud83d Processing ${t.length} questions from seeker_response`);let r=t.filter(e=>{let t=(0,c.cleanQuestionText)(e?.q).toLowerCase().trim();return o.has(t)});for(let e of((0,n.log)(`\u2713 ${r.length} of ${t.length} questions exist on this page`),r)){let t=null!==e.a&&void 0!==e.a&&""!==e.a;if(t){let t=await (0,s.fillSeekerResponse)(e);t?(0,b.sendATSQuestionResult)(e.q,!0):((0,b.sendATSQuestionResult)(e.q,!1),i.push({question:(0,c.cleanQuestionText)(e?.q),type:e.type||"text",reason:"Could not find or fill field"}))}else(0,b.sendATSQuestionResult)(e.q,!1),i.push({question:(0,c.cleanQuestionText)(e?.q),type:e.type||"text",reason:"No answer provided"});await (0,f.AsyncUtils).sleep(400)}}let l=[...i.map(e=>({name:e.question,type:e.type||"text",options:""})),...r];(0,n.log)(`\ud83d Total ${l.length} Indeed questions`);let a=(0,d.QuestionFilter).filterUnansweredQuestions(l,e?.seeker),u=a.filter(e=>{let t=(0,c.cleanQuestionText)(e.name).toLowerCase().trim(),r=o.has(t);return r||(0,n.log)(`\u26a0\ufe0f Filtering out question not on current page: "${e.name}"`),r});(0,n.log)(`\u2713 Validated: ${u.length} questions need API answers`);let p=Array.from(new Map(u.map(e=>[(0,c.cleanQuestionText)(e.name).toLowerCase().trim(),e])).values());if(p.length>0){(0,n.log)(`\ud83d Fetching ${p.length} Indeed answers from API`);try{chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:88,message:`Fetching answers for ${p.length} questions...`}).catch(()=>{}),await (0,f.AsyncUtils).sleep(1e3);let t=await new Promise(t=>{chrome.runtime.sendMessage({action:"FETCH_ADDITIONAL_REQUIREMENTS",jobId:e.copilot_job_id,applicationId:e.application_id,requirements:p},t)});if((0,n.log)(`\ud83d API Response received`),t&&t.success&&t.data?.seeker?.seeker_response){(0,n.logAPI)(`Received ${t.data.seeker.seeker_response.length} Indeed answers`);let e=(0,b.filterValidResponses)(t.data.seeker.seeker_response);for(let r of(await (0,b.sendInvalidATSQuestionResults)(t.data.seeker.seeker_response),e)){let e=await (0,s.fillSeekerResponse)(r);if(e){(0,b.sendATSQuestionResult)(r.q,!0);let e=i.findIndex(e=>e.question===(0,c.cleanQuestionText)(r?.q));e>=0&&i.splice(e,1)}else{(0,b.sendATSQuestionResult)(r.q,!1);let e=(0,c.cleanQuestionText)(r?.q),t=i.find(t=>t.question===e);t||i.push({question:e,type:r.type||"text",reason:"Could not find or fill field"})}await (0,f.AsyncUtils).sleep(500)}await (0,b.waitForIsMissingUIShowToBeFalseOrTimeout)(),(0,n.log)(`\u2705 Finished processing ${e.length} API responses`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:90,message:`Filled ${e.length} questions from API`}).catch(()=>{})}else(0,n.logError)("API call failed or returned no data"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:90,message:"Processing questions page..."}).catch(()=>{})}catch(e){(0,n.logError)("Error fetching Indeed requirements",e),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:90,message:"Processing questions page..."}).catch(()=>{})}}(0,n.log)(`\ud83d Question processing complete: ${i.length} failed fields`)}else(0,n.log)("\u26a0\ufe0f No questions found on page after waiting")}await (0,u.ConsentCheckboxHandler).autoSelectConsentCheckboxes()}(0,n.log)("\u2705 Page content processing complete"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:92,message:"Page processed successfully"}).catch(()=>{})}async navigateIndeedPages(e,t,r,o,i,s){let a=i,c=Array.isArray(o)?o:[o],u=null;for((0,n.log)(`\ud83d Starting page navigation loop from depth ${a}`),(0,n.log)(`\ud83d Will try these buttons: ${c.join(", ")}`);a<s;){if(await (0,f.AsyncUtils).sleep(2e3),(0,l.progressTracker).isStopped()){(0,n.log)("\u23f9\ufe0f Process stopped");return}let o=window.location.href;if(await chrome.storage.local.set({complexFormInProgress:!0,complexFormData:{applicationDetails:e,complexInstructions:t,autoApplyEnabled:r,currentDepth:a,currentUrl:o,maxDepth:s}}),(0,n.log)(`\ud83d Processing page at depth ${a}: ${o}`),u===o){let e=await (0,w.MandatoryFieldValidator).hasValidationErrors(t,t?.applicationStatus,!0);if(e){(0,n.log)("\u274c Submission failed - likely missing required fields"),(0,h.DynamicStateMonitor).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"missing-questions",message:"Required fields are missing - application stuck after multiple submit attempts",url:window.location.href}).catch(()=>{});return}a++;continue}u=o,(0,n.log)("\uD83D\uDCDD Processing current page content before navigation..."),await this.processCurrentPage(e,t,r,a,s),(0,n.log)(`\u2713 Marked as processed: ${o}`);let i=await chrome.storage.local.get(["complexFormInProgress"]);if(!i.complexFormInProgress){(0,n.log)("\u26a0\ufe0f Process stopped by previous error (storage cleared) - exiting navigation");return}(0,n.log)("\uD83D\uDD0D Checking for captcha on page...");try{let e=(0,g.ApplicationStateChecker).checkCaptcha(t);if(!e.canContinue){(0,n.logError)(`\ud83e ${e.message}`),(0,h.DynamicStateMonitor).stopMonitoring(),(0,n.log)("\u2705 SuccessDetector still running - will detect success if user solves captcha"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{});return}(0,n.log)("\u2713 No captcha detected, continuing navigation")}catch(e){(0,n.logError)(`\u26a0\ufe0f Captcha check failed with error: ${e}`),(0,n.log)("\u2713 Continuing navigation despite captcha check error")}let d=t?.multiFormData,y=(0,m.MultiStepFormNavigator).isOnFinalPage(d),b=window.location.href,S=b.includes("/review-module")||o.includes("/review");if(y||S){a++;continue}(0,n.log)(`\ud83d\ufe0f Looking for next button (trying: ${c.join(", ")})...`);let x=!1;chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:85,message:"Looking for next button..."}).catch(()=>{});for(let e=1;e<=5;e++){for(let t of((0,n.log)(`\ud83d Next button attempt ${e}/5`),c)){let r=await (0,p.FormSubmitter).findButton(t);if(r){x=!0,(0,n.log)(`\u2705 Clicked "${t}" button (attempt ${e}/5)`),r.click();break}}if(await (0,f.AsyncUtils).sleep(2e3),x)break;e<5&&((0,n.log)(`\u26a0\ufe0f Next button not found, retrying in 5 seconds... (attempt ${e}/5)`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:85,message:`Looking for next button... (attempt ${e}/5)`}).catch(()=>{}),await (0,f.AsyncUtils).sleep(5e3))}if(!x){let e=window.location.href,t=e.includes("/review-module")||o.includes("/review");if(t){a=0;continue}(0,n.logError)(`\u274c Could not find any of these buttons after 5 retries: ${c.join(", ")}`),(0,h.DynamicStateMonitor).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"buttonNotFound",message:`None of these buttons found after 5 retries: ${c.join(", ")}`,url:window.location.href}).catch(()=>{});return}a++;let v=document.querySelector('[role="progressbar"]');if(v&&9==a){let e=v.getAttribute("aria-valuenow"),t=e?parseInt(e,10):NaN;if(!isNaN(t)&&t<100){a=0;continue}}}(0,n.logError)(`\u274c Maximum navigation depth (${s}) reached`),(0,h.DynamicStateMonitor).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"maxDepthReached",message:`Maximum navigation depth of ${s} reached`,url:window.location.href}).catch(()=>{})}async handleComplexForm(e,t,r,o=0,i=10){(0,n.log)("\uD83D\uDE80 Starting Indeed complex form workflow"),(0,n.log)(`\ud83d Current depth: ${o}/${i}`),await chrome.storage.local.set({complexFormInProgress:!0,complexFormData:{applicationDetails:e,complexInstructions:t,autoApplyEnabled:r,currentDepth:o,maxDepth:i}}),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:70,message:"Checking Indeed application..."}).catch(()=>{});let l=await this.checkAlreadyApplied();if(l){(0,n.logError)("Already applied to this Indeed job"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"alreadyApplied",message:"You have already applied to this job",url:window.location.href}).catch(()=>{});return}let s=(0,g.ApplicationStateChecker).checkAllStates(t);if(!s.canContinue){(0,n.logError)(`Cannot proceed: ${s.errorType} - ${s.message}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:s.errorType,message:s.message,url:window.location.href}).catch(()=>{});return}let a=window.location.href;(0,n.log)(`\ud83d Current URL: ${a}`);let c=a.includes("postresumeapply")||a.includes("indeedapply")||a.includes("form/")||a.includes("application"),u=!1;if(c?((0,n.log)("\uD83D\uDCCB Already in Indeed application flow - skipping Apply button click"),u=!0):(chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:74,message:"Clicking Indeed Apply button..."}).catch(()=>{}),u=await this.clickApplyNowButton(t)),!u){let e=(0,g.ApplicationStateChecker).checkAllStates(t);e.canContinue?((0,n.logError)("Could not find or click Indeed Apply button"),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:"buttonNotFound",message:"Could not find Apply button",url:window.location.href}).catch(()=>{})):((0,n.logError)(`Cannot proceed: ${e.errorType} - ${e.message}`),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{}));return}(0,h.DynamicStateMonitor).startMonitoring(t,e=>{(0,n.logError)(`Indeed error detected: ${e.errorType}`),(0,y.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_ERROR",errorType:e.errorType,message:e.message,url:window.location.href}).catch(()=>{})},2e3),(0,y.SuccessDetector).startMonitoring(t?.applicationStatus,async e=>{(0,n.logSuccess)(`Indeed application completed: ${e}`),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),(0,h.DynamicStateMonitor).stopMonitoring(),(0,y.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"COMPLEX_FORM_SUCCESS",message:e,url:window.location.href,success_next_job:!0}).catch(()=>{}),await (0,f.AsyncUtils).sleep(5e3)},2e3),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:75,message:"Processing Indeed form..."}).catch(()=>{}),(0,n.log)("\u23f3 Waiting for Indeed form to fully load..."),await (0,f.AsyncUtils).sleep(2e3);let d=t?.multiFormFlag===!0,p=t?.multiFormData;if(d&&p&&Array.isArray(p)){let l=[];for(let e of p)e.nextButtonText&&(Array.isArray(e.nextButtonText)?l.push(...e.nextButtonText):l.push(e.nextButtonText));let s=Array.from(new Set(l)),a=s.length>0?s:["Continue"];(0,n.log)(`\ud83d Available next buttons: ${a.join(", ")}`),(0,n.log)("\uD83D\uDD04 Starting Indeed multi-page processing and navigation loop..."),await this.navigateIndeedPages(e,t,r,a,o,i)}else(0,n.log)("\uD83D\uDCDD Single page form - processing current page only..."),await this.processCurrentPage(e,t,r,o,i),(0,n.logSuccess)("Form filled"),(0,h.DynamicStateMonitor).stopMonitoring(),await chrome.storage.local.remove(["complexFormInProgress","complexFormData"]),chrome.runtime.sendMessage({type:"COMPLEX_FORM_PROGRESS",progress:100,message:"Form filled - Click submit to proceed",url:window.location.href}).catch(()=>{})}async autofillDynamicSeekerFields(e,t){try{let r={"phone number":t.mobile_num,phone:t.mobile_num,"mobile number":t.mobile_num,"mobile phone":t.mobile_num,"contact number":t.mobile_num},o={};for(let t of e){let e=(0,c.cleanQuestionText)(t.name).toLowerCase().trim();(o[e]||=[]).push(t)}let i=Array.from(document.querySelectorAll('[data-testid^="input-q_"][data-testid$="-label"]'));for(let e in o){let n=r[e];if(n||null==t[e]||"object"==typeof t[e]||(n=t[e].toString()),n)for(let t of o[e]){try{let e=(0,c.cleanQuestionText)(t.name).toLowerCase().trim();for(let t of i){let r=t.querySelector('[data-testid="rich-text"]')??t,o=(0,c.cleanQuestionText)(r.textContent||"").toLowerCase().trim();if(o!==e)continue;let i=t.getAttribute("data-testid")||"",l=i.match(/input-(q_[a-f0-9]+)-label/);if(!l?.[1])continue;let a=document.querySelector(`[name="${l[1]}"]`);a instanceof HTMLInputElement&&(0,s.fillInput)(a,n)}}catch{}await (0,f.AsyncUtils).sleep(400)}}}catch(e){}}async handleMissingQuestions(e){console.log(e,"answer");for(let t=0;t<e.length;t++){let r=e[t];if(r){let e=null!==r.a&&void 0!==r.a&&""!==r.a;if(e){let e=await (0,s.fillSeekerResponse)(r);e?((0,b.sendATSQuestionResult)(r.q,!0),console.log("done")):((0,b.sendATSQuestionResult)(r.q,!1),console.log("not done"))}else(0,b.sendATSQuestionResult)(r.q,!1)}await (0,f.AsyncUtils).sleep(200)}return[]}}},{"../BasePlatformHandler":"bfgyN","../../logger":"8IkKh","../../utils/progressTracker":"cII7Q","../../utils/formFiller":"bV5He","./IndeedQuestionCollector":"g42T9","../../utils/elementFinder":"inTYG","../../utils/ConsentCheckboxHandler":"1VI5n","../../utils/QuestionFilter":"illN6","../../utils/FormSubmitter":"4z5Xf","../../utils/MultiStepFormNavigator":"kM2MG","../../utils/AsyncUtils":"kiClj","../../utils/ApplicationStateChecker":"e6uTN","../../utils/DynamicStateMonitor":"aW8m1","../../utils/SuccessDetector":"82Qns","~helper/commonHelpers":"gwFvg","~services/autofill/utils/MandatoryFieldValidator":"4ZWpj","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],g42T9:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"formatQuestionOptions",()=>s),o.export(r,"extractIndeedQuestionText",()=>c),o.export(r,"extractIndeedOptions",()=>u),o.export(r,"collectIndeedQuestions",()=>d);var i=e("../../logger"),n=e("../../utils/elementFinder"),l=e("~helper/commonHelpers");function s(e,t){if(!["select","radio","checkbox","dropdown"].includes(e.toLowerCase())||!t||""===t.trim())return"";let r=t.split(",").map(e=>e.trim()).filter(e=>e.length>0);return JSON.stringify(r)}function a(e,t){if(t){let e={"eeoc-disability":"Disability Status","eeoc-veteran":"Veteran Status","eeoc-race":"Race/Ethnicity","eeoc-gender":"Gender"};if(e[t])return e[t]}let r=e.split(/[.!]\s+/);for(let e=r.length-1;e>=0;e--){let t=r[e].trim();if(t.endsWith("?")){let e=t.replace(/^(For government reporting purposes,?|As set forth in.*?policy,?)/i,"").trim();if(e.length<200)return e}}return e}function c(e,t){let r=e.getAttribute("name");if(r&&r.startsWith("q_")){let e=`[data-testid="input-${r}-label"]`,o=document.querySelector(e);if(o){let e=o.querySelector('[data-testid="rich-text"]');if(e||(e=o.querySelector('[data-testid="safe-markup"]')),e){let r=e?.cloneNode(!0);r?.querySelectorAll('span[role="paragraph"]').forEach(e=>e.remove());let l=(r.textContent||"").trim();if(l&&l.length>0){let e=(0,n.cleanQuestionText)(l).trim();return(0,i.log)(`\ud83d [Indeed Custom Q] Extracted: "${e}"`),{isRequired:p(o,t?.requiredquestionstatus),text:e}}}}let l=document.querySelector(`[data-testid="input-${r}"]`);if(l){let e=l.querySelectorAll("label");for(let o of e)if(!o.getAttribute("for")){let e=o.querySelector('[data-testid="rich-text"]');if(e||(e=o.querySelector('[data-testid="safe-markup"]')),!e){let t=o.querySelector(`[data-testid="input-${r}-label"]`);!t||(e=t.querySelector('[data-testid="rich-text"]'))||(e=t.querySelector('[data-testid="safe-markup"]'))}if(e){let r=(e.textContent||"").trim();if(r&&r.length>0){let e=(0,n.cleanQuestionText)(r).trim();return(0,i.log)(`\ud83d [Indeed Container Q] Extracted: "${e}"`),{isRequired:p(o,t?.requiredquestionstatus),text:e}}}}}}let o=e.closest('[data-testid="single-select-question"]');if(o){let e=null,l=o.querySelectorAll("label");for(let t of l){let r=t.getAttribute("for");if(!r){e=t;break}}if(e){let o=e.querySelector('[data-testid="rich-text"]');if(o||(o=e.querySelector('[data-testid="safe-markup"]')),!o){let t=e.querySelector('[data-testid="single-select-question-label"]');!t||(o=t.querySelector('[data-testid="rich-text"]'))||(o=t.querySelector('[data-testid="safe-markup"]'))}if(o){let l="",s=o.querySelectorAll('[role="paragraph"]');if(s.length>0){let e=Array.from(s).map(e=>(e.textContent||"").trim());if(e.length>1){let t=e[1],r=t&&/^[a-z\s]/.test(t),o=e.some(e=>"Country"===e||"State"===e||"City"===e||e.startsWith("Provide valid"));l=r&&!o?e.join(" "):o&&e.filter(e=>e.length>10&&"Country"!==e&&"State"!==e&&"City"!==e&&!e.startsWith("Provide valid"))[0]||e[0]}else l=e[0]||""}else l=(o.textContent||"").trim();if(l&&l.length>0){let o=(0,n.cleanQuestionText)(l).trim();return(o.length>200||r?.startsWith("eeoc-"))&&(o=a(o,r||void 0)),(0,i.log)(`\ud83d [Indeed Single-Select] Extracted: "${o}"`),{isRequired:p(e,t?.requiredquestionstatus),text:o}}}let l=(e.textContent||"").trim();if(l&&l.length>0){let o=(0,n.cleanQuestionText)(l).trim();(o.length>200||r?.startsWith("eeoc-"))&&(o=a(o,r||void 0));let s=p(e,t?.requiredquestionstatus);return(0,i.log)(`\ud83d [Indeed Label Fallback] Extracted: "${o}"`),{isRequired:s,text:o}}}}if("checkbox"===e.getAttribute("type")){let r=e.closest("fieldset");if(r){let e=r.querySelector("legend");if(e){let r=e.querySelector('[data-testid="rich-text"]');if(r||(r=e.querySelector('[data-testid="safe-markup"]')),r){let o=(r.textContent||"").trim();if(o&&o.length>0){let r=(0,n.cleanQuestionText)(o).trim();return(0,i.log)(`\ud83d [Indeed Checkbox Fieldset] Extracted: "${r}"`),{isRequired:p(e,t?.requiredquestionstatus),text:r}}}let o=(e.textContent||"").trim();if(o&&o.length>0&&o.length<300){let r=(0,n.cleanQuestionText)(o).trim();return(0,i.log)(`\ud83d [Indeed Checkbox Legend] Extracted: "${r}"`),{isRequired:p(e,t?.requiredquestionstatus),text:r}}}}}let l=e.getAttribute("data-testid");if("text-question-input"===l){let r=e.getAttribute("id");if(r){let e=document.querySelector(`label[for="${r}"]`);if(e){let r=e.querySelector('[data-testid="rich-text"]');if(r||(r=e.querySelector('[data-testid="safe-markup"]')),r){let o=(r.textContent||"").trim();if(o&&o.length>0){let r=(0,n.cleanQuestionText)(o).trim();return(0,i.log)(`\ud83d [Indeed Text Question] Extracted: "${r}"`),{isRequired:p(e,t?.requiredquestionstatus),text:r}}}let o=e.querySelector('[data-testid="text-question-label"]');if(o){let r=o.querySelector('[data-testid="rich-text"]');if(r||(r=o.querySelector('[data-testid="safe-markup"]')),r){let o=(r.textContent||"").trim();if(o&&o.length>0){let r=(0,n.cleanQuestionText)(o).trim();return(0,i.log)(`\ud83d [Indeed Text Question Label] Extracted: "${r}"`),{isRequired:p(e,t?.requiredquestionstatus),text:r}}}}}}}if(l&&l.includes("-input")&&"text-question-input"!==l){let e=`[data-testid="${l.replace("-input","-label")}"]`,r=document.querySelector(e);if(r){let e=(r.textContent||"").trim();if(e&&e.length>0){let o=(0,n.cleanQuestionText)(e).trim();return(0,i.log)(`\ud83d [Indeed TestID] Extracted: "${o}"`),{isRequired:p(r,t?.requiredquestionstatus),text:o}}}}let s=e.getAttribute("id"),c=e.getAttribute("aria-labelledby");if(s||c){if(c){let r=document.getElementById(c);if(r){let o=(r.textContent||"").trim();if(o&&o.length>0){let r=(0,n.cleanQuestionText)(o).trim();return(0,i.log)(`\ud83d [Indeed aria-labelledby] Extracted: "${r}"`),{isRequired:p(e,t?.requiredquestionstatus),text:r}}}}if(s){let r=document.querySelector(`label[for="${s}"]`);if(r){let o=(r.textContent||"").trim();if(o&&o.length>0){let r=(0,n.cleanQuestionText)(o).trim();return(0,i.log)(`\ud83d [Indeed label[for]] Extracted: "${r}"`),{isRequired:p(e,t?.requiredquestionstatus),text:r}}}}}return{isRequired:!1,text:null}}function u(e){if("radio"===e.getAttribute("type")){let t=e.getAttribute("name");if(t){let e=t.replace(/\[/g,"\\[").replace(/\]/g,"\\]"),r=document.querySelectorAll(`input[type="radio"][name="${e}"]`),o=Array.from(r).map(e=>{let t=e.closest("label");if(t){let r=t.querySelectorAll("span"),o=null,n=1/0;for(let e of r){let r=e.textContent?.trim()||"";if(0===e.children.length&&r.length>0&&r.length<100){let i=0,l=e;for(;l&&l!==t;)i++,l=l.parentNode;(i<n||null===o)&&(n=i,o=r)}}if(o)return(0,i.log)(`\u2705 Extracted option text: "${o}" (value: ${e.value})`),o;let l=t.cloneNode(!0),s=l.querySelector("input");s&&s.remove();let a=l.textContent?.trim();if(a&&a.length>0&&a.length<100)return(0,i.log)(`\u2705 Extracted option text (label): "${a}" (value: ${e.value})`),a}return console.warn(`\u26a0\ufe0f Could not extract visible text for radio option with value="${e.value}". Skipping to avoid sending meaningless ID to AI.`),null}).filter(e=>e&&e.length>0);return(0,l.arrayToJsonString)(o)}}if("SELECT"===e.tagName){let t=Array.from(e.querySelectorAll("option")).filter(e=>e.value&&""!==e.value).map(e=>{let t=e.textContent?.trim();return t&&t.length>0&&"Select an option"!==t?t:!e.value||e.value.includes("FormsEngine.")||e.value.includes("Country:")?null:e.value}).filter(e=>e&&e.length>0);return(0,l.arrayToJsonString)(t)}if("checkbox"===e.getAttribute("type")){let t=e.getAttribute("name");if(t){(0,i.log)(`\ud83d Processing checkbox group with name: "${t}"`);let e=document.querySelectorAll(`input[type="checkbox"][name="${t}"]`);(0,i.log)(`\ud83d Found ${e.length} checkboxes in group`);let r=Array.from(e).map(e=>{(0,i.log)(`\ud83d Processing checkbox with value: "${e.value}"`);let t=e.closest("label");if(!t)return console.warn(`\u26a0\ufe0f No label found for checkbox with value="${e.value}"`),null;(0,i.log)(`\u2713 Found label for checkbox`);let r=t.querySelectorAll("span");(0,i.log)(`\ud83d Found ${r.length} spans in label`);let o=[];for(let e of r){let t=e.textContent?.trim()||"",r=0===e.children.length;(0,i.log)(`  - Span: "${t.substring(0,50)}" (children: ${e.children.length}, length: ${t.length})`),r&&t.length>0&&t.length<200&&o.push(t)}if((0,i.log)(`\u2713 Found ${o.length} leaf span texts: ${JSON.stringify(o)}`),o.length>0){let t=o[0];return(0,i.log)(`\u2705 Extracted checkbox option (leaf span): "${t}" (value: ${e.value})`),t}(0,i.log)(`\u26a0\ufe0f No leaf spans found, trying label text fallback...`);let n=t.cloneNode(!0),l=n.querySelector("input");l&&l.remove();let s=n.textContent?.trim();return((0,i.log)(`  Label text after removing input: "${s}"`),s&&s.length>0&&s.length<200)?((0,i.log)(`\u2705 Extracted checkbox option (label fallback): "${s}" (value: ${e.value})`),s):(console.warn(`\u26a0\ufe0f Could not extract text for checkbox with value="${e.value}". Skipping.`),null)}).filter(e=>e&&e.length>0);if((0,i.log)(`\ud83d Final checkbox options: ${JSON.stringify(r)}`),1===r.length&&1===e.length){let t=e[0];t.checked||((0,i.log)(`\u2705 Auto-selecting single checkbox option: "${r[0]}"`),t.click())}return(0,l.arrayToJsonString)(r)}}return""}function d(e=new Set,t=[]){let r=[],o=new Set,n=new Set;(0,i.log)("\uD83C\uDFAF Starting Indeed-specific question collection");let l=document.querySelectorAll('[data-testid^="input-q_"]'),s=document.querySelectorAll('[data-testid="single-select-question"]');(0,i.log)(`Found ${l.length} custom question inputs`),(0,i.log)(`Found ${s.length} demographic question containers`);let a=document.querySelectorAll('input:not([type="hidden"]):not([type="submit"]):not([type="button"]):not([type="file"]), textarea, select');(0,i.log)(`Found ${a.length} total input elements to process`);let d=new Set;for(let l of a){let s=null!==l.offsetParent,a=l.offsetWidth>0||l.offsetHeight>0,p=!l.hidden,m=s||a&&p;if(!m)continue;if("radio"===l.getAttribute("type")){let e=l.getAttribute("name");if(e&&n.has(e))continue;e&&n.add(e)}if("checkbox"===l.getAttribute("type")){let e=l.getAttribute("name");if(e&&d.has(e))continue;e&&d.add(e)}let f=c(l,t),g=f?.text??"";if(!g){let e=`${l.tagName}[type="${l.getAttribute("type")}"][name="${l.getAttribute("name")}"]`;console.warn(`\u26a0\ufe0f Could not extract question text for element: ${e}`);continue}let h="First name"===g||"Last name"===g||"Email"===g||"Phone number"===g||"Age"===g;if(h){(0,i.log)(`Skipping Indeed auto-filled field or option label: "${g}"`);continue}let y=u(l),b=l.placeholder||"",w=l.getAttribute("name")||"",S=b.includes("MM/DD/YYYY")||b.includes("MM/DD/YY")||b.includes("YYYY-MM-DD")||w.toLowerCase().includes("date")||g.toLowerCase().includes("date available")||g.toLowerCase().includes("start date")||g.toLowerCase().includes("available date"),x=g;if(S&&b){let e=b.match(/(MM\/DD\/YYYY|MM\/DD\/YY|YYYY-MM-DD|DD\/MM\/YYYY)/i);e&&(x=`${g} (${e[0]})`,(0,i.log)(`\ud83d\udcc5 Date field detected: "${x}"`))}let v=l.getAttribute("name");if(v&&v.startsWith("q_")){let e=`[data-testid="input-${v}-counter"]`,t=document.querySelector(e);if(t){let e=t.textContent?.trim()||"",r=e.match(/\d+\s*\/\s*(\d+)/);if(r&&r[1]){let e=r[1];x=`${x} (maximum ${e} characters)`,(0,i.log)(`\ud83d Character limit detected: "${x}"`)}}}let C=x.toLowerCase().trim();if(o.has(C)){(0,i.log)(`\u23ed\ufe0f Skipping duplicate question: "${x}"`);continue}if(e.has(C)){(0,i.log)(`\u23ed\ufe0f Skipping excluded question: "${x}"`);continue}o.add(C);let A="text";if(S?A="Date":"TEXTAREA"===l.tagName?A="text":"SELECT"===l.tagName?A="select":"radio"===l.getAttribute("type")?A="radio":"checkbox"===l.getAttribute("type")?A="checkbox":"email"===l.getAttribute("type")?A="email":"tel"===l.getAttribute("type")?A="phone":("number"===l.getAttribute("type")||"numeric"===l.getAttribute("inputmode"))&&(A="text"),("radio"===A||"select"===A||"checkbox"===A)&&(!y||""===y.trim())){(0,i.log)(`\u26a0\ufe0f Skipping Indeed ${A} without options: "${x}"`);continue}(0,i.log)(`\ud83d Indeed Question: "${x}" [${A}] options: ${y||"N/A"}`),r.push({name:x,type:A,options:y||"",is_required:f?.isRequired||!1})}(0,i.log)(`\u2705 Collected ${r.length} Indeed questions`);let p={};return r.forEach(e=>{p[e.type]=(p[e.type]||0)+1}),(0,i.log)(`Question types: ${JSON.stringify(p)}`),r}let p=(e,t)=>{try{if(!e||!(e instanceof HTMLElement)||!Array.isArray(t))return!1;for(let{selector:r}of t)if(e?.querySelector(r))return!0;let r=e?.closest("label");if(r){for(let{selector:e}of t)if(r.querySelector(e))return!0}return!1}catch(e){return!1}}},{"../../logger":"8IkKh","../../utils/elementFinder":"inTYG","~helper/commonHelpers":"gwFvg","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"6IcN5":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"UniversalPlatformHandler",()=>s);var i=e("../BasePlatformHandler"),n=e("../autofillOrchestrator"),l=e("./complexFormHandler");class s extends i.BasePlatformHandler{constructor(){super("Universal")}async autofillBasicForm(e){return await (0,n.autofillForm)(e,!0),{success:!0,filledCount:0}}async handleComplexForm(e,t,r){await (0,l.handleComplexForm)(e,t,r)}async handleMissingQuestions(e){await (0,l.handleMissingQuestions)(e)}}},{"../BasePlatformHandler":"bfgyN","../autofillOrchestrator":"iMUKJ","./complexFormHandler":"edzoI","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"3Qx1p":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PlatformHandlerFactory",()=>c);var i=e("./lever/LeverPlatformHandler"),n=e("./indeed/IndeedPlatformHandler"),l=e("./universal/UniversalPlatformHandler"),s=e("../config/PlatformDetector"),a=e("../logger");class c{static{this.handlerCache=new Map}static getHandler(e){let t;let r=(0,s.PlatformDetector).detect(e),o=r.name.toLowerCase();if(this.handlerCache.has(o))return this.handlerCache.get(o);switch(o){case"lever":t=new i.LeverPlatformHandler,(0,a.log)("\uD83C\uDFAF Using Lever-specific handler");break;case"indeed":t=new n.IndeedPlatformHandler,(0,a.log)("\uD83C\uDFAF Using Indeed-specific handler");break;default:t=new l.UniversalPlatformHandler,(0,a.log)(`\ud83c Using universal handler for ${r.name}`)}return this.handlerCache.set(o,t),t}static hasSpecificHandler(e){let t=e.toLowerCase();return"lever"===t||"indeed"===t}static clearCache(){this.handlerCache.clear()}static getAvailableHandlers(){return["Lever","Indeed","Universal (default)"]}}},{"./lever/LeverPlatformHandler":"6UPR7","./indeed/IndeedPlatformHandler":"LtvIM","./universal/UniversalPlatformHandler":"6IcN5","../config/PlatformDetector":"eJ3Ph","../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],eJ3Ph:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"PlatformDetector",()=>n);var i=e("./ats-platforms.config");class n{static{this.detectedPlatform=null}static detect(e){let t=e||window.location.href;if(this.detectedPlatform)return this.detectedPlatform;for(let[e,r]of Object.entries(i.ATS_PLATFORMS))if("default"!==e){for(let e of r.urlPatterns)if(t.includes(e))return this.detectedPlatform=r,r}return this.detectedPlatform=i.ATS_PLATFORMS.default,i.ATS_PLATFORMS.default}static getCurrent(){return this.detectedPlatform?this.detectedPlatform:this.detect()}static reset(){this.detectedPlatform=null}static is(e){let t=this.getCurrent();return t.name.toLowerCase()===e.toLowerCase()}static getTiming(){return this.getCurrent().timing}static getSelectors(){return this.getCurrent().selectors}static getFeatures(){return this.getCurrent().features||{}}static getStrategies(){return this.getCurrent().strategies||[]}}},{"./ats-platforms.config":"cyXjz","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],cyXjz:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"ATS_PLATFORMS",()=>i);let i={indeed:{name:"Indeed",urlPatterns:["indeed.com/viewjob","indeed.com/applystart","m5.apply.indeed.com","smartapply.indeed.com"],selectors:{questionContainer:'[data-testid*="question"]',labelContainer:'label[id*="label"]',surveySection:'[data-testid*="demographic"]'},timing:{fillDelay:350,waitForDynamic:1500,betweenFields:400},strategies:["AriaLabel","LabelAssociation","Placeholder","Attribute","SiblingStructure","ParentContainer"],features:{supportsSurveys:!0,supportsCustomComponents:!0,requiresExtraWait:!0}},lever:{name:"Lever",urlPatterns:["lever.co","jobs.lever.co"],selectors:{questionContainer:".application-question",labelContainer:".application-label",fieldContainer:".application-field",answerText:".application-answer-alternative",surveySection:'[id*="Survey"], [id*="survey"]'},timing:{fillDelay:300,waitForDynamic:2e3,betweenFields:400},strategies:["LeverApplicationQuestion","LabelAssociation","Placeholder","AriaLabel","SiblingStructure","Attribute","ParentContainer"],features:{supportsSurveys:!0,supportsCustomComponents:!0,requiresExtraWait:!0}},greenhouse:{name:"Greenhouse",urlPatterns:["greenhouse.io","boards.greenhouse.io"],selectors:{questionContainer:".application-question",surveySection:'[data-qa*="survey"]'},timing:{fillDelay:200,waitForDynamic:1e3,betweenFields:300},strategies:["LabelAssociation","Placeholder","AriaLabel","Attribute","SiblingStructure","ParentContainer"],features:{supportsSurveys:!1,supportsCustomComponents:!1,requiresExtraWait:!1}},workday:{name:"Workday",urlPatterns:["myworkdayjobs.com","wd1.myworkdayjobs.com","wd5.myworkdayjobs.com"],selectors:{questionContainer:'[data-automation-id*="formField"]'},timing:{fillDelay:400,waitForDynamic:1500,betweenFields:500},strategies:["AriaLabel","LabelAssociation","Placeholder","Attribute","SiblingStructure","ParentContainer"],features:{supportsSurveys:!1,supportsCustomComponents:!0,requiresExtraWait:!0}},taleo:{name:"Taleo",urlPatterns:["taleo.net"],selectors:{},timing:{fillDelay:300,waitForDynamic:1e3,betweenFields:300},strategies:["LabelAssociation","Placeholder","AriaLabel","Attribute","SiblingStructure","ParentContainer"],features:{supportsSurveys:!1,supportsCustomComponents:!1,requiresExtraWait:!1}},default:{name:"Generic ATS",urlPatterns:[],selectors:{surveySection:'[id*="Survey"], [id*="survey"], [data-qa*="survey"]'},timing:{fillDelay:300,waitForDynamic:1500,betweenFields:300},strategies:["LeverApplicationQuestion","LabelAssociation","Placeholder","AriaLabel","Attribute","SiblingStructure","ParentContainer"],features:{supportsSurveys:!0,supportsCustomComponents:!0,requiresExtraWait:!0}}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],dSc5C:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"FileFieldFiller",()=>n);var i=e("../logger");class n{static findGreenhouseFileInput(){let e=document.querySelector('.s3-upload-form[data-presigned-form="resume"] form#s3_upload_for_resume');if(e){let t=e.querySelector('input[type="file"]');if(t)return(0,i.log)("\u2713 Found file input in S3 upload form"),t}let t=document.getElementById("s3_upload_for_resume");if(t){let e=t.querySelector('input[type="file"]');if(e)return(0,i.log)("\u2713 Found file input in s3_upload_for_resume"),e}let r=document.querySelector('.attach-or-paste[data-field="resume"]');if(r){let e=r.querySelector('input[type="file"]');if(e)return(0,i.log)("\u2713 Found file input in attach-or-paste container"),e}let o=document.getElementById("resume_fieldset");if(o){let e=o.querySelector('input[type="file"]');if(e)return(0,i.log)("\u2713 Found file input in resume_fieldset"),e}let n=document.querySelectorAll('input[type="file"][name="file"]');return n.length>0?((0,i.log)('\u2713 Found file input with name="file"'),n[0]):((0,i.log)("\u26a0\ufe0f No file input found for resume"),null)}static async triggerGreenhouseAttachButton(){let e=document.querySelectorAll('button[data-source="attach"]'),t=null;for(let r of e){let e=r.closest(".attach-or-paste");if(e&&"resume"===e.getAttribute("data-field")){t=r;break}}return(t||(t=e[0]),t)?((0,i.log)("\u2713 Clicking Attach button"),t.click(),await new Promise(e=>setTimeout(e,500)),this.findGreenhouseFileInput()):((0,i.log)("\u26a0\ufe0f No attach button found"),null)}constructor(){this.uploadedFileInputs=new WeakSet}}},{"../logger":"8IkKh","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],j3GGH:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"atsNamesWithoutSuccessURLCheck",()=>i),o.export(r,"IGNORED_QUESTION_NAMES",()=>n);let i=["GreenHouse","Lever","BreezyHR"],n=["Apply for this Job"]},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],dsyOD:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"handleManualForm",()=>c);var i=e("../../logger"),n=e("../../utils/ApplicationStateChecker"),l=e("../../utils/DynamicStateMonitor"),s=e("../../utils/SuccessDetector"),a=e("../../utils/AsyncUtils");let c=async(e,t,r)=>{try{let e=t?.applicationStatus?.success?.find(e=>"webRequest"===e.type);e&&e.apiEndpoint?localStorage.setItem("apiWebRequest",e.apiEndpoint):localStorage.removeItem("apiWebRequest")}catch(e){localStorage.removeItem("apiWebRequest")}await (0,a.AsyncUtils).sleep(2e3);let o=(0,n.ApplicationStateChecker).checkAllStatesForManual(t);if(o.canContinue)chrome.runtime.sendMessage({type:"MANUAL_FORM_PROGRESS"}).catch(()=>{});else{chrome.runtime.sendMessage({type:"MANUAL_FORM_ERROR_SUCCESS_MESSAGE",errorType:o.errorType,message:o.message,url:window.location.href,applicationDetails:e}).catch(()=>{});return}(0,l.DynamicStateMonitor).startMonitoring(t,t=>{(0,i.logError)(`Dynamic error detected during autofill: ${t.errorType}`),(0,s.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"MANUAL_FORM_ERROR_SUCCESS_MESSAGE",errorType:t.errorType,message:t.message,url:window.location.href,applicationDetails:e}).catch(()=>{})},2e3),(0,s.SuccessDetector).startMonitoring(t?.applicationStatus,async t=>{(0,i.logSuccess)(`Application completed: ${t}`),(0,l.DynamicStateMonitor).stopMonitoring(),(0,s.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"MANUAL_FORM_ERROR_SUCCESS_MESSAGE",message:t,url:window.location.href,applicationDetails:e,isSuccess:!0}).catch(()=>{})},2e3),window.addEventListener("message",async t=>{t.data&&"SUCCESS_NETWORK"===t.data.type&&((0,l.DynamicStateMonitor).stopMonitoring(),(0,s.SuccessDetector).stopMonitoring(),chrome.runtime.sendMessage({type:"MANUAL_FORM_ERROR_SUCCESS_MESSAGE",message:"successMessage",url:window.location.href,applicationDetails:e,isSuccess:!0}).catch(()=>{}))})}},{"../../logger":"8IkKh","../../utils/ApplicationStateChecker":"e6uTN","../../utils/DynamicStateMonitor":"aW8m1","../../utils/SuccessDetector":"82Qns","../../utils/AsyncUtils":"kiClj","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],k7ujZ:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"findMatchingButtons",()=>n);var i=e("./commonHelpers");let n=async e=>{try{let t=Array.isArray(e?.complexInstructions?.multiFormData)?e.complexInstructions.multiFormData.map(e=>e.nextButtonText||e.lastButtonText).filter(Boolean):[],r="function"==typeof i.queryAllWithShadow?(0,i.queryAllWithShadow)('button, input[type="submit"], input[type="button"], [role="button"]'):[];for(let e of r){let r=(e.textContent?.trim()||e.value||"").toLowerCase();if(t.some(e=>{let t=e.toLowerCase();return r===t||r.includes(t)})&&null!==e.offsetParent&&!e.hasAttribute("disabled"))return!0}return!1}catch(e){return!1}}},{"./commonHelpers":"gwFvg","@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],isG7X:[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"createNotificationHtmlBase",()=>l),o.export(r,"removeHtmlNotificationAndBackdrop",()=>a),o.export(r,"showHtmlNotificationAt",()=>c);let i="optimhire-shadow-container",n=null,l=()=>{if(document.getElementById(i))return;let e=document.createElement("div");e.id=i,e.style.position="absolute",e.style.top="0",e.style.left="0",e.style.zIndex="2147483640";let t=document.documentElement?document.documentElement:document.body;t?t.appendChild(e):document.body.appendChild(e),n=e.attachShadow({mode:"open"});let r=document.createElement("style");r.textContent=`
    #optimhire-html-click-notification-backdrop {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.12);
      z-index: 2147483643;
    }
    #optimhire-html-click-notification {
      display: none;
      position: fixed;
      z-index: 2147483647;
      align-items: flex-end;
      transition: opacity 0.15s, transform 0.18s;
    }
    #optimhire-html-click-notification > div:first-child {
      background: #383C42;
      color: #fff;
      padding: 20px;
      border-radius: 13px;
      box-shadow: 0 6px 32px rgba(0,0,0,0.22);
      font-size: 15px;
      font-family: system-ui,Arial,sans-serif;
      width: 305px;
      text-align: left;
      display: flex;
      flex-direction: column;
      gap: 12px;
      position: relative;
    }
    #optimhire-html-click-notification > div:first-child > div[style*="position:absolute;"] {
      position: absolute;
      right: -17px;
      top: 35px;
      width: 0;
      height: 0;
      border-top: 11px solid transparent;
      border-bottom: 11px solid transparent;
      border-left: 18px solid #383C42;
      pointer-events: none;
    }
    #optimhire-html-msg {
      font-weight: 500;
      line-height: 1.35;
    }
    #optimhire-html-ok-btn {
      background: #247fd9;
      color: #fff;
      padding: 6px 18px;
      font-weight: 600;
      font-size: 13.5px;
      border: none;
      border-radius: 7px;
      box-shadow: 0 2px 6px #1b4e8822;
      margin-top: 5px;
      margin-right: auto;
      cursor: pointer;
      display: inline-block;
    }
    #optimhire-html-click-notification > div:last-child {
      margin-left: 20px;
      margin-bottom: 45px;
      position: relative;
      z-index: 1;
    }
    #optimhire-html-profile-img {
      display: block;
      width: 54px;
      height: 54px;
      border-radius: 50%;
      box-shadow: 0 3px 10px rgba(44,49,55,0.22);
      border: 4px solid #fff;
      background: #f4f4f4;
    }
    #optimhire-html-close-btn {
      position: absolute;
      left: 18px;
      top: 13px;
      width: 56px;
      height: 56px;
      background: #333;
      border: none;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      z-index: 2147483644;
    }
  `;let o=`
    <div id="optimhire-html-click-notification-backdrop">
      <button type="button"
              id="optimhire-html-close-btn"
              class="ignore-one-minute-backdrop"
              aria-label="Close notification">
        <svg width="40" height="40" viewBox="0 0 40 40" style="display:block" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="20" cy="20" r="20" fill="#333"/>
          <line x1="12" y1="12" x2="28" y2="28" stroke="#fff" stroke-width="5.5" stroke-linecap="round"/>
          <line x1="28" y1="12" x2="12" y2="28" stroke="#fff" stroke-width="5.5" stroke-linecap="round"/>
        </svg>
      </button>
    </div>
    <div id="optimhire-html-click-notification">
      <div>
        <div style="position:absolute; right:-17px; top:35px; width:0; height:0;
          border-top:11px solid transparent; border-bottom:11px solid transparent; border-left:18px solid #383C42; pointer-events:none;"></div>
        <div id="optimhire-html-msg">Just give me a minute more to finish filling out the form.</div>
        <button id="optimhire-html-ok-btn"
                class="ignore-one-minute-backdrop"
                type="button">
          OK
        </button>
      </div>
      <div>
        <img id="optimhire-html-profile-img"
             src=""
             alt="User"
             width="54"
             height="54"/>
      </div>
    </div>
  `;n.appendChild(r);let l=document.createElement("div");for(let e of(l.innerHTML=o,Array.from(l.childNodes)))n.appendChild(e);let s=n.getElementById("optimhire-html-profile-img");if(s)try{s.src=chrome.runtime.getURL("assets/icon.png")}catch(e){}u()},s=()=>{if(!n)return;let e=n.getElementById("optimhire-html-click-notification");e&&(e.style.display="none")},a=(e=!0)=>{e&&localStorage.removeItem("setFormFillingProcess");let t=document.getElementById(i);t&&t.parentElement&&(t.parentElement.removeChild(t),n=null)},c=(e,t)=>{if(!n)return;let r=n.getElementById("optimhire-html-click-notification"),o=n.getElementById("optimhire-html-click-notification-backdrop");if(!r||!o)return;let i=e-40,l=t-10,s=Math.max(window.innerWidth,document.documentElement.clientWidth),a=Math.max(window.innerHeight,document.documentElement.clientHeight);i=Math.min(i=Math.max(i,195),s-160-45),l=Math.min(l=Math.max(l,178),a-24),r.style.left=`${i}px`,r.style.top=`${l}px`,r.style.opacity="0",r.style.transform="translate(-50%, -120%)",r.style.display="flex",o.style.display="block",requestAnimationFrame(()=>{r.style.opacity="1",r.style.transform="translate(-50%, -100%)"})},u=()=>{setTimeout(()=>{if(!n)return;let e=n.getElementById("optimhire-html-ok-btn");e&&!e.hasAttribute("__one_minute_ok_handler")&&(e.addEventListener("click",e=>{e.stopPropagation(),s()}),e.setAttribute("__one_minute_ok_handler","true"));let t=n.getElementById("optimhire-html-close-btn");t&&!t.hasAttribute("__one_minute_close_handler")&&(t.addEventListener("click",e=>{e.stopPropagation(),a()}),t.setAttribute("__one_minute_close_handler","true"))},20)}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}],"6YFM9":[function(e,t,r){var o=e("@parcel/transformer-js/src/esmodule-helpers.js");o.defineInteropFlag(r),o.export(r,"removeToast",()=>i),o.export(r,"showToast",()=>n);let i=()=>{try{chrome.storage.local.set({openSidepanelInTab:!0});let e=document.getElementById("optimhire-toast-shadow-host");e&&e.parentNode&&e.parentNode.removeChild(e);let t=document.getElementById("optimhire-toaster");t&&t.parentNode&&t.parentNode.removeChild(t);let r=document.getElementById("optimhire-toast-backdrop");r&&r.parentNode&&r.parentNode.removeChild(r)}catch(e){}},n=()=>{try{let e=document.createElement("div");e.id="optimhire-toast-shadow-host",e.style.position="fixed",e.style.top="0",e.style.left="0",e.style.width="100vw",e.style.height="100vh",e.style.zIndex="1073741821",i();let t=e.attachShadow({mode:"open"}),r=document.createElement("div");r.id="optimhire-toast-backdrop",r.setAttribute("style",`
            position: fixed !important;
            top: 0 !important;
            left: 0 !important;
            width: 100vw !important;
            height: 100vh !important;
            background: rgba(0,0,0,0.34) !important;
            z-index: 1073741822 !important;
            pointer-events: none !important;
            border: none !important;
            margin: 0 !important;
            padding: 0 !important;
        `);let o=document.createElement("div");o.id="optimhire-toaster",Object.assign(o.style,{position:"fixed",top:"24px",left:"50%",transform:"translateX(-50%)",width:"598px",height:"400px",minWidth:"598px",maxWidth:"598px",minHeight:"400px",maxHeight:"400px",boxShadow:"0 6px 24px rgba(60,72,88,0.14), 0 1.5px 4px rgba(44,62,80,0.16)",background:"#fff",border:"1.2px solid #2196f3",borderRadius:"16px",zIndex:"1073741823",padding:"30px",transition:"opacity 0.25s, transform 0.24s cubic-bezier(.45,0,.2,1)",opacity:"1",pointerEvents:"auto",fontFamily:"system-ui, Arial, sans-serif",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column",textAlign:"center",boxSizing:"border-box"}),o.innerHTML=`
        <div
          style="
            display: flex !important;
            flex-direction: column !important;
            align-items: center !important;
            justify-content: center !important;
            cursor: pointer !important;
            box-sizing: border-box !important;
            text-align: center !important;
            height: 100% !important;
            position: relative !important;
            width: 100% !important;
            z-index: 2 !important;
          "
        >
          <img
            src="${chrome.runtime.getURL("assets/logo-wide.svg")}"
            alt="icon"
            style="
              border-radius: 20px !important;
              box-sizing: border-box !important;
              margin-bottom: 26px !important;
              display: block !important;
              margin-left: auto !important;
              margin-right: auto !important;
              width: 265px !important;
            "
          />
          <div style="display: flex !important; flex-direction: column !important; align-items: center !important;">
            <span
              style="
                font-size: 23px !important;
                font-weight: 700 !important;
                color: red !important;
                letter-spacing: 0.12px !important;
                font-family: system-ui, Arial, sans-serif !important;
                margin-bottom: 25px !important;
                text-align: center !important;
              "
            >
              Action required
            </span>
            <span
              style="
                font-size: 16px !important;
                font-weight: 600 !important;
                color: #000000 !important;
                font-family: system-ui, Arial, sans-serif !important;
                text-align: center !important;
                margin-bottom: 40px !important;
                width: 368px !important;
              "
            >
              Please click the button below to open OptimHire's side panel.
            </span>
          </div>
          <button
            id="optimhire-toast-button"
            style="
              padding: 15px 40px !important;
              font-size: 15px !important;
              font-weight: 600 !important;
              background: #2196f3 !important;
              border-radius: 8px !important;
              border: none !important;
              color: #fff !important;
              cursor: pointer !important;
              box-shadow: 0px 2px 8px 0 rgba(60, 72, 88, 0.14) !important;
              transition: background 0.18s !important;
              outline: none !important;
              font-family: system-ui, Arial, sans-serif !important;
            "
          >
            Open Side Panel
          </button>
        </div>
      `;try{o.animate([{opacity:0,transform:"translateX(-50%) translateY(-24px)"},{opacity:1,transform:"translateX(-50%) translateY(0)"}],{duration:260,fill:"forwards",easing:"cubic-bezier(.33,2,.36,.99)"})}catch(e){}t.appendChild(r),t.appendChild(o),document.body.appendChild(e),o.addEventListener("click",()=>{try{chrome.runtime.sendMessage({action:"OPEN_SIDE_PANEL_BY_TOAST_CLICK"})}catch(e){}try{o.animate([{opacity:1,transform:"translateX(-50%) translateY(0)"},{opacity:0,transform:"translateX(-50%) translateY(-32px)"}],{duration:220,fill:"forwards",easing:"ease"})}catch(e){}setTimeout(()=>{i()},240)}),setTimeout(()=>{try{o.animate([{opacity:1,transform:"translateX(-50%) translateY(0)"},{opacity:0,transform:"translateX(-50%) translateY(-32px)"}],{duration:220,fill:"forwards",easing:"ease"})}catch(e){}setTimeout(()=>{i();try{chrome.storage.local.set({openSidepanelInTab:!0})}catch(e){}},240)},36e5)}catch(e){}}},{"@parcel/transformer-js/src/esmodule-helpers.js":"fRZO2"}]},["bSxCW"],"bSxCW","parcelRequire46b6"),globalThis.define=t;